(function(){var m={},D=function(){return e.Boot.__string_rec(this,"")},F=function(){};m.Adblock=F;F.__name__=["Adblock"];F.init=function(){F.hideAll(e.Browser.document.body.getElementsByClassName("promoted"));F.hideAll(e.Browser.document.body.getElementsByClassName("infobar"));F.hideAll(e.Browser.document.body.getElementsByClassName("goldvertisement"));var a=e.Browser.document.getElementById("spotlight-help");null!=a&&j.show(a.parentNode.parentNode,!1);a=e.Browser.document.getElementById("ad-frame");
null!=a&&j.show(a,!1)};F.hideAll=function(a){for(var b=0,c=a.length;b<c;){var d=b++;j.show(a[d],!1)}};var N=function(){};m.DuplicateHider=N;N.__name__=["DuplicateHider"];N.init=function(){for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&(O.has(a,d.href)?j.show(d.parentElement.parentElement.parentElement,!1):a.push(d.href))}};var k=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};m.EReg=k;k.__name__=["EReg"];k.prototype={replace:function(a,b){return a.replace(this.r,
b)},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:h.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;a=b}else{if(c=this.match(0>c?h.substr(a,b,null):h.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;a=c}return a},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,
this.r.s.length-a)},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return this.r.s.substr(0,this.r.m.index)},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:k};var q=function(){};m.Expand=q;q.__name__=["Expand"];q.init=function(){q.toggled="#showall"==e.Browser.window.location.hash;var a=e.Browser.document.getElementsByClassName("tabmenu")[0],
b=e.Browser.document.createElement("li");q.button=e.Browser.document.createElement("a");q.button.href="javascript:void(0);";q.refresh();q.button.onclick=function(){q.toggle(!q.toggled);e.Browser.window.history.pushState(f.Serializer.run(j.state()),null,q.toggled?"#showall":"#")};b.appendChild(q.button);null!=a&&a.appendChild(b);a=0;for(b=j.links;a<b.length;){var c=[b[a]];++a;"a"==c[0].nodeName.toLowerCase()&&(c[0].onchange=function(a){return function(){var b=z.resolve(a[0].href);null==b?q.defaultButton(a[0].parentElement.parentElement.parentElement):
b.method(b.regex,function(a){return function(b){var c=a[0].parentElement.parentElement.parentElement,d=e.Browser.document.createElement("div");d.className="expando";d.style.display="none";j.show(d,q.toggled);var g="selftext";if(y.hasField(b,"urls")){for(var k=[],h=b.urls.keys();h.hasNext();){var l=h.next();k.push('<li><a href="'+b.urls.get(l)+'">'+l+"</a></li>")}h=e.Browser.document.createElement("div");h.className="usertext";d.appendChild(h);var m=e.Browser.document.createElement("div");m.appendChild(j.embedMap(function(){var a=
new f.ds.StringMap;a.set("Name",b.name);a.set("Description",b.description);a.set("Links",k.join(""));return a}(this)));0<b.album.length&&(m.appendChild(e.Browser.document.createElement("br")),m.appendChild(j.embedAlbum(b.album)));h.appendChild(m)}else if(y.hasField(b,"price"))h=e.Browser.document.createElement("div"),h.className="usertext",d.appendChild(h),m=e.Browser.document.createElement("div"),m.appendChild(j.embedMap(function(){var a=new f.ds.StringMap;a.set("Category",n.htmlEscape(b.category));
a.set("Location",n.htmlEscape(b.location));a.set("Price",n.htmlEscape(b.price));a.set("Description",b.description);return a}(this))),m.appendChild(j.embedAlbum(b.images)),h.appendChild(m),g="item";else if(y.hasField(b,"subscribers")){var p=b,h=e.Browser.document.createElement("div");h.className="usertext";d.appendChild(h);m=j.embedMap(function(){var a=new f.ds.StringMap;a.set("Age",j.age(p.created_utc));a.set("Subscribers",j.formatNumber(p.subscribers));a.set("Active users",j.formatNumber(p.accounts_active));
a.set("Description",w.Markdown.parse(p.description));return a}(this));h.appendChild(m)}else if(y.hasField(b,"content")){var t=b,h=e.Browser.document.createElement("div");h.className="usertext";d.appendChild(h);m=e.Browser.document.createElement("div");l=e.Browser.document.createElement("span");l.innerHTML=t.content;m.appendChild(l);0<t.images.length&&(m.appendChild(e.Browser.document.createElement("br")),m.appendChild(j.embedAlbum(t.images)));m.className="md";h.appendChild(m)}else e.Boot.__instanceof(b,
Array)&&y.hasField(b[0],"url")?(h=j.embedAlbum(b),d.appendChild(h),g="image"):y.hasField(b,"developers")?(h=e.Browser.document.createElement("div"),h.className="usertext",m=e.Browser.document.createElement("div"),l=e.Browser.document.createElement("span"),l.innerHTML=""+s.string(b.description)+'<br><a href="'+s.string(b.url)+'"><b>Clone repo</b></a><br>',null!=b.album&&0<b.album.length&&l.appendChild(j.embedAlbum(b.album)),m.appendChild(l),m.className="md",h.appendChild(m),d.appendChild(h)):q.defaultButton(c);
p=q.createButton(c,g,a[0].href);c=p.parentElement;g=0;for(h=c.getElementsByClassName("expando");g<h.length;)l=h[g],++g,c.removeChild(l);c.appendChild(d)}}(a));q.refresh()}}(c),c[0].onchange(null))}};q.defaultButton=function(a){var b=!1,c=0;for(a=a.getElementsByClassName("expando-button");c<a.length;){var d=a[c];++c;b?d.parentNode.removeChild(d):(null!=d&&(b=q.adaptButton(d),b.toggle(q.toggled,!1),q.buttons.push(b)),b=!0)}};q.adaptButton=function(a){return{toggled:function(){return-1!=a.className.indexOf("expanded")},
toggle:function(b,c){var d=-1!=a.className.indexOf("expanded");if(b!=d)a.onclick(null);q.queue++;f.Timer.delay(function(){0<a.parentElement.getElementsByClassName("error").length?(a.onclick(null),a.onclick(null)):q.queue--},1E3*q.queue);c&&e.Browser.window.history.pushState(f.Serializer.run(j.state()),null,null)},url:e.Boot.__cast(a.parentElement.getElementsByTagName("a")[0],HTMLAnchorElement).href,element:a}};q.createButton=function(a,b,c){var d=e.Browser.document.createElement("div"),g="expando-button "+
b+" ";d.className=""+g+" collapsed";var v=!1,h={toggled:function(){return v},toggle:function(a,b){v=a;d.className=g+(v?"expanded":"collapsed");for(var c=d.parentElement.getElementsByClassName("expando"),h=0;h<c.length;){var W=c[h];++h;j.show(W,a)}b&&e.Browser.window.history.pushState(f.Serializer.run(j.state()),null,null)},url:c,element:d};d.onclick=function(){h.toggle(!v,!0)};a=a.getElementsByClassName("tagline")[0];a.parentNode.insertBefore(d,a);q.buttons.push(h);q.toggled&&h.toggle(!0,!1);return d};
q.refresh=function(){if(null!=q.button){q.button.innerHTML=""+(q.toggled?"hide":"show")+" all";for(var a=e.Browser.document.body.getElementsByClassName("nextprev"),b=0;b<a.length;){var c=a[b];++b;var d;d=void 0;d=[];for(var g=0,c=c.getElementsByTagName("a");g<c.length;){var v=c[g];++g;d.push(v)}for(g=0;g<d.length;)c=d[g],++g,"a"==c.nodeName.toLowerCase()&&(q.toggled&&-1==c.href.indexOf("#")?c.href+="#showall":!q.toggled&&-1!=c.href.indexOf("#")&&(c.href=h.substr(c.href,0,c.href.indexOf("#"))))}}};
q.toggle=function(a){q.toggled=a;for(var b=0,c=q.buttons;b<c.length;){var d=c[b];++b;d.toggle(a,!1)}q.refresh()};q.loadImage=function(a){var b=e.Browser.document.createElement("img");b.src=a;b.className="resize";q.initResize(b);var c=new f.Timer(30);c.run=function(){if(0<b.width&&0<b.height){c.stop();if(b.width>(0.7*e.Browser.window.innerWidth|0)){var a=b.height/b.width;b.width=0.7*e.Browser.window.innerWidth|0;b.height=b.width*a|0}b.height>(0.6*e.Browser.window.innerHeight|0)&&(a=b.width/b.height,
b.height=0.6*e.Browser.window.innerHeight|0,b.width=b.height*a|0)}};return b};q.initResize=function(a){var b=0,c=0,d=0,g=!1;a.addEventListener("mousedown",function(v){if(!v.altKey&&!v.ctrlKey&&!v.metaKey){g=!0;var e=a.getBoundingClientRect(),f=v.clientY-e.top;b=a.offsetWidth/(v.clientX-e.left);c=a.offsetHeight/f;d=a.offsetWidth/a.offsetHeight;v.preventDefault()}});a.addEventListener("mousemove",function(v){if(g){var e=a.getBoundingClientRect(),f=(v.clientX-e.left)*b,j=f/d,e=(v.clientY-e.top)*c,h=
e*d;a.width=(j>e||f>h?f:h)|0;a.height=(j>e||f>h?j:e)|0;v.preventDefault()}});a.addEventListener("dblclick",function(){a.width=a.naturalWidth;a.height=a.naturalHeight});a.addEventListener("mouseup",function(a){g=!1;a.preventDefault()});a.addEventListener("mouseout",function(a){g=!1;a.preventDefault()})};var h=function(){};m.HxOverrides=h;h.__name__=["HxOverrides"];h.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),g=a.getMinutes(),v=a.getSeconds();return a.getFullYear()+"-"+(10>
b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>g?"0"+g:""+g)+":"+(10>v?"0"+v:""+v)};h.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};h.cca=function(a,b){var c=
a.charCodeAt(b);return c!=c?void 0:c};h.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};h.remove=function(a,b){for(var c=0,d=a.length;c<d;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};h.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var t=function(){};m.Keyboard=t;t.__name__=["Keyboard"];t.init=function(){e.Browser.document.onkeydown=
function(a){t.keyDown(a.keyCode)}};t.unhighlight=function(){if(null!=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).style.border=""};t.highlight=function(a){t.unhighlight();null!=t.current&&t.current+a<j.links.length&&(t.current+=a);if(null==t.current||null==(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))t.current=
0;(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).style.border="3px solid grey";(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).scrollIntoViewIfNeeded(!0)};t.show=function(a){null==a&&(a=!0);for(var b=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).getElementsByClassName("expando-button")[0],c=0,d=q.buttons;c<d.length;){var g=d[c];++c;if(g.element==b){g.toggle(a,!0);
(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).scrollIntoViewIfNeeded(!0);break}}};t.keyDown=function(a){for(t.keys.push(a);t.keys.length>t.konami.length;)h.remove(t.keys,t.keys[0]);for(var b=t.keys.length>=t.konami.length,c=0,d=t.keys.length;c<d;){var g=c++;if(t.keys[g]!=t.konami[g]){b=!1;break}}b&&B.run();switch(a){case 39:t.show(!0);break;case 37:t.show(!1);break;case 38:t.highlight(-1);break;case 40:t.highlight(1)}};var B=function(){};m.Konami=B;B.__name__=
["Konami"];B.translate=function(a){for(var b=0;B.filter.matchSub(a,b);)b=B.filter.matchedPos(),a=B.words[s.random(B.words.length)],console.log(a),b=b.pos+a.length,a=B.filter.matchedLeft()+a+B.filter.matchedRight();return a};B.run=function(){e.Browser.document.title="Dubbit - the back page of the wubbanet";for(var a=0,b=j.links;a<b.length;){var c=b[a];++a;c.innerHTML=B.translate(c.innerHTML)}a=0;for(b=e.Browser.document.body.getElementsByClassName("author");a<b.length;)c=b[a],++a,c.innerHTML="dubstep";
a=0;for(b=e.Browser.document.body.getElementsByClassName("subreddit");a<b.length;)c=b[a],++a,c.innerHTML="people with brains";a=0;for(b=e.Browser.document.body.getElementsByClassName("score");a<b.length;)c=b[a],++a,c.innerHTML="-&infin;";a=0;for(b=e.Browser.document.body.getElementsByTagName("p");a<b.length;)c=b[a],++a,"parent"!=c.className&&(c.innerHTML=B.translate(c.innerHTML))};var O=function(){};m.Lambda=O;O.__name__=["Lambda"];O.has=function(a,b){var c;if(a instanceof Array)c=function(){return h.iter(a)};
else if("function"==typeof a.iterator){c=a.iterator;var d=function(){return d.method.apply(d.scope,arguments)};d.scope=a;d.method=c;c=d}else c=a.iterator;for(c=c();c.hasNext();)if(c.next()==b)return!0;return!1};var j=function(){};m.Reditn=j;for(var x="undefined"!=typeof window?window:exports,C=["Reditn"],S=0;S<C.length-1;++S){var T=C[S];"undefined"==typeof x[T]&&(x[T]={});x=x[T]}x[C[C.length-1]]=j;j.__name__=["Reditn"];j.main=function(){switch(e.Browser.document.readyState){case "complete":j.init();
break;default:e.Browser.window.onload=function(){j.init()}}};j.init=function(){if(-1!=e.Browser.window.location.href.indexOf("reddit.")){j.fullPage=0<e.Browser.document.getElementsByClassName("tabmenu").length;j.links=e.Browser.document.body.getElementsByClassName("title");for(var a=[],b=0,c=j.links;b<c.length;){var d=[c[b]];++b;"a"==d[0].nodeName.toLowerCase()&&"parent"!=d[0].parentElement.className&&a.push(function(){j.expandURL(d[0].href,function(a){return function(b){a[0].href=b;if(null!=a[0].onchange)a[0].onchange(null)}}(d));
return d[0]}(this))}j.links=a;j.wrap(l.init);j.wrap(F.init,"adblock");j.wrap(N.init,"dup-hider");j.wrap(P.init,"nsfw-filter");Q.init();j.wrap(q.init,"expand");j.wrap(t.init,"keys");j.wrap(G.init,"preview");j.wrap(H.init,"subinfo");j.wrap(I.init,"userinfo");j.wrap(J.init,"user-tag");j.wrap(K.init,"sub-tag");e.Browser.window.history.replaceState(f.Serializer.run(j.state()),null,q.toggled?"#showall":null);e.Browser.window.onpopstate=function(a){a=a.state;if(null!=a){a=f.Unserializer.run(a);a.allExpanded!=
q.toggled&&q.toggle(a.allExpanded);for(var b=0,c=q.buttons;b<c.length;){var d=c[b];++b;var e=a.expanded;e.exists(d.url)&&d.toggle(e.get(d.url),!1)}}}}};j.state=function(){for(var a=new f.ds.StringMap,b=0,c=q.buttons;b<c.length;){var d=c[b];++b;d.toggled()!=q.toggled&&a.set(d.url,d.toggled())}return{allExpanded:q.toggled,expanded:a}};j.wrap=function(a,b){var c=null==b?null:l.data.get(b);(null==b||c)&&a()};j.formatNumber=function(a){if(Math.isFinite(a)){var b=s.string(Math.abs(a)),c;-1!=b.indexOf(".")?
(c=h.substr(b,b.indexOf("."),null),b=h.substr(b,0,b.indexOf("."))):c="";if(3<=b.length){for(var d="",g=0,v=b.length;g<v;){var e=g++,d=d+b.charAt(e);0==(b.length-(e+1))%3&&e<b.length-1&&(d+=",")}b=d}a=(0>a?"-"+b:b)+c}else a=s.string(a);return a};j.formatPrice=function(a){var b=j.formatNumber(a|0);a=s.string(a);for(a=-1==a.indexOf(".")?".":h.substr(a,a.indexOf("."),null);3>a.length;)a+="0";return""+b+a};j.show=function(a,b){a.style.display=b?"":"none";if(-1!=a.className.indexOf("link")&&!b){var c=a.getElementsByClassName("entry")[0];
h.remove(j.links,c.getElementsByTagName("a")[0])}};j.age=function(a){if(86400>a)return"less than a day";a=f.Timer.stamp()-a;var b=a/86400%30.4375|0,c=a/2629800%12|0;a=a/2629800/12|0;var d="";0<a&&(d+=""+a+" year"+(1>=a?"":"s"));0<c&&(d+=", "+c+" month"+(1>=c?"":"s"));d+=", "+b+" day"+(1>=b?"":"s");for(n.startsWith(d,", ")&&(d=h.substr(d,2,null));-1!=d.indexOf(", , ");)d=n.replace(d,", , ",", ");return d};j.expandURL=function(a,b){var c=z.trimURL(a);if(-1==c.indexOf("/"))b(a);else switch(c=h.substr(c,
0,c.indexOf("/")),c){case "0rz.tw":case "1link.in":case "1url.com":case "2.gp":case "2big.at":case "2tu.us":case "3.ly":case "307.to":case "4ms.me":case "4sq.com":case "4url.cc":case "6url.com":case "7.ly":case "a.gg":case "a.nf":case "aa.cx":case "abcurl.net":case "ad.vu":case "adf.ly":case "adjix.com":case "afx.cc":case "all.fuseurl.com":case "alturl.com":case "amzn.to":case "ar.gy":case "arst.ch":case "atu.ca":case "azc.cc":case "b23.ru":case "b2l.me":case "bacn.me":case "bcool.bz":case "binged.it":case "bit.ly":case "bizj.us":case "bloat.me":case "bravo.ly":case "bsa.ly":case "budurl.com":case "canurl.com":case "chilp.it":case "chzb.gr":case "cl.lk":case "cl.ly":case "clck.ru":case "cli.gs":case "cliccami.info":case "clickthru.ca":case "clop.in":case "conta.cc":case "cort.as":case "cot.ag":case "crks.me":case "ctvr.us":case "cutt.us":case "dai.ly":case "decenturl.com":case "dfl8.me":case "digbig.com":case "digg.com":case "disq.us":case "dld.bz":case "dlvr.it":case "do.my":case "doiop.com":case "dopen.us":case "easyuri.com":case "easyurl.net":case "eepurl.com":case "eweri.com":case "fa.by":case "fav.me":case "fb.me":case "fbshare.me":case "ff.im":case "fff.to":case "fire.to":case "firsturl.de":case "firsturl.net":case "flic.kr":case "flq.us":case "fly2.ws":case "fon.gs":case "freak.to":case "fuseurl.com":case "fuzzy.to":case "fwd4.me":case "fwib.net":case "g.ro.lt":case "gizmo.do":case "gl.am":case "go.9nl.com":case "go.ign.com":case "go.usa.gov":case "goo.gl":case "goshrink.com":case "gurl.es":case "hex.io":case "hiderefer.com":case "hmm.ph":case "href.in":case "hsblinks.com":case "htxt.it":case "huff.to":case "hulu.com":case "hurl.me":case "hurl.ws":case "icanhaz.com":case "idek.net":case "ilix.in":case "is.gd":case "its.my":case "ix.lt":case "j.mp":case "jijr.com":case "kl.am":case "klck.me":case "korta.nu":case "krunchd.com":case "l9k.net":case "lat.ms":case "liip.to":case "liltext.com":case "linkbee.com":case "linkbun.ch":case "liurl.cn":case "ln-s.net":case "ln-s.ru":case "lnk.gd":case "lnk.ms":case "lnkd.in":case "lnkurl.com":case "lru.jp":case "lt.tl":case "lurl.no":case "macte.ch":case "mash.to":case "merky.de":case "migre.me":case "miniurl.com":case "minurl.fr":case "mke.me":case "moby.to":case "moourl.com":case "mrte.ch":case "myloc.me":case "myurl.in":case "n.pr":case "nbc.co":case "nblo.gs":case "nn.nf":case "not.my":case "notlong.com":case "nsfw.in":case "nutshellurl.com":case "nxy.in":case "nyti.ms":case "o-x.fr":case "oc1.us":case "om.ly":case "omf.gd":case "omoikane.net":case "on.cnn.com":case "on.mktw.net":case "onforb.es":case "orz.se":case "ow.ly":case "ping.fm":case "pli.gs":case "pnt.me":case "politi.co":case "post.ly":case "pp.gg":case "profile.to":case "ptiturl.com":case "pub.vitrue.com":case "qlnk.net":case "qte.me":case "qu.tc":case "qy.fi":case "r.im":case "rb6.me":case "read.bi":case "readthis.ca":case "reallytinyurl.com":case "redir.ec":case "redirects.ca":case "redirx.com":case "retwt.me":case "ri.ms":case "rickroll.it":case "riz.gd":case "rt.nu":case "ru.ly":case "rubyurl.com":case "rurl.org":case "rww.tw":case "s4c.in":case "s7y.us":case "safe.mn":case "sameurl.com":case "sdut.us":case "shar.es":case "shink.de":case "shorl.com":case "short.ie":case "short.to":case "shortlinks.co.uk":case "shorturl.com":case "shout.to":case "show.my":case "shrinkify.com":case "shrinkr.com":case "shrt.fr":case "shrt.st":case "shrten.com":case "shrunkin.com":case "simurl.com":case "slate.me":case "smallr.com":case "smsh.me":case "smurl.name":case "sn.im":case "snipr.com":case "snipurl.com":case "snurl.com":case "sp2.ro":case "spedr.com":case "srnk.net":case "srs.li":case "starturl.com":case "su.pr":case "surl.co.uk":case "surl.hu":case "t.cn":case "t.co":case "t.lh.com":case "ta.gd":case "tbd.ly":case "tcrn.ch":case "tgr.me":case "tgr.ph":case "tighturl.com":case "tiniuri.com":case "tiny.cc":case "tiny.ly":case "tiny.pl":case "tinylink.in":case "tinyuri.ca":case "tinyurl.com":case "tk.":case "tl.gd":case "tmi.me":case "tnij.org":case "tnw.to":case "tny.com":case "to.":case "to.ly":case "togoto.us":case "totc.us":case "toysr.us":case "tpm.ly":case "tr.im":case "tra.kz":case "trunc.it":case "twhub.com":case "twirl.at":case "twitclicks.com":case "twitterurl.net":case "twitterurl.org":case "twiturl.de":case "twurl.cc":case "twurl.nl":case "u.mavrev.com":case "u.nu":case "u76.org":case "ub0.cc":case "ulu.lu":case "updating.me":case "ur1.ca":case "url.az":case "url.co.uk":case "url.ie":case "url360.me":case "url4.eu":case "urlborg.com":case "urlbrief.com":case "urlcover.com":case "urlcut.com":case "urlenco.de":case "urli.nl":case "urls.im":case "urlshorteningservicefortwitter.com":case "urlx.ie":case "urlzen.com":case "usat.ly":case "use.my":case "vb.ly":case "vgn.am":case "vl.am":case "vm.lc":case "w55.de":case "wapo.st":case "wapurl.co.uk":case "wipi.es":case "wp.me":case "x.vu":case "xr.com":case "xrl.in":case "xrl.us":case "xurl.es":case "xurl.jp":case "y.ahoo.it":case "yatuc.com":case "ye.pe":case "yep.it":case "yfrog.com":case "yhoo.it":case "yiyd.com":case "youtu.be":case "yuarel.com":case "z0p.de":case "zi.ma":case "zi.mu":case "zipmyurl.com":case "zud.me":case "zurl.ws":case "zz.gd":case "zzang.kr":case "r.ebay.com":c=
n.urlEncode(a);j.getJSON("http://api.longurl.org/v2/expand?url="+c+"&format=json&User-Agent=Reditn",function(a){b(y.field(a,"long-url"))});break;default:b(a)}};j.embedAlbum=function(a){var b=e.Browser.document.createElement("span");b.style.textAlign="center";b.className="expando";for(var c=[],d=0;d<a.length;){var g=a[d];++d;c.push(function(){var a=q.loadImage(g.url);a.title=(null!=g.caption?g.caption+" ":"")+(null!=g.author?"by "+g.author:"");b.appendChild(a);j.show(a,!1);return a}(this))}var v=null,
f=e.Browser.document.createElement("span");f.style.fontWeight="bold";f.style.marginLeft="10px";var h=0,k=null,m=null,M=null;1<a.length&&(k=e.Browser.document.createElement("button"),k.innerHTML="Prev",b.appendChild(k),m=e.Browser.document.createElement("span"),m.style.textAlign="center",m.style.paddingLeft=m.style.paddingRight="5px",b.appendChild(m),M=e.Browser.document.createElement("button"),M.innerHTML="Next",b.appendChild(M));if(1<a.length||null!=a[0].caption&&0<a[0].caption.length)b.appendChild(f),
b.appendChild(e.Browser.document.createElement("br"));var l=function(d){if(!(0>d||d>=a.length)){var g=a[d],e=null;null!=v&&(j.show(v,!1),e=s.parseInt(v.style.height));v=c[d];v.style.display="block";if(null!=e){var h=v.width/v.height;v.style.height=e+"px";v.style.width=(e*h|0)+"px"}b.appendChild(v);null!=k&&(e=j.formatNumber(a.length),h=j.formatNumber(d+1),m.innerHTML=""+h+" of "+e,k.disabled=0>=d,M.disabled=d>=a.length-1);j.show(f,null!=g.caption);null!=g.caption&&(f.innerHTML=n.htmlEscape(g.caption),
null!=g.author&&(f.innerHTML+=" <em>by "+g.author+"</em>"))}};l(0);null!=k&&(k.onmousedown=function(){l(--h)},M.onmousedown=function(){l(++h)});return b};j.getData=function(a){for(;null!=a.data;)a=a.data;for(;null!=a.response;)a=a.response;return a};j.getText=function(a,b,c,d,g){a=new f.Http(a);null!=c&&a.setHeader("Authorization",c);null!=d&&a.setHeader("Content-Type",d);a.setHeader("User-Agent","Reditn - the basic reddit plugin");a.onData=b;null!=g&&a.setPostData(g);a.request(null!=g)};j.embedMap=
function(a){for(var b=e.Browser.document.createElement("dl"),c=a.keys();c.hasNext();){var d=c.next();if(null!=a.get(d)&&0<a.get(d).length){var g=e.Browser.document.createElement("dt");g.innerHTML=d;b.appendChild(g);g=e.Browser.document.createElement("dd");g.innerHTML=a.get(d);b.appendChild(g)}}b.className="md reditn-table";return b};j.getJSON=function(a,b,c,d,g){null==d&&(d="application/json");j.getText(a,function(a){n.startsWith(a,"jsonFlickrApi(")&&n.endsWith(a,")")&&(a=a.substring(14,a.length-
1));b(j.getData(f.Json.parse(a)))},c,d,g)};j.getXML=function(a,b,c,d,g){null==d&&(d="application/json");j.getText(a,function(a){b(j.getData(p.parse(a)))},c,d,g)};j.popUp=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);e.Browser.document.body.appendChild(b);b.className="popup";b.style.position="absolute";b.style.width=(0.25*e.Browser.window.innerWidth|0)+"px";b.style.left=""+c+"px";b.style.top=""+(d-30)+"px";a.onmouseout=b.onblur=function(){b.parentElement.removeChild(b);a.mouseover=!1};return b};
j.fullPopUp=function(a,b){null==b&&(b=0);var c=e.Browser.document.getElementsByClassName("popup")[0];null!=c&&c.parentElement.removeChild(c);e.Browser.document.body.appendChild(a);c=e.Browser.document.createElement("a");c.style.position="absolute";c.style.right=c.style.top="5px";c.innerHTML="<b>Close</b>";c.href="javascript:void(0);";c.onclick=a.onblur=function(){a.parentElement.removeChild(a)};a.appendChild(c);a.className="popup";0!=b&&(a.style.top=""+(b-e.Browser.window.scrollY)+"px");return a};
var n=function(){};m.StringTools=n;n.__name__=["StringTools"];n.urlEncode=function(a){return encodeURIComponent(a)};n.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};n.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};n.startsWith=function(a,b){return a.length>=b.length&&h.substr(a,0,b.length)==b};n.endsWith=function(a,b){var c=b.length,d=a.length;return d>=
c&&h.substr(a,d-c,c)==b};n.isSpace=function(a,b){var c=h.cca(a,b);return 8<c&&14>c||32==c};n.ltrim=function(a){for(var b=a.length,c=0;c<b&&n.isSpace(a,c);)c++;return 0<c?h.substr(a,c,b-c):a};n.rtrim=function(a){for(var b=a.length,c=0;c<b&&n.isSpace(a,b-c-1);)c++;return 0<c?h.substr(a,0,b-c):a};n.trim=function(a){return n.ltrim(n.rtrim(a))};n.replace=function(a,b,c){return a.split(b).join(c)};var f={Json:function(){}};m["haxe.Json"]=f.Json;f.Json.__name__=["haxe","Json"];f.Json.parse=function(a){return(new f.Json).doParse(a)};
f.Json.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,d=!c,g=48==a,e=!1,f=!1,j=!1,k=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:g&&!e&&this.invalidNumber(b);c&&(c=!1,g=!0);d=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:g&&!e&&this.invalidNumber(b);c&&(c=!1);d=!0;g=!1;break;case 46:(c||e)&&this.invalidNumber(b);d=!1;e=!0;break;case 101:case 69:(c||g||f)&&this.invalidNumber(b);d=!1;f=!0;break;case 43:case 45:(!f||j)&&this.invalidNumber(b);
d=!1;j=!0;break;default:d||this.invalidNumber(b),this.pos--,k=!0}if(k)break}a=s.parseFloat(h.substr(this.str,b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+h.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new E;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+=
"\t";break;case 98:b.b+="\b";break;case 102:b.b+="\f";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);break;case 117:a=s.parseInt("0x"+h.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;
case 123:for(var b={},c=null,a=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==
a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();
return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=
a;this.pos=0;return this.parseRec()},__class__:f.Json};f.Http=function(a){this.url=a;this.headers=new f.ds.StringMap;this.params=new f.ds.StringMap;this.async=!0};m["haxe.Http"]=f.Http;f.Http.__name__=["haxe","Http"];f.Http.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=this;b.responseData=null;var c=e.Browser.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);
if(null!=a&&200<=a&&400>a)b.onData(b.responseData=c.responseText);else if(null==a)b.onError("Failed to connect or resolve host");else switch(a){case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var g=this.postData;if(null!=g)a=!0;else for(var v=this.params.keys();v.hasNext();)var f=v.next(),g=null==g?"":g+"&",g=g+(n.urlEncode(f)+"="+n.urlEncode(this.params.get(f)));
try{if(a)c.open("POST",this.url,this.async);else if(null!=g){var j=1>=this.url.split("?").length;c.open("GET",this.url+(j?"?":"&")+g,this.async);g=null}else c.open("GET",this.url,this.async)}catch(h){this.onError(h.toString());return}null==this.headers.get("Content-Type")&&(a&&null==this.postData)&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)v=a.next(),c.setRequestHeader(v,this.headers.get(v));c.send(g);this.async||d(null)},setPostData:function(a){this.postData=
a;return this},setHeader:function(a,b){this.headers.set(a,b);return this},__class__:f.Http};x=function(){};m.IMap=x;x.__name__=["IMap"];f.ds={};f.ds.StringMap=function(){this.h={}};m["haxe.ds.StringMap"]=f.ds.StringMap;f.ds.StringMap.__name__=["haxe","ds","StringMap"];f.ds.StringMap.__interfaces__=[x];f.ds.StringMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return h.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+
a]},set:function(a,b){this.h["$"+a]=b},__class__:f.ds.StringMap};var s=function(){};m.Std=s;s.__name__=["Std"];s.string=function(a){return e.Boot.__string_rec(a,"")};s.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==h.cca(a,1)||88==h.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};s.parseFloat=function(a){return parseFloat(a)};s.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var e={Boot:function(){}};m["js.Boot"]=e.Boot;e.Boot.__name__=["js","Boot"];e.Boot.__string_rec=function(a,
b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,g=a.length;d<g;)var f=d++,c=2!=f?c+(","+e.Boot.__string_rec(a[f],b)):c+e.Boot.__string_rec(a[f],b);return c+")"}d=a.length;c="[";b+="\t";for(g=0;g<d;)f=g++,c+=(0<f?",":"")+e.Boot.__string_rec(a[f],b);return c+"]"}try{g=a.toString}catch(j){return"???"}if(null!=
g&&g!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;g=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(g in a)if(!d||a.hasOwnProperty(g))"prototype"==g||("__class__"==g||"__super__"==g||"__interfaces__"==g||"__properties__"==g)||(2!=c.length&&(c+=", \n"),c+=b+g+" : "+e.Boot.__string_rec(a[g],b));b=b.substring(1);return c+="\n"+b+"}";case "function":return"<function>";case "string":return a;default:return String(a)}};e.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;
var c=a.__interfaces__;if(null!=c)for(var d=0,g=c.length;d<g;){var f=d++,f=c[f];if(f==b||e.Boot.__interfLoop(f,b))return!0}return e.Boot.__interfLoop(a.__super__,b)};e.Boot.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(e.Boot.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case U:return Math.ceil(a%2147483648)===a;case V:return"number"==typeof a;case R:return!0===a||!1===a;case String:return"string"==typeof a;case X:return!0;default:if(null==
a)return!1;if(b==Y&&null!=a.__name__)return!0;null;if(b==Z&&null!=a.__ename__)return!0;null;return a.__enum__==b}};e.Boot.__cast=function(a,b){if(e.Boot.__instanceof(a,b))return a;throw"Cannot cast "+s.string(a)+" to "+s.string(b);};var y=function(){};m.Reflect=y;y.__name__=["Reflect"];y.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};y.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};y.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,
d;for(d in a)"__id__"!=d&&c.call(a,d)&&b.push(d)}return b};y.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};y.deleteField=function(a,b){if(!y.hasField(a,b))return!1;delete a[b];return!0};var w={MediaWiki:function(){}};m["parser.MediaWiki"]=w.MediaWiki;w.MediaWiki.__name__=["parser","MediaWiki"];w.MediaWiki.parse=function(a,b){for(var c=0,d=w.MediaWiki.regex;c<d.length;){var g=d[c];++c;for(var e=0;g.from.match(a)&&64>e++;)a=g.from.replace(a,g.to),g.from.matchedPos()}a=
n.replace(a,"$BASE",b);n.startsWith(a,"<br>")&&(a=h.substr(a,4,null));a.split("{{").length<a.split("}}").length&&(a=h.substr(a,a.indexOf("}}")+2,null));return a};w.MediaWiki.trimTo=function(a,b){b=n.trim(n.replace(b,"_"," "));for(var c={pos:0,len:0},d=null;w.MediaWiki.sections.matchSub(a,c.pos+c.len);)if(c=w.MediaWiki.sections.matchedPos(),n.trim(w.MediaWiki.sections.matched(2))==n.trim(b)){d=w.MediaWiki.sections.matched(1).length;break}null!=d&&(a=h.substr(a,c.pos+c.len,null),a=h.substr(a,0,a.indexOf("<h"+
d+">")));return a};w.MediaWiki.getAlbum=function(a){for(var b=[];w.MediaWiki.IMAGES.match(a);){var c=w.MediaWiki.IMAGES.matchedPos();a=h.substr(a,c.pos+c.len,null);c=w.MediaWiki.IMAGES.matched(2)+"."+w.MediaWiki.IMAGES.matched(3);n.startsWith(c,"File:")&&(c=h.substr(c,5,null));b.push({url:c,caption:null,author:null})}return b};e.Browser=function(){};m["js.Browser"]=e.Browser;e.Browser.__name__=["js","Browser"];e.Browser.getLocalStorage=function(){try{var a=e.Browser.window.localStorage;a.getItem("");
return a}catch(b){return null}};e.Browser.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw"Unable to create XMLHttpRequest object.";};w.Markdown=function(){};m["parser.Markdown"]=w.Markdown;w.Markdown.__name__=["parser","Markdown"];w.Markdown.parse=function(a){for(;w.Markdown.header.match(a);)w.Markdown.header.matchedPos(),a=1+w.Markdown.header.matched(1).length,
6<a&&(a=6),a=w.Markdown.header.matchedLeft()+("<h"+a+">"+w.Markdown.header.matched(2)+"</h"+a+">")+w.Markdown.header.matchedRight();for(var b=0,c=w.Markdown.regex;b<c.length;){var d=c[b];for(++b;d.from.match(a);)a=d.from.replace(a,d.to)}return a};var p=function(){};m.Xml=p;p.__name__=["Xml"];p.parse=function(a){return f.xml.Parser.parse(a)};p.createElement=function(a){var b=new p;b.nodeType=p.Element;b._children=[];b._attributes=new f.ds.StringMap;b.set_nodeName(a);return b};p.createPCData=function(a){var b=
new p;b.nodeType=p.PCData;b.set_nodeValue(a);return b};p.createCData=function(a){var b=new p;b.nodeType=p.CData;b.set_nodeValue(a);return b};p.createComment=function(a){var b=new p;b.nodeType=p.Comment;b.set_nodeValue(a);return b};p.createDocType=function(a){var b=new p;b.nodeType=p.DocType;b.set_nodeValue(a);return b};p.createProcessingInstruction=function(a){var b=new p;b.nodeType=p.ProcessingInstruction;b.set_nodeValue(a);return b};p.createDocument=function(){var a=new p;a.nodeType=p.Document;
a._children=[];return a};p.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&h.remove(a._parent._children,a);a._parent=this;this._children.push(a)},exists:function(a){if(this.nodeType!=p.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=p.Element)throw"bad nodeType";this._attributes.set(a,b)},set_nodeValue:function(a){if(this.nodeType==p.Element||this.nodeType==p.Document)throw"bad nodeType";return this._nodeValue=
a},set_nodeName:function(a){if(this.nodeType!=p.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=p.Element)throw"bad nodeType";return this._nodeName},__class__:p};f.xml={};f.xml.Parser=function(){};m["haxe.xml.Parser"]=f.xml.Parser;f.xml.Parser.__name__=["haxe","xml","Parser"];f.xml.Parser.parse=function(a){var b=p.createDocument();f.xml.Parser.doParse(a,0,b);return b};f.xml.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,g=1,e=1,j=null,r=
0,k=0,m=0,l=a.charCodeAt(b),n=new E;l==l;){switch(g){case 0:switch(l){case 10:case 13:case 9:case 32:break;default:g=e;continue}break;case 1:switch(l){case 60:g=0;e=2;break;default:r=b;g=13;continue}break;case 13:60==l?(g=p.createPCData(n.b+h.substr(a,r,b-r)),n=new E,c.addChild(g),k++,g=0,e=2):38==l&&(n.addSub(a,r,b-r),g=18,e=13,r=b+1);break;case 17:93==l&&(93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(g=p.createCData(h.substr(a,r,b-r)),c.addChild(g),k++,b+=2,g=1);break;case 2:switch(l){case 33:if(91==
a.charCodeAt(b+1)){b+=2;if("CDATA["!=h.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;g=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=h.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;g=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;g=15}r=b+1;break;case 63:g=14;r=b;break;case 47:if(null==c)throw"Expected node name";r=b+1;g=0;e=10;break;default:g=3;r=b;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=
l&&57>=l||58==l||46==l||95==l||45==l)){if(b==r)throw"Expected node name";d=p.createElement(h.substr(a,r,b-r));c.addChild(d);g=0;e=4;continue}break;case 4:switch(l){case 47:g=11;k++;break;case 62:g=9;k++;break;default:g=5;r=b;continue}break;case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(r==b)throw"Expected attribute name";j=h.substr(a,r,b-r);if(d.exists(j))throw"Duplicate attribute";g=0;e=6;continue}break;case 6:switch(l){case 61:g=0;e=7;break;default:throw"Expected =";
}break;case 7:switch(l){case 34:case 39:g=8;r=b;break;default:throw'Expected "';}break;case 8:l==a.charCodeAt(r)&&(e=h.substr(a,r+1,b-r-1),d.set(j,e),g=0,e=4);break;case 9:r=b=f.xml.Parser.doParse(a,b,d);g=1;break;case 11:switch(l){case 62:g=1;break;default:throw"Expected >";}break;case 12:switch(l){case 62:return 0==k&&c.addChild(p.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(r==b)throw"Expected node name";
if(h.substr(a,r,b-r)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";g=0;e=12;continue}break;case 15:45==l&&(45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(c.addChild(p.createComment(h.substr(a,r,b-r))),b+=2,g=1);break;case 16:91==l?m++:93==l?m--:62==l&&0==m&&(c.addChild(p.createDocType(h.substr(a,r,b-r))),g=1);break;case 14:63==l&&62==a.charCodeAt(b+1)&&(b++,g=h.substr(a,r+1,b-r-2),c.addChild(p.createProcessingInstruction(g)),g=1);break;case 18:59==l&&(r=h.substr(a,r,b-r),35==r.charCodeAt(0)?
(r=120==r.charCodeAt(1)?s.parseInt("0"+h.substr(r,1,r.length-1)):s.parseInt(h.substr(r,1,r.length-1)),n.b+=s.string(String.fromCharCode(r))):n.b=f.xml.Parser.escapes.exists(r)?n.b+s.string(f.xml.Parser.escapes.get(r)):n.b+s.string("&"+r+";"),r=b+1,g=e)}l=a.charCodeAt(++b)}1==g&&(r=b,g=13);if(13==g)return(b!=r||0==k)&&c.addChild(p.createPCData(n.b+h.substr(a,r,b-r))),b;throw"Unexpected end";};var E=function(){this.b=""};m.StringBuf=E;E.__name__=["StringBuf"];E.prototype={addSub:function(a,b,c){this.b+=
null==c?h.substr(a,b,null):h.substr(a,b,c)},__class__:E};var z=function(){};m.Link=z;z.__name__=["Link"];z.resolve=function(a){a=z.trimURL(a);for(var b=0,c=z.sites;b<c.length;){var d=c[b];++b;try{if(d.regex.match(a)&&d.regex.matchedPos().len==a.length)return d}catch(g){console.log("Error "+s.string(g)+" whilst processing regex "+s.string(d.regex))}}return null};z.trimURL=function(a){n.startsWith(a,"http://")?a=h.substr(a,7,null):n.startsWith(a,"https://")&&(a=h.substr(a,8,null));n.startsWith(a,"www.")?
a=h.substr(a,4,null):n.startsWith(a,"m.")&&(a=h.substr(a,2,null));-1!=a.indexOf("&")&&(a=h.substr(a,0,a.indexOf("&")));-1!=a.indexOf("?")&&!n.startsWith(a,"facebook.com/")&&(a=h.substr(a,0,a.indexOf("?")));-1!=a.indexOf("#")&&-1==a.indexOf("/wiki/")&&(a=h.substr(a,0,a.indexOf("#")));n.endsWith(a,"/")&&(a=h.substr(a,0,a.length-1));return a};z.filterHTML=function(a){for(var b=0,c=z.HTML_FILTERS;b<c.length;){var d=c[b];for(++b;d.match(a);)a=d.replace(a,"")}b=0;for(c=z.HTML_CLEANERS;b<c.length;)d=c[b],
++b,a=d.from.replace(a,d.to);if(n.startsWith(a,"<br>")||n.startsWith(a,"<br />"))a=h.substr(a,a.indexOf(">")+1,null);n.endsWith(a,"<br>")&&(a=h.substr(a,0,a.length-4));return a};var L=function(){this.length=0};m.List=L;L.__name__=["List"];L.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:L};
var P=function(){};m.NSFWFilter=P;P.__name__=["NSFWFilter"];P.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("nsfw-stamp"),b=0;b<a.length;){var c=a[b];++b;"li"==c.nodeName.toLowerCase()&&j.show(c.parentNode.parentNode.parentNode,!1)}};var G=function(){};m.Preview=G;G.__name__=["Preview"];G.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-edit"),b=0;b<a.length;){var c=a[b];++b;G.preview(c)}};G.preview=function(a){var b=a.getElementsByTagName("textarea")[0];
if(null!=b){var c=e.Browser.document.createElement("div");a.appendChild(c);c.className="md";var d=null;b.onfocus=function(){d=new f.Timer(100);d.run=function(){c.innerHTML=w.Markdown.parse(b.value)}};b.onblur=function(){d.stop();d=null}}};var l=function(){};m.Settings=l;l.__name__=["Settings"];l.optimisedData=function(){for(var a=new f.ds.StringMap,b=l.data.keys();b.hasNext();){var c=b.next(),d=l.data.get(c);l.DEFAULTS.get(c)!=d&&a.set(c,d)}return f.Serializer.run(a)};l.save=function(){f.Serializer.USE_CACHE=
!1;e.Browser.getLocalStorage().setItem("reditn",l.optimisedData())};l.init=function(){var a=e.Browser.getLocalStorage().getItem("reditn");if(null!=a){var b;try{b=f.Unserializer.run(a)}catch(c){b=l.data}l.data=b}l.fixMissing();a=e.Browser.document.getElementById("header-bottom-right");b=a.getElementsByTagName("ul")[0];var d=e.Browser.document.createElement("a");d.innerHTML="reditn";d.className="pref-lang";d.href="javascript:void(0);";d.onclick=function(){l.settingsPopUp()};null==b?a.appendChild(d):
a.insertBefore(d,b);d=e.Browser.document.createElement("span");d.innerHTML=" | ";d.className="seperator";d.style.fontWeight="none";a.insertBefore(d,b)};l.settingsPopUp=function(){var a=e.Browser.document.getElementById("reditn-config");null!=a&&a.parentElement.removeChild(a);var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("h1");b.innerHTML="Reditn settings";a.appendChild(b);j.fullPopUp(a);var c=e.Browser.document.createElement("form");c.id="reditn-config";c.action=
"javascript:void(0);";c.onchange=function(){for(var a=c.childNodes,b=0;b<a.length;){var d=a[b];++b;if("button"!=d.type&&"input"==d.nodeName.toLowerCase()){var g=void 0;switch(d.type.toLowerCase()){case "checkbox":g=d.checked;break;default:g=d.value}l.data.set(d.name,g)}}l.save()};b=e.Browser.document.createElement("input");b.type="button";b.value="Restore default settings";b.onclick=function(){l.fixMissing(!0);l.save();l.settingsPopUp()};c.appendChild(b);b=l.makeButton("Export settings to text",function(){e.Browser.window.alert(e.Browser.window.btoa(l.optimisedData()))});
c.appendChild(b);b=l.makeButton("Import settings",function(){l.data=f.Unserializer.run(e.Browser.window.atob(e.Browser.window.prompt("Settings to import",e.Browser.window.btoa(l.optimisedData()))));l.fixMissing();l.save();l.settingsPopUp()});c.appendChild(b);c.appendChild(e.Browser.document.createElement("br"));for(b=l.data.keys();b.hasNext();){var d=b.next(),g=l.data.get(d);if(!e.Boot.__instanceof(g,f.ds.StringMap)&&l.DESC.exists(d)){var h=l.DESC.get(d),k=e.Browser.document.createElement("label");
k.setAttribute("for",d);k.style.position="absolute";k.style.width="46%";k.style.textAlign="right";k.innerHTML=""+h+" ";c.appendChild(k);h=e.Browser.document.createElement("input");h.style.position="absolute";h.style.left="54%";h.style.textAlign="left";h.style.width="46%";h.name=d;c.appendChild(h);c.appendChild(e.Browser.document.createElement("br"));h.type=e.Boot.__instanceof(g,R)?"checkbox":e.Boot.__instanceof(g,String)?"text":e.Boot.__instanceof(g,Date)?"datetime":e.Boot.__instanceof(g,U)?"number":
null;e.Boot.__instanceof(g,R)?h.checked=l.data.get(d):h.value=l.data.get(d)}}b=e.Browser.document.createElement("div");b.style.fontWeight="bold";b.innerHTML="Close this dialog and refresh the page to see your changes in effect. Changes will be saved automatically.";c.appendChild(b);a.appendChild(c)};l.makeButton=function(a,b){var c=e.Browser.document.createElement("input");c.type="button";c.value=a;c.onclick=b;return c};l.fixMissing=function(a){null==a&&(a=!1);for(var b=l.DEFAULTS.keys();b.hasNext();){var c=
b.next();if(a||!l.data.exists(c))l.data.set(c,e.Boot.__instanceof(l.DEFAULTS.get(c),f.ds.StringMap)?new f.ds.StringMap:l.DEFAULTS.get(c))}};var Q=function(){};m.Style=Q;Q.__name__=["Style"];Q.init=function(){var a=e.Browser.document.createElement("style");a.innerHTML='.expando-button.image.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -23px;\n\tbackground-repeat:no-repeat\n}\ndl.reditn-table  {\n\tfloat: left;\n\twidth: 100%;\n\tpadding: 0;\n}\n.reditn-table dt {\n\tclear: left;\n\tfloat: left;\n\twidth: 16%;\n\tfont-weight: bold;\n\ttext-align: right;\n}\n.reditn-table dd {\n\tfloat: left;\n\ttext-align: left;\n}';
e.Browser.document.head.appendChild(a)};var H=function(){};m.SubredditInfo=H;H.__name__=["SubredditInfo"];H.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=H._onMouseOverSubreddit}};H._onMouseOverSubreddit=function(a){a=a.target;var b=a.innerHTML,c=e.Browser.document.createElement("div");j.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/r/"+b+"/about.json",function(a){var g=j.formatNumber(a.subscribers),
e=j.formatNumber(a.accounts_active),f=w.Markdown.parse(a.public_description);a=j.age(a.created_utc);var h="<b>Name:</b> "+b+" <br>",k=l.data.get("sub-tags");k.exists(b)&&(h+="<b>Tag:</b> "+k.get(b)+"<br>");h=h+("<b>Subscribers:</b> "+g+" <br>")+("<b>Active Users:</b> "+e+" <br>");h+="<b>Description:</b> "+f+" <br>";h+="<b>Age:</b> "+a+" <br>";c.innerHTML=h})};var K=function(){};m.SubredditTagger=K;K.__name__=["SubredditTagger"];K.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),
b=0;b<a.length;){var c=a[b];++b;K.getTag(c)}};K.getTag=function(a){var b=e.Browser.document.createElement("span"),c=n.trim(a.innerHTML),d=l.data.get("sub-tags").exists(c)?l.data.get("sub-tags").get(c):null;b.className="flair";var g=e.Browser.document.createElement("span");g.innerHTML=null==d?"":n.htmlEscape(d)+" ";b.appendChild(g);var f=e.Browser.document.createElement("a");f.href="javascript:void(0);";f.innerHTML="[+]";b.appendChild(f);f.onclick=function(){var a=e.Browser.document.createElement("div"),
b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){l.data.get("sub-tags").set(c,h.value);g.innerHTML=n.htmlEscape(h.value)+" ";l.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,f.offsetTop+f.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};var u=m.ValueType={__ename__:["ValueType"],
__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};u.TNull=["TNull",0];u.TNull.toString=D;u.TNull.__enum__=u;u.TInt=["TInt",1];u.TInt.toString=D;u.TInt.__enum__=u;u.TFloat=["TFloat",2];u.TFloat.toString=D;u.TFloat.__enum__=u;u.TBool=["TBool",3];u.TBool.toString=D;u.TBool.__enum__=u;u.TObject=["TObject",4];u.TObject.toString=D;u.TObject.__enum__=u;u.TFunction=["TFunction",5];u.TFunction.toString=D;u.TFunction.__enum__=u;u.TClass=function(a){a=["TClass",6,a];
a.__enum__=u;a.toString=D;return a};u.TEnum=function(a){a=["TEnum",7,a];a.__enum__=u;a.toString=D;return a};u.TUnknown=["TUnknown",8];u.TUnknown.toString=D;u.TUnknown.__enum__=u;var A=function(){};m.Type=A;A.__name__=["Type"];A.getClassName=function(a){return a.__name__.join(".")};A.getEnumName=function(a){return a.__ename__.join(".")};A.resolveClass=function(a){a=m[a];return null==a||!a.__name__?null:a};A.resolveEnum=function(a){a=m[a];return null==a||!a.__ename__?null:a};A.createEmptyInstance=function(a){function b(){}
b.prototype=a.prototype;return new b};A.createEnum=function(a,b,c){var d=y.field(a,b);if(null==d)throw"No such constructor "+b;if(y.isFunction(d)){if(null==c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};A.getEnumConstructs=function(a){return a.__constructs__.slice()};A["typeof"]=function(a){switch(typeof a){case "boolean":return u.TBool;case "string":return u.TClass(String);case "number":return Math.ceil(a)==
a%2147483648?u.TInt:u.TFloat;case "object":if(null==a)return u.TNull;var b=a.__enum__;if(null!=b)return u.TEnum(b);a=a.__class__;return null!=a?u.TClass(a):u.TObject;case "function":return a.__name__||a.__ename__?u.TObject:u.TFunction;case "undefined":return u.TNull;default:return u.TUnknown}};var I=function(){};m.UserInfo=I;I.__name__=["UserInfo"];I.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=I._onMouseOverUser}};
I._onMouseOverUser=function(a){a=a.target;var b=a.innerHTML,b=h.substr(b,b.lastIndexOf("/")+1,null),c=e.Browser.document.createElement("div");j.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/user/"+b+"/about.json",function(a){var b=a.name,e=j.age(a.created_utc),f=j.formatNumber(a.link_karma),h=j.formatNumber(a.comment_karma),k="<b>User:</b> "+b+"<br>",m=l.data.get("user-tags");m.exists(b)&&(k+="<b>Tag:</b> "+m.get(b)+"<br>");k=k+("<b>Account age:</b> "+e+"<br>")+("<b>Karma:</b> "+f+
" link karma, "+h+" comment karma");a.is_mod&&(k+="<br><b>Moderator</b>");a.is_gold&&(k+="<br><b>Gold</b>");c.innerHTML=k})};var J=function(){};m.UserTagger=J;J.__name__=["UserTagger"];J.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;J.getTag(c)}};J.getTag=function(a){var b=e.Browser.document.createElement("span"),c=n.trim(a.innerHTML),d=l.data.get("user-tags").exists(c)?l.data.get("user-tags").get(c):null;b.className="flair";var g=
e.Browser.document.createElement("span");g.innerHTML=null==d?"":n.htmlEscape(d)+" ";b.appendChild(g);var f=e.Browser.document.createElement("a");f.href="javascript:void(0);";f.innerHTML="[+]";b.appendChild(f);f.onclick=function(){var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=
function(){l.data.get("user-tags").set(c,h.value);g.innerHTML=n.htmlEscape(h.value)+" ";l.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,f.offsetTop+f.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};m.XmlType={__ename__:["XmlType"],__constructs__:[]};f.Serializer=function(){this.buf=new E;this.cache=[];this.useCache=f.Serializer.USE_CACHE;this.useEnumIndex=f.Serializer.USE_ENUM_INDEX;this.shash=new f.ds.StringMap;this.scount=0};m["haxe.Serializer"]=f.Serializer;
f.Serializer.__name__=["haxe","Serializer"];f.Serializer.run=function(a){var b=new f.Serializer;b.serialize(a);return b.toString()};f.Serializer.prototype={serialize:function(a){var b=A["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=s.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=s.string(a)):this.buf.b+=s.string(0>a?"m":"p");break;case 3:this.buf.b+=s.string(a?"t":"f");break;
case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var d=a.length,g=0;g<d;)b=g++,null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=s.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=s.string(c)));this.buf.b+="h";break;case L:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+=
"v";this.buf.b+=s.string(h.dateStr(a));break;case f.ds.StringMap:this.buf.b+="b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));this.buf.b+="h";break;case f.ds.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=s.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case f.ds.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=c.next(),d=y.field(b,"__id__"),y.deleteField(b,"__id__"),this.serialize(b),b.__id__=d,
this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case f.io.Bytes:b=0;c=a.length-2;d=new E;for(g=f.Serializer.BASE64;b<c;){var e=a.b[b++],j=a.b[b++],k=a.b[b++];d.b+=s.string(g.charAt(e>>2));d.b+=s.string(g.charAt((e<<4|j>>4)&63));d.b+=s.string(g.charAt((j<<2|k>>6)&63));d.b+=s.string(g.charAt(k&63))}b==c?(e=a.b[b++],j=a.b[b++],d.b+=s.string(g.charAt(e>>2)),d.b+=s.string(g.charAt((e<<4|j>>4)&63)),d.b+=s.string(g.charAt(j<<2&63))):b==c+1&&(e=a.b[b++],d.b+=s.string(g.charAt(e>>2)),d.b+=s.string(g.charAt(e<<
4&63)));b=d.b;this.buf.b+="s";this.buf.b+=s.string(b.length);this.buf.b+=":";this.buf.b+=s.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(A.getClassName(b)),this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(A.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&
this.serializeRef(a))break;this.cache.pop();this.buf.b+=s.string(this.useEnumIndex?"j":"w");this.serializeString(A.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=s.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";d=a.length;this.buf.b+=s.string(d-2);for(g=2;g<d;)b=g++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+s.string(a);}},serializeFields:function(a){for(var b=0,c=y.fields(a);b<c.length;){var d=c[b];
++b;this.serializeString(d);this.serialize(y.field(a,d))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var g=c++,e=this.cache[g];if(typeof e==b&&e==a)return this.buf.b+="r",this.buf.b+=s.string(g),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=s.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=n.urlEncode(a),this.buf.b+=s.string(a.length),this.buf.b+=":",this.buf.b+=
s.string(a))},toString:function(){return this.buf.b},__class__:f.Serializer};f.Timer=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};m["haxe.Timer"]=f.Timer;f.Timer.__name__=["haxe","Timer"];f.Timer.delay=function(a,b){var c=new f.Timer(b);c.run=function(){c.stop();a()};return c};f.Timer.stamp=function(){return(new Date).getTime()/1E3};f.Timer.prototype={run:function(){console.log("run")},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:f.Timer};f.Unserializer=
function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=f.Unserializer.DEFAULT_RESOLVER;null==a&&(a=A,f.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};m["haxe.Unserializer"]=f.Unserializer;f.Unserializer.__name__=["haxe","Unserializer"];f.Unserializer.initCodes=function(){for(var a=[],b=0,c=f.Unserializer.BASE64.length;b<c;){var d=b++;a[f.Unserializer.BASE64.charCodeAt(d)]=d}return a};f.Unserializer.run=function(a){return(new f.Unserializer(a)).unserialize()};
f.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return s.parseFloat(h.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=h.substr(this.buf,
this.pos,b);this.pos+=b;a=n.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";
return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=A.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);
return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=A.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new L;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new f.ds.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),
c.set(a,this.unserialize());this.pos++;return c;case 113:c=new f.ds.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new f.ds.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=h.strDate(h.substr(this.buf,this.pos,19)),this.cache.push(b),
this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";d=f.Unserializer.CODES;null==d&&(d=f.Unserializer.initCodes(),f.Unserializer.CODES=d);for(var a=this.pos,g=b&3,e=a+(b-g),j=f.io.Bytes.alloc(3*(b>>2)+(2<=g?g-1:0)),k=0;a<e;){var l=d[c.charCodeAt(a++)],m=d[c.charCodeAt(a++)];j.b[k++]=(l<<2|m>>4)&255;l=d[c.charCodeAt(a++)];j.b[k++]=(m<<4|l>>2)&255;m=d[c.charCodeAt(a++)];j.b[k++]=(l<<6|m)&255}2<=g&&(l=d[c.charCodeAt(a++)],
m=d[c.charCodeAt(a++)],j.b[k++]=(l<<2|m>>4)&255,3==g&&(l=d[c.charCodeAt(a++)],j.b[k++]=(m<<4|l>>2)&255));this.pos+=b;this.cache.push(j);return j;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=A.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=
this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return A.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return A.createEnum(a,b,d)},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!e.Boot.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=
this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},__class__:f.Unserializer};f.ds.IntMap=function(){this.h={}};m["haxe.ds.IntMap"]=f.ds.IntMap;f.ds.IntMap.__name__=["haxe","ds","IntMap"];f.ds.IntMap.__interfaces__=[x];f.ds.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b|0);return h.iter(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:f.ds.IntMap};f.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};m["haxe.ds.ObjectMap"]=f.ds.ObjectMap;f.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];f.ds.ObjectMap.__interfaces__=[x];f.ds.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return h.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=
++f.ds.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:f.ds.ObjectMap};f.io={};f.io.Bytes=function(a,b){this.length=a;this.b=b};m["haxe.io.Bytes"]=f.io.Bytes;f.io.Bytes.__name__=["haxe","io","Bytes"];f.io.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new f.io.Bytes(a,b)};f.io.Bytes.prototype={__class__:f.io.Bytes};Array.prototype.indexOf?h.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0}:null;"undefined"!=typeof JSON&&(f.Json=JSON);
String.prototype.__class__=m.String=String;String.__name__=["String"];Array.prototype.__class__=m.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=m.Date=Date;Date.__name__=["Date"];var U=m.Int={__name__:["Int"]},X=m.Dynamic={__name__:["Dynamic"]},V=m.Float=Number;V.__name__=["Float"];var R=m.Bool=Boolean;R.__ename__=["Bool"];var Y=m.Class={__name__:["Class"]},Z={};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;
m.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};p.Element="element";p.PCData="pcdata";p.CData="cdata";p.Comment="comment";p.DocType="doctype";p.ProcessingInstruction="processingInstruction";p.Document="document";q.buttons=[];q.queue=0;t.keys=[];t.konami=[38,38,40,40,37,39,37,39,66,65];B.words=["wubba","mcwubber","dubba","dadubber"];B.filter=new k("[a-zA-Z]*","");j.fullPage=!0;w.MediaWiki.regex=[{from:new k("\\[\\[Category:([^\\]]*)\\]\\]",""),to:""},
{from:new k("\\[\\[([^\\]\n]*)\\|([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$2</a>'},{from:new k("\\[\\[([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$1</a>'},{from:new k("<gallery>(.|\n|\n\r)*</gallery>",""),to:""},{from:new k("\\[\\[File:([^\\]]*)\\]\\]",""),to:""},{from:new k("(=*) ?(References|Gallery) ?\\1.*\\1?",""),to:""},{from:new k("{{spaced ndash}}",""),to:" - "},{from:new k("\\{\\{convert\\|([0-9]*)\\|([^\\|]*)([^\\}]*)\\}\\}",""),to:"$1 $2"},{from:new k("\\{\\{([^\\}]*)\\}\\}",
""),to:""},{from:new k("\\{\\|(.|\n|\n\r)*\\|\\}",""),to:""},{from:new k("\\[([^ \\[\\]]*) ([^\\[\\]]*)\\]",""),to:""},{from:new k("'''([^']*)'''",""),to:"<b>$1</b>"},{from:new k("''([^']*)''",""),to:"<em>$1</em>"},{from:new k("======([^=]*)======",""),to:"<h6>$1</h6>"},{from:new k("=====([^=]*)=====",""),to:"<h5>$1</h5>"},{from:new k("====([^=]*)====",""),to:"<h4>$1</h4>"},{from:new k("===([^=]*)===",""),to:"<h3>$1</h3>"},{from:new k("==([^=]*)==",""),to:"<h2>$1</h2>"},{from:new k("\n\\* ?([^\n]*)",
""),to:"<li>$1</li>"},{from:new k("<ref>[^<>]*</ref>",""),to:""},{from:new k("\n\r?\n\r?",""),to:"<br>"},{from:new k("\n",""),to:""},{from:new k("<br><br>",""),to:"<br>"},{from:new k("\x3c!--Interwiki links--\x3e.*",""),to:""},{from:new k("\\[\\]",""),to:""}];w.MediaWiki.sections=new k("'=(=*)([^=]*)=\\\\1\n\r?(.|\n|\n\r)*(\\\\1)?'","");w.MediaWiki.IMAGES=new k("(File:|img=|Image:)([^\\.\\|\\]\\}\\{\\[<>=]*)\\.(gif|jpg|jpeg|bmp|png|webp|svg|raw)(\\|([^\\)]*))?","");e.Browser.window="undefined"!=typeof window?
window:null;e.Browser.document="undefined"!=typeof window?window.document:null;w.Markdown.images=new k("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)","");w.Markdown.regex=[{from:new k("(\\*\\*|__)([^\\1\n]*?)\\1",""),to:"<b>$2</b>"},{from:new k("(\\*|_)([^\\1\n]*?)\\1",""),to:"<em>$2</em>"},{from:new k("^[\\*|+|-] (.*)$","m"),to:"<ul><li>$1</li></ul>"},{from:new k("</ul><ul>",""),to:""},{from:new k("\n> ([^\n\r]*)",""),to:"<blockquote>$1</blockquote>"},{from:new k("</blockquote>\n?\r?<blockquote>$",""),to:""},
{from:new k("~~([^~]*?)~~",""),to:"<del>$1</del>"},{from:new k("\\^([^\\^]+)",""),to:"<sup>$1</sup>"},{from:new k(':"([^:"]*?)":',""),to:"<q>$1</q>"},{from:w.Markdown.images,to:""},{from:new k("\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",""),to:'<a href="$2">$1</a>'},{from:new k("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",""),to:""},{from:new k("(.*)\n\r?(==+)\n",""),to:"<h2>$1</h2>"},{from:new k("(.*)\n\r?((-|#)+)\n",""),to:"<h3>$1</h3>"},{from:new k("(```*)([^`]+)\\1","m"),to:"<code>$2</code>"},{from:new k("<pre>(.*)\n\n(.*)</pre>",
""),to:"<pre>$1\n$2</pre>"},{from:new k("\n\n+",""),to:"<br>\n"}];w.Markdown.header=new k("^([#|=]+)([^#=]+)\\1?$","m");x=f.xml.Parser;C=new f.ds.StringMap;C.set("lt","<");C.set("gt",">");C.set("amp","&");C.set("quot",'"');C.set("apos","'");C.set("nbsp",String.fromCharCode(160));x.escapes=C;z.HTML_IMG=new k('<img .*?src="([^"]*)"/?>',"");z.sites=[{regex:new k(".*\\.(jpeg|gif|jpg|bmp|png|webp)","i"),method:function(a,b){b([{url:"http://"+a.matched(0),caption:null,author:null}])}},{regex:new k("i?\\.?imgur.com/(a|gallery)/([^/]*)",
""),method:function(a,b){var c=a.matched(2),d;switch(a.matched(1).toLowerCase()){case "a":d="album";break;case "gallery":d="gallery/album";break;default:d="album"}j.getJSON("https://api.imgur.com/3/"+d+"/"+c,function(a){var c=[];if(0>=a.images_count)c.push({url:"http://i.imgur.com/"+a.id+".jpg",caption:a.title,author:a.account_url});else for(var d=0,e=a.images;d<e.length;){var f=e[d];++d;c.push({url:"http://i.imgur.com/"+f.id+".jpg",caption:f.title,author:a.account_url})}b(c)},"Client-ID cc1f254578d6c52")}},
{regex:new k("imgur\\.com/(r/[^/]*/)?([a-zA-Z0-9,]*)",""),method:function(a,b){for(var c=(null==a.matched(1)||-1!=a.matched(1).indexOf("/")?a.matched(2):a.matched(1)).split(","),d=[],g=0;g<c.length;){var e=c[g];++g;d.push({url:"http://i.imgur.com/"+e+".jpg",caption:null,author:null})}b(d)}},{regex:new k("(qkme\\.me|quickmeme\\.com/meme|m\\.quickmeme.com/meme)/([^/]*)",""),method:function(a,b){b([{url:"http://i.qkme.me/"+a.matched(2)+".jpg",caption:null,author:null}])}},{regex:new k("memecrunch.com/meme/([^/]*)/([^/]*)",
""),method:function(a,b){b([{url:"http://"+a.matched(0)+"/image.png",caption:null,author:null}])}},{regex:new k("memegenerator\\.net/instance/([^/]*)",""),method:function(a,b){b([{url:"http://cdn.memegenerator.net/instances/400x/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new k("imgflip\\.com/i/([^/]*)",""),method:function(a,b){b([{url:"http://i.imgflip.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new k("what-if.xkcd.com/([0-9]*)",""),method:function(){}},{regex:new k("xkcd.com/([0-9]*)",
""),method:function(a,b){j.getJSON("http://www.xkcd.com/"+a.matched(1)+"/info.0.json",function(a){b([{url:a.img,caption:a.title,author:null}])})}},{regex:new k("explosm.net/comics/([0-9]*)",""),method:function(a,b){j.getText("http://www."+a.matched(0),function(c){var d=new k('"http://www\\.explosm\\.net/db/files/Comics/([^"]*)"',"");if(d.match(c))b([{url:d.matched(0).substring(1,d.matched(0).length-1),caption:null,author:null}]);else throw""+s.string(d)+" not matched by "+a.matched(0)+" in "+c;},
null,null,null)}},{regex:new k("livememe.com/([^/]*)",""),method:function(a,b){b([{url:"http://livememe.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new k("(([^\\.]*\\.)?deviantart\\.com/art|fav\\.me)/.*",""),method:function(a,b){j.getJSON("http://backend.deviantart.com/oembed?url="+n.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new k("flickr\\.com/photos/.*",""),method:function(a,b){j.getJSON("http://www.flickr.com/services/oembed/?url=http://www."+
n.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new k("ebay\\.([a-zA-Z\\.]*)/itm(/[^/]*)?/([0-9]*)",""),method:function(a,b){a.matched(1);var c="http://open.api.ebay.com/shopping?callname=GetSingleItem&responseencoding=JSON&appid=ThomasDa-1e6c-4d29-a156-85557acee70b&siteid=0&version=515&ItemID="+a.matched(3)+"&IncludeSelector=TextDescription";j.getJSON(c,function(a){var c=a.Item.PictureURL.map(function(a){return{url:a,caption:null,
author:null}});b({title:a.Item.Title,category:a.Item.PrimaryCategoryName,location:a.Item.Location+", "+a.Item.Country,description:z.filterHTML(a.Item.Description),images:c,price:j.formatPrice(a.Item.ConvertedCurrentPrice.Value)+" "+a.Item.ConvertedCurrentPrice.CurrencyID})})}},{regex:new k("([^\\.]*\\.wordpress\\.com|wp\\.me|techcrunch\\.com|news\\.blogs\\.cnn\\.com|snoopdogg\\.com|usainbolt\\.com|katiecouric\\.com|rollingstones\\.com|variety\\.com|bbcamerica\\.com)/(.*)?",""),method:function(a,b){var c=
"http://"+a.matched(0);j.getJSON("http://public-api.wordpress.com/oembed/?url="+n.urlEncode(c)+"&for=Reditn",function(a){var c=[];null!=a.thumbnail_url&&c.push({caption:null,url:a.thumbnail_url,author:null});b({author:a.author_name,content:z.filterHTML(a.html),images:c})})}},{regex:new k("(.*)/wiki/([^#]*)(#.*)?",""),method:function(a,b){var c="http://"+a.matched(1),d=a.matched(2),g=a.matched(3);null!=g&&(g=n.trim(h.substr(g,1,null)));null!=g&&0==g.length&&(g=null);var e=c;n.endsWith(e,".wikia.com")||
(e+="/w");var f=null,f=function(a){j.getJSON(""+e+"/api.php?format=json&prop=revisions&action=query&titles="+a+"&rvprop=content",function(a){a=a.query.pages;for(var d=0,k=y.fields(a);d<k.length;){var l=k[d];++d;var l=[y.field(a,l)],m=[y.field(l[0].revisions[0],"*")];if(n.startsWith(m[0],"#REDIRECT [[")){f(m[0].substring(12,m[0].lastIndexOf("]]")));break}var r=[w.MediaWiki.getAlbum(m[0])];null!=g&&(m[0]=w.MediaWiki.trimTo(m[0],g));m[0]=w.MediaWiki.parse(m[0],c);if(0<r[0].length)for(var p=[[]],q=0;q<
r[0].length;){var t=[r[0][q]];++q;j.getJSON(""+e+"/api.php?action=query&titles="+n.urlEncode(t[0].url)+"&prop=imageinfo&iiprop=url&format=json",function(a,c,d,g,e){return function(f){f=f.query.pages;for(var j=0,k=y.fields(f);j<k.length;){var l=k[j];++j;l=y.field(f,l);null!=l&&null!=l.imageinfo?c[0].push({url:l.imageinfo[0].url,caption:a[0].caption,author:null}):(console.log("Error whilst processing "+s.string(l)+" for "+a[0].url),h.remove(d[0],a[0]))}c[0].length>=d[0].length&&b({title:e[0].title,
content:g[0],author:null,images:c[0]})}}(t,p,r,m,l))}else b({title:l[0].title,content:m[0],author:null,images:null})}})};f(d)}},{regex:new k("github\\.com/([^/]*)/([^/]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2);j.getJSON("https://api.github.com/repos/"+c+"/"+d+"/readme?client_id=39d85b9ac427f1176763&client_secret=5117570b83363ca0c71a196edc5b348af150c25d",function(a){if(null!=a.content){a=a.content;a=n.replace(a,"\n","");a=n.trim(a);a=e.Browser.window.atob(a);for(var f=w.Markdown.images,
j=[],k=a;f.match(k);){var l=f.matched(2);l.indexOf(".")==l.lastIndexOf(".")&&(n.startsWith(l,"/")&&(l=h.substr(l,1,null)),l="https://github.com/"+c+"/"+d+"/raw/master/"+l);j.push({url:l,caption:f.matched(1),author:c});k=h.substr(k,f.matchedPos().pos+f.matchedPos().len,null)}b({name:d,developers:[c],description:w.Markdown.parse(a),url:"git://github.com/"+c+"/"+d+".git",album:j})}})}},{regex:new k("sourceforge.net/projects/([a-zA-Z-]*)",""),method:function(a,b){j.getJSON("http://sourceforge.net/api/project/name/"+
a.matched(1)+"/json",function(a){a=a.Project;for(var d=a.developers,g=a.name,e=a.description,f=[],j=0;j<d.length;){var k=d[j];++j;f.push(k.name)}for(var l=y.field(a,"download-page"),d=0,j=y.fields(a);d<j.length;)k=j[d],++d,n.endsWith(k,"Repository")&&(l=h.substr(k,0,k.length-10).toLowerCase(),k=y.field(a,k).location,l=n.replace(k,"http:",""+l+":"));b({name:g,description:e,developers:f,url:l,album:[]})})}},{regex:new k("(digitaltrends\\.com|webupd8\\.org|doctorwho\\.tv)/.*",""),method:function(a,b){j.getText("http://www."+
a.matched(0),function(a){var d=new k("<title>(.*)</title>","");d.match(a)&&(a=h.substr(a,a.indexOf("<article"),null),a=h.substr(a,a.indexOf(">")+1,null),a=h.substr(a,0,a.indexOf("</article>")),a=z.filterHTML(a),b({title:d.matched(1),content:a,author:null,images:[]}))},null,null,null)}},{regex:new k("([^\\.]*)\\.tumblr\\.com/(post|image)/([0-9]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(3);console.log(c+", "+d);j.getJSON("http://api.tumblr.com/v2/blog/"+c+".tumblr.com/posts/json?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE&id="+
d,function(a){var c=a.posts[0];switch(c.type){case "text":for(var d=[];z.HTML_IMG.match(c.body);)d.push({url:z.HTML_IMG.matched(1),caption:null,author:a.blog.name}),c.body=z.HTML_IMG.replace(c.body,"");c.body=z.filterHTML(c.body);a={title:c.title,content:c.body,author:a.blog.name,images:d};break;case "quote":a={title:null,content:s.string(c.text)+"<br/><b>"+s.string(c.source)+"</b>",author:a.blog.name,images:[]};break;case "photo":for(var c=c.photos,d=[],e=0;e<c.length;){var f=c[e];++e;d.push({url:f.original_size.url,
caption:f.caption,author:a.blog.name})}a=d;break;default:a=null}b(a)})}},{regex:new k(".*\\.tumblr\\.com",""),method:function(a,b){j.getJSON("http://api.tumblr.com/v2/blog/"+n.urlEncode(a.matched(0))+"/info?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE",function(a){b({urls:new f.ds.StringMap,name:a.blog.title,description:z.filterHTML(a.blog.description),album:[]})})}},{regex:new k("twitter.com/.*/status/([0-9]*)",""),method:function(a,b){j.getJSON("https://api.twitter.com/1/statuses/oembed.json?id="+
a.matched(2),function(a){b({title:null,author:a.author_name,content:z.filterHTML(a.html),images:[]})})}},{regex:new k("amazon\\.[a-z\\.]*/gp/product/([0-9A-Z]*)",""),method:function(a){a=a.matched(1);j.getXML("http://webservices.amazon.com/onca/xml?AWSAccessKeyId=AKIAJMR3XPXGBMZJE6IA&Service=AWSECommerceService&Operation=ItemLookup&ItemId="+a,function(a){console.log(a)})}},{regex:new k("plus\\.google\\.com/([0-9]*)/posts/([a-zA-Z]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2),e=new k("<b>([^>]*)</b><br />",
""),f=null,f=function(h){j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"/activities/public?fields=items(id%2Curl)%2CnextPageToken&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o"+(null==h?"":"&requestToken="+h),function(c){var h=c.items;a.matched(0);for(var k=0;k<h.length;){var l=h[k];++k;if(-1!=l.url.indexOf(d)){j.getJSON("https://www.googleapis.com/plus/v1/activities/"+s.string(l.id)+"?fields=actor%2FdisplayName%2Cannotation%2Cobject(actor%2Cattachments%2Ccontent%2Cid%2CobjectType%2CoriginalContent%2Curl)&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",
function(a){var c=a.object.objectType,d=a.actor.actorName,f=a.object.content;e.match(f);switch(c){case "note":a=e.matched(1);f=e.replace(f,"");f=z.filterHTML(f);b({title:a,author:d,content:f,images:[]});break;default:console.log(a);d=a.object.attachments;f=[];for(c=0;c<d.length;){var h=d[c];++c;f.push({url:h.image.url,caption:0==h.content.length?a.object.content:h.content,author:null})}b(f)}});return}}0!=c.items.length&&f(c.requestToken)})};f()}},{regex:new k("facebook.com/photo\\.php\\?v=([0-9]*)",
""),method:function(a,b){a.matched(1);b([{caption:null,url:"http://graph.facebook.com/${id}/picture?type=small&access_token=CAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrCAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrf",author:null}])}},{regex:new k("facebook\\.com/([a-zA-Z0-9]*)",""),
method:function(a,b){var c=a.matched(1);b({album:[{url:"https://graph.facebook.com/"+c+"/picture?type=large",caption:null,author:null}],urls:new f.ds.StringMap})}},{regex:new k("plus\\.google.com/u?/?[0-9]*/([0-9]*)(/about)?",""),method:function(a,b){var c=a.matched(1);j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"?key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",function(a){var c=a.urls,e=new f.ds.StringMap;if(null!=c)for(var h=0;h<c.length;){var j=c[h];++h;e.set(j.label,j.value)}null!=a.urls&&
(null!=a.displayName&&null!=a.aboutMe)&&b({urls:e,name:a.displayName,description:a.aboutMe,album:[{url:a.image.url,caption:null,author:a.displayName}]})})}},{regex:new k("reddit\\.com/r/([a-zA-Z0-9]*)",""),method:function(a,b){console.log(a.matched(1));j.getJSON("http://www."+a.matched(0)+"/about.json",function(a){b(a)})}},{regex:new k("gamejolt.com/games/[^/]*/[^/]*/([0-9]*)",""),method:function(a){a=a.matched(1);j.getJSON("http://gamejolt.com/service/games/"+a+"?format=json",function(a){console.log(a)})}}];
z.HTML_FILTERS=[z.HTML_IMG,new k("<meta[^>]*/>","g"),new k("<(h1|header)[^>]*>.*</\\1>","g"),new k("<table([^>]*)>(.|\n|\n\r)*</table>","gm"),new k('<div class="(seperator|ga-ads)"[^>]*>(.|\n|\n\r)*</div>',"g"),new k("<([^>]*)( [^>]*)?></\\1>","g"),new k("<script[^>/]*/>","g"),new k("<script[^>/]*>\x3c/script>","g"),new k('style ?= ?"[^"]*"',"g")];z.HTML_CLEANERS=[{from:new k('<blockquote class="twitter-tweet">(.*)</blockquote>',"g"),to:"$1"},{from:new k("(!|\\.|,|\\?)(^ \n\t\r)","g"),to:"$1 $2"},
{from:new k("(!|\\.|,|\\?)( *)","g"),to:"$1 "},{from:new k("(<br></br>|<br/>|<br />)(<br></br>|<br/>|<br />)","g"),to:"<br/>"}];x=new f.ds.StringMap;x.set("adblock","Block advertisements and sponsors");x.set("userinfo","Show information about a user upon hover");x.set("subinfo","Show information about a subreddit upon hover");x.set("expand","Allow expansion of images, articles, etc");x.set("dup-hider","Hide duplicate links");x.set("user-tag","Tag users");x.set("sub-tag","Tag subreddits");x.set("preview",
"Preview comments and posts");x.set("keys","Keyboard shortcuts");x.set("nsfw-filter","Hide NSFW content");l.DESC=x;x=new f.ds.StringMap;x.set("adblock",!0);x.set("userinfo",!0);x.set("subinfo",!0);x.set("expand",!0);x.set("dup-hider",!0);x.set("user-tag",!0);x.set("sub-tag",!0);x.set("preview",!0);x.set("keys",!0);x.set("nsfw-filter",!0);x.set("user-tags",new f.ds.StringMap);x.set("sub-tags",new f.ds.StringMap);l.DEFAULTS=x;l.data=new f.ds.StringMap;f.Serializer.USE_CACHE=!1;f.Serializer.USE_ENUM_INDEX=
!1;f.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";f.Unserializer.DEFAULT_RESOLVER=A;f.Unserializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";f.ds.ObjectMap.count=0;j.main()})();
(function(){var r={},G=function(){return e.Boot.__string_rec(this,"")},I=function(){};r.Adblock=I;I.__name__=["Adblock"];I.init=function(){I.hideAll(e.Browser.document.body.getElementsByClassName("promoted"));I.hideAll(e.Browser.document.body.getElementsByClassName("infobar"));I.hideAll(e.Browser.document.body.getElementsByClassName("goldvertisement"));var a=e.Browser.document.getElementById("spotlight-help");null!=a&&j.show(a.parentNode.parentNode,!1);a=e.Browser.document.getElementById("ad-frame");
null!=a&&j.show(a,!1)};I.hideAll=function(a){for(var b=0,c=a.length;b<c;){var d=b++;j.show(a[d],!1)}};var P=function(){};r.DuplicateHider=P;P.__name__=["DuplicateHider"];P.init=function(){for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&(Q.has(a,d.href)?j.show(d.parentElement.parentElement.parentElement,!1):a.push(d.href))}};var h=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};r.EReg=h;h.__name__=["EReg"];h.prototype={replace:function(a,b){return a.replace(this.r,
b)},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:l.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;a=b}else{if(c=this.match(0>c?l.substr(a,b,null):l.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;a=c}return a},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,
this.r.s.length-a)},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return this.r.s.substr(0,this.r.m.index)},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:h};var v=function(){};r.Expand=v;v.__name__=["Expand"];v.init=function(){v.toggled="#showall"==e.Browser.window.location.hash;var a=e.Browser.document.getElementsByClassName("tabmenu")[0],
b=e.Browser.document.createElement("li");v.button=e.Browser.document.createElement("a");v.button.href="javascript:void(0);";v.refresh();v.button.onclick=function(){v.toggle(!v.toggled);e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,v.toggled?"#showall":"#")};b.appendChild(v.button);null!=a&&a.appendChild(b);a=0;for(b=j.links;a<b.length;){var c=b[a];++a;if("a"==c.nodeName.toLowerCase()){var d=c.parentElement.parentElement.parentElement.getElementsByClassName("entry")[0],c=y.createButton(c.href,
d);if(null==c)v.defaultButton(d);else{for(var f=0,q=d.getElementsByClassName("expando");f<q.length;){var X=q[f];++f;X.parentNode.removeChild(X)}d.appendChild(c);d.insertBefore(c,d.getElementsByClassName("tagline")[0])}}}};v.defaultButton=function(a){var b=!1,c=0;for(a=a.getElementsByClassName("expando-button");c<a.length;){var d=a[c];++c;b?d.parentNode.removeChild(d):(null!=d&&(b=v.adaptButton(d),b.toggle(v.toggled,!1),v.buttons.push(b)),b=!0)}};v.adaptButton=function(a){var b=e.Boot.__cast(a.parentElement.getElementsByTagName("a")[0],
HTMLAnchorElement).href;a.style.width=a.style.height="23px";return{toggled:function(){return-1!=a.className.indexOf("expanded")},toggle:function(b,d){var f=-1!=a.className.indexOf("expanded");if(b!=f)a.onclick(null);v.queue++;g.Timer.delay(function(){0<a.parentElement.getElementsByClassName("error").length?(a.onclick(null),a.onclick(null)):v.queue--},1E3*v.queue);d&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:b,element:a}};v.refresh=function(){if(null!=v.button){v.button.innerHTML=
""+(v.toggled?"hide":"show")+" all";for(var a=e.Browser.document.body.getElementsByClassName("nextprev"),b=0;b<a.length;){var c=a[b];++b;var d;d=void 0;d=[];for(var f=0,c=c.getElementsByTagName("a");f<c.length;){var q=c[f];++f;d.push(q)}for(f=0;f<d.length;)c=d[f],++f,"a"==c.nodeName.toLowerCase()&&(v.toggled&&-1==c.href.indexOf("#")?c.href+="#showall":!v.toggled&&-1!=c.href.indexOf("#")&&(c.href=l.substr(c.href,0,c.href.indexOf("#"))))}}};v.toggle=function(a){v.toggled=a;for(var b=0,c=v.buttons;b<
c.length;){var d=c[b];++b;d.toggle(a,!1)}v.refresh()};v.loadImage=function(a){var b=e.Browser.document.createElement("img");b.src=a;b.className="resize";v.initResize(b);var c=new g.Timer(30);c.run=function(){if(0<b.width&&0<b.height){c.stop();if(b.width>(0.7*e.Browser.window.innerWidth|0)){var a=b.height/b.width;b.width=0.7*e.Browser.window.innerWidth|0;b.height=b.width*a|0}b.height>(0.6*e.Browser.window.innerHeight|0)&&(a=b.width/b.height,b.height=0.6*e.Browser.window.innerHeight|0,b.width=b.height*
a|0)}};return b};v.initResize=function(a){var b=0,c=0,d=0,f=!1;a.addEventListener("mousedown",function(q){if(!q.altKey&&!q.ctrlKey&&!q.metaKey){f=!0;var e=a.getBoundingClientRect(),m=q.clientY-e.top;b=a.offsetWidth/(q.clientX-e.left);c=a.offsetHeight/m;d=a.offsetWidth/a.offsetHeight;q.preventDefault()}});a.addEventListener("mousemove",function(q){if(f){var e=a.getBoundingClientRect(),m=(q.clientX-e.left)*b,g=m/d,e=(q.clientY-e.top)*c,j=e*d;a.width=(g>e||m>j?m:j)|0;a.height=(g>e||m>j?g:e)|0;q.preventDefault()}});
a.addEventListener("dblclick",function(){a.width=a.naturalWidth;a.height=a.naturalHeight});a.addEventListener("mouseup",function(a){f=!1;a.preventDefault()});a.addEventListener("mouseout",function(a){f=!1;a.preventDefault()})};var l=function(){};r.HxOverrides=l;l.__name__=["HxOverrides"];l.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),f=a.getMinutes(),q=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>f?"0"+f:""+
f)+":"+(10>q?"0"+q:""+q)};l.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};l.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};l.substr=function(a,b,c){if(null!=b&&
0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};l.remove=function(a,b){for(var c=0,d=a.length;c<d;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};l.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var t=function(){};r.Keyboard=t;t.__name__=["Keyboard"];t.init=function(){e.Browser.document.onkeydown=function(a){t.keyDown(a.keyCode)}};t.unhighlight=
function(){if(null!=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).style.border=""};t.highlight=function(a){t.unhighlight();null!=t.current&&t.current+a<j.links.length&&(t.current+=a);if(null==t.current||null==(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))t.current=0;(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:
null).style.border="3px solid grey";(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).scrollIntoViewIfNeeded(!0)};t.show=function(a){null==a&&(a=!0);for(var b=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).getElementsByClassName("expando-button")[0],c=0,d=v.buttons;c<d.length;){var f=d[c];++c;if(f.element==b){f.toggle(a,!0);(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:
null).scrollIntoViewIfNeeded(!0);break}}};t.keyDown=function(a){for(t.keys.push(a);t.keys.length>t.konami.length;)l.remove(t.keys,t.keys[0]);for(var b=t.keys.length>=t.konami.length,c=0,d=t.keys.length;c<d;){var f=c++;if(t.keys[f]!=t.konami[f]){b=!1;break}}b&&D.run();switch(a){case 39:t.show(!0);break;case 37:t.show(!1);break;case 38:t.highlight(-1);break;case 40:t.highlight(1)}};var D=function(){};r.Konami=D;D.__name__=["Konami"];D.translate=function(a){for(var b=0;D.filter.matchSub(a,b);)b=D.filter.matchedPos(),
a=D.words[u.random(D.words.length)],console.log(a),b=b.pos+a.length,a=D.filter.matchedLeft()+a+D.filter.matchedRight();return a};D.run=function(){e.Browser.document.title="Dubbit - the back page of the wubbanet";for(var a=0,b=j.links;a<b.length;){var c=b[a];++a;c.innerHTML=D.translate(c.innerHTML)}a=0;for(b=e.Browser.document.body.getElementsByClassName("author");a<b.length;)c=b[a],++a,c.innerHTML="dubstep";a=0;for(b=e.Browser.document.body.getElementsByClassName("subreddit");a<b.length;)c=b[a],++a,
c.innerHTML="people with brains";a=0;for(b=e.Browser.document.body.getElementsByClassName("score");a<b.length;)c=b[a],++a,c.innerHTML="-&infin;";a=0;for(b=e.Browser.document.body.getElementsByTagName("p");a<b.length;)c=b[a],++a,"parent"!=c.className&&(c.innerHTML=D.translate(c.innerHTML))};var Q=function(){};r.Lambda=Q;Q.__name__=["Lambda"];Q.has=function(a,b){var c;if(a instanceof Array)c=function(){return l.iter(a)};else if("function"==typeof a.iterator){c=a.iterator;var d=function(){return d.method.apply(d.scope,
arguments)};d.scope=a;d.method=c;c=d}else c=a.iterator;for(c=c();c.hasNext();)if(c.next()==b)return!0;return!1};var j=function(){};r.Reditn=j;for(var x="undefined"!=typeof window?window:exports,E=["Reditn"],V=0;V<E.length-1;++V){var W=E[V];"undefined"==typeof x[W]&&(x[W]={});x=x[W]}x[E[E.length-1]]=j;j.__name__=["Reditn"];j.main=function(){switch(e.Browser.document.readyState){case "complete":j.init();break;default:e.Browser.window.onload=function(){j.init()}}};j.init=function(){if(-1!=e.Browser.window.location.href.indexOf("reddit.")){j.fullPage=
0<e.Browser.document.getElementsByClassName("tabmenu").length;j.links=e.Browser.document.body.getElementsByClassName("title");for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&"parent"!=d.parentElement.className&&a.push(d)}j.links=a;j.wrap(k.init);j.wrap(I.init,"adblock");j.wrap(P.init,"dup-hider");j.wrap(R.init,"nsfw-filter");S.init();j.wrap(v.init,"expand");j.wrap(T.init,"text-expand");j.wrap(t.init,"keys");j.wrap(J.init,"preview");j.wrap(K.init,"subinfo");j.wrap(L.init,
"userinfo");j.wrap(M.init,"user-tag");j.wrap(N.init,"sub-tag");e.Browser.window.history.replaceState(g.Serializer.run(j.state()),null,v.toggled?"#showall":null);e.Browser.window.onpopstate=function(a){a=a.state;if(null!=a){a=g.Unserializer.run(a);a.allExpanded!=v.toggled&&v.toggle(a.allExpanded);for(var b=0,c=v.buttons;b<c.length;){var d=c[b];++b;var e=a.expanded;e.exists(d.url)&&d.toggle(e.get(d.url),!1)}}}}};j.state=function(){for(var a=new g.ds.StringMap,b=0,c=v.buttons;b<c.length;){var d=c[b];
++b;d.toggled()!=v.toggled&&a.set(d.url,d.toggled())}return{allExpanded:v.toggled,expanded:a}};j.wrap=function(a,b){var c=null==b?null:k.data.get(b);(null==b||c)&&a()};j.formatNumber=function(a){if(Math.isFinite(a)){var b=u.string(Math.abs(a)),c;-1!=b.indexOf(".")?(c=l.substr(b,b.indexOf("."),null),b=l.substr(b,0,b.indexOf("."))):c="";if(3<=b.length){for(var d="",f=0,q=b.length;f<q;){var e=f++,d=d+b.charAt(e);0==(b.length-(e+1))%3&&e<b.length-1&&(d+=",")}b=d}a=(0>a?"-"+b:b)+c}else a=u.string(a);return a};
j.formatPrice=function(a){var b=j.formatNumber(a|0);a=u.string(a);for(a=-1==a.indexOf(".")?".":l.substr(a,a.indexOf("."),null);3>a.length;)a+="0";return""+b+a};j.show=function(a,b){a.style.display=b?"":"none";if(-1!=a.className.indexOf("link")&&!b){var c=a.getElementsByClassName("entry")[0];l.remove(j.links,c.getElementsByTagName("a")[0])}};j.age=function(a){if(86400>a)return"less than a day";a=g.Timer.stamp()-a;var b=a/86400%30.4375|0,c=a/2629800%12|0;a=a/2629800/12|0;var d="";0<a&&(d+=""+a+" year"+
(1>=a?"":"s"));0<c&&(d+=", "+c+" month"+(1>=c?"":"s"));d+=", "+b+" day"+(1>=b?"":"s");for(p.startsWith(d,", ")&&(d=l.substr(d,2,null));-1!=d.indexOf(", , ");)d=p.replace(d,", , ",", ");return d};j.embedAlbum=function(a){var b=e.Browser.document.createElement("span");b.style.textAlign="center";for(var c=[],d=0;d<a.length;){var f=a[d];++d;c.push(function(){var a=v.loadImage(f.url);a.title=(null!=f.caption?f.caption+" ":"")+(null!=f.author?"by "+f.author:"");b.appendChild(a);j.show(a,!1);return a}(this))}var q=
null,g=e.Browser.document.createElement("span");g.style.fontWeight="bold";g.style.marginLeft="10px";var m=0,h=null,F=null,l=null;1<a.length&&(h=e.Browser.document.createElement("button"),h.innerHTML="Prev",b.appendChild(h),F=e.Browser.document.createElement("span"),F.style.textAlign="center",F.style.paddingLeft=F.style.paddingRight="5px",b.appendChild(F),l=e.Browser.document.createElement("button"),l.innerHTML="Next",b.appendChild(l));if(1<a.length||null!=a[0].caption&&0<a[0].caption.length)b.appendChild(g),
b.appendChild(e.Browser.document.createElement("br"));var k=function(d){if(!(0>d||d>=a.length)){var f=a[d],e=null;null!=q&&(j.show(q,!1),e=u.parseInt(q.style.height));q=c[d];q.style.display="block";if(null!=e){var m=q.width/q.height;q.style.height=e+"px";q.style.width=(e*m|0)+"px"}b.appendChild(q);null!=h&&(e=j.formatNumber(a.length),m=j.formatNumber(d+1),F.innerHTML=""+m+" of "+e,h.disabled=0>=d,l.disabled=d>=a.length-1);j.show(g,null!=f.caption);null!=f.caption&&(g.innerHTML=p.htmlEscape(f.caption),
null!=f.author&&(g.innerHTML+=" <em>by "+f.author+"</em>"))}};k(0);null!=h&&(h.onmousedown=function(){k(--m)},l.onmousedown=function(){k(++m)});return b};j.getData=function(a){for(;null!=a.data;)a=a.data;for(;null!=a.response;)a=a.response;return a};j.getText=function(a,b,c,d,f){a=new g.Http(a);null!=c&&a.setHeader("Authorization",c);null!=d&&a.setHeader("Content-Type",d);a.onData=b;null!=f&&a.setPostData(f);a.request(null!=f)};j.embedMap=function(a){for(var b=e.Browser.document.createElement("dl"),
c=a.keys();c.hasNext();){var d=c.next();if(null!=a.get(d)&&0<a.get(d).length){var f=e.Browser.document.createElement("dt");f.innerHTML=d;b.appendChild(f);f=e.Browser.document.createElement("dd");f.innerHTML=a.get(d);b.appendChild(f)}}b.className="md reditn-table";return b};j.getJSON=function(a,b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){p.startsWith(a,"jsonFlickrApi(")&&p.endsWith(a,")")&&(a=a.substring(14,a.length-1));b(j.getData(g.Json.parse(a)))},c,d,f)};j.getXML=function(a,
b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){b(j.getData(n.parse(a)))},c,d,f)};j.popUp=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);e.Browser.document.body.appendChild(b);b.className="popup";b.style.position="absolute";b.style.width=(0.25*e.Browser.window.innerWidth|0)+"px";b.style.left=""+c+"px";b.style.top=""+(d-30)+"px";a.onmouseout=b.onblur=function(){b.parentElement.removeChild(b);a.mouseover=!1};return b};j.fullPopUp=function(a,b){null==b&&(b=0);var c=e.Browser.document.getElementsByClassName("popup")[0];
null!=c&&c.parentElement.removeChild(c);e.Browser.document.body.appendChild(a);c=e.Browser.document.createElement("a");c.style.position="absolute";c.style.right=c.style.top="5px";c.innerHTML="<b>Close</b>";c.href="javascript:void(0);";c.onclick=a.onblur=function(){a.parentElement.removeChild(a)};a.appendChild(c);a.className="popup";0!=b&&(a.style.top=""+(b-e.Browser.window.scrollY)+"px");return a};var p=function(){};r.StringTools=p;p.__name__=["StringTools"];p.urlEncode=function(a){return encodeURIComponent(a)};
p.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};p.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};p.startsWith=function(a,b){return a.length>=b.length&&l.substr(a,0,b.length)==b};p.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&l.substr(a,d-c,c)==b};p.isSpace=function(a,b){var c=l.cca(a,b);return 8<c&&14>c||32==c};p.ltrim=function(a){for(var b=
a.length,c=0;c<b&&p.isSpace(a,c);)c++;return 0<c?l.substr(a,c,b-c):a};p.rtrim=function(a){for(var b=a.length,c=0;c<b&&p.isSpace(a,b-c-1);)c++;return 0<c?l.substr(a,0,b-c):a};p.trim=function(a){return p.ltrim(p.rtrim(a))};p.replace=function(a,b,c){return a.split(b).join(c)};var g={Json:function(){}};r["haxe.Json"]=g.Json;g.Json.__name__=["haxe","Json"];g.Json.parse=function(a){return(new g.Json).doParse(a)};g.Json.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,d=!c,f=48==a,e=!1,g=
!1,m=!1,j=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:f&&!e&&this.invalidNumber(b);c&&(c=!1,f=!0);d=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f&&!e&&this.invalidNumber(b);c&&(c=!1);d=!0;f=!1;break;case 46:(c||e)&&this.invalidNumber(b);d=!1;e=!0;break;case 101:case 69:(c||f||g)&&this.invalidNumber(b);d=!1;g=!0;break;case 43:case 45:(!g||m)&&this.invalidNumber(b);d=!1;m=!0;break;default:d||this.invalidNumber(b),this.pos--,j=!0}if(j)break}a=u.parseFloat(l.substr(this.str,
b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+l.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new H;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\b";break;case 102:b.b+="\f";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);
break;case 117:a=u.parseInt("0x"+l.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;
case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),
a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=
this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:g.Json};g.Http=function(a){this.url=a;this.headers=new g.ds.StringMap;
this.params=new g.ds.StringMap;this.async=!0};r["haxe.Http"]=g.Http;g.Http.__name__=["haxe","Http"];g.Http.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=this;b.responseData=null;var c=e.Browser.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(b.responseData=c.responseText);else if(null==a)b.onError("Failed to connect or resolve host");
else switch(a){case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var f=this.postData;if(null!=f)a=!0;else for(var q=this.params.keys();q.hasNext();)var g=q.next(),f=null==f?"":f+"&",f=f+(p.urlEncode(g)+"="+p.urlEncode(this.params.get(g)));try{if(a)c.open("POST",this.url,this.async);else if(null!=f){var m=1>=this.url.split("?").length;c.open("GET",
this.url+(m?"?":"&")+f,this.async);f=null}else c.open("GET",this.url,this.async)}catch(j){this.onError(j.toString());return}null==this.headers.get("Content-Type")&&(a&&null==this.postData)&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)q=a.next(),c.setRequestHeader(q,this.headers.get(q));c.send(f);this.async||d(null)},setPostData:function(a){this.postData=a;return this},setHeader:function(a,b){this.headers.set(a,b);return this},__class__:g.Http};
x=function(){};r.IMap=x;x.__name__=["IMap"];g.ds={};g.ds.StringMap=function(){this.h={}};r["haxe.ds.StringMap"]=g.ds.StringMap;g.ds.StringMap.__name__=["haxe","ds","StringMap"];g.ds.StringMap.__interfaces__=[x];g.ds.StringMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return l.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:g.ds.StringMap};var u=
function(){};r.Std=u;u.__name__=["Std"];u.string=function(a){return e.Boot.__string_rec(a,"")};u.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==l.cca(a,1)||88==l.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};u.parseFloat=function(a){return parseFloat(a)};u.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var e={Boot:function(){}};r["js.Boot"]=e.Boot;e.Boot.__name__=["js","Boot"];e.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;
if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,f=a.length;d<f;)var q=d++,c=2!=q?c+(","+e.Boot.__string_rec(a[q],b)):c+e.Boot.__string_rec(a[q],b);return c+")"}d=a.length;c="[";b+="\t";for(f=0;f<d;)q=f++,c+=(0<q?",":"")+e.Boot.__string_rec(a[q],b);return c+"]"}try{f=a.toString}catch(g){return"???"}if(null!=f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;
f=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(f in a)if(!d||a.hasOwnProperty(f))"prototype"==f||("__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f)||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+e.Boot.__string_rec(a[f],b));b=b.substring(1);return c+="\n"+b+"}";case "function":return"<function>";case "string":return a;default:return String(a)}};e.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var q=
d++,q=c[q];if(q==b||e.Boot.__interfLoop(q,b))return!0}return e.Boot.__interfLoop(a.__super__,b)};e.Boot.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(e.Boot.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case Y:return Math.ceil(a%2147483648)===a;case Z:return"number"==typeof a;case U:return!0===a||!1===a;case String:return"string"==typeof a;case $:return!0;default:if(null==a)return!1;if(b==aa&&null!=a.__name__)return!0;null;if(b==
ba&&null!=a.__ename__)return!0;null;return a.__enum__==b}};e.Boot.__cast=function(a,b){if(e.Boot.__instanceof(a,b))return a;throw"Cannot cast "+u.string(a)+" to "+u.string(b);};var z=function(){};r.Reflect=z;z.__name__=["Reflect"];z.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};z.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};z.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&c.call(a,d)&&b.push(d)}return b};
z.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};z.deleteField=function(a,b){if(!z.hasField(a,b))return!1;delete a[b];return!0};var A,C;A=function(){};r["parser.MediaWiki"]=A;A.__name__=["parser","MediaWiki"];A.parse=function(a,b){for(var c=0,d=A.regex;c<d.length;){var f=d[c];++c;for(var e=0;f.from.match(a)&&64>e++;)a=f.from.replace(a,f.to),f.from.matchedPos()}a=p.replace(a,"$BASE",b);p.startsWith(a,"<br>")&&(a=l.substr(a,4,null));a.split("{{").length<a.split("}}").length&&
(a=l.substr(a,a.indexOf("}}")+2,null));return a};A.trimTo=function(a,b){b=p.trim(p.replace(b,"_"," "));for(var c={pos:0,len:0},d=null;A.sections.matchSub(a,c.pos+c.len);)if(c=A.sections.matchedPos(),p.trim(A.sections.matched(2))==p.trim(b)){d=A.sections.matched(1).length;break}null!=d&&(a=l.substr(a,c.pos+c.len,null),a=l.substr(a,0,a.indexOf("<h"+d+">")));return a};A.getAlbum=function(a){for(var b=[];A.IMAGES.match(a);){var c=A.IMAGES.matchedPos();a=l.substr(a,c.pos+c.len,null);c=A.IMAGES.matched(2)+
"."+A.IMAGES.matched(3);p.startsWith(c,"File:")&&(c=l.substr(c,5,null));b.push({url:c,caption:null,author:null})}return b};e.Browser=function(){};r["js.Browser"]=e.Browser;e.Browser.__name__=["js","Browser"];e.Browser.getLocalStorage=function(){try{var a=e.Browser.window.localStorage;a.getItem("");return a}catch(b){return null}};e.Browser.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");
throw"Unable to create XMLHttpRequest object.";};C=function(){};r["parser.Markdown"]=C;C.__name__=["parser","Markdown"];C.parse=function(a){for(;C.header.match(a);)C.header.matchedPos(),a=1+C.header.matched(1).length,6<a&&(a=6),a=C.header.matchedLeft()+("<h"+a+">"+C.header.matched(2)+"</h"+a+">")+C.header.matchedRight();for(var b=0,c=C.regex;b<c.length;){var d=c[b];for(++b;d.from.match(a);)a=d.from.replace(a,d.to)}return a};var n=function(){};r.Xml=n;n.__name__=["Xml"];n.parse=function(a){return g.xml.Parser.parse(a)};
n.createElement=function(a){var b=new n;b.nodeType=n.Element;b._children=[];b._attributes=new g.ds.StringMap;b.set_nodeName(a);return b};n.createPCData=function(a){var b=new n;b.nodeType=n.PCData;b.set_nodeValue(a);return b};n.createCData=function(a){var b=new n;b.nodeType=n.CData;b.set_nodeValue(a);return b};n.createComment=function(a){var b=new n;b.nodeType=n.Comment;b.set_nodeValue(a);return b};n.createDocType=function(a){var b=new n;b.nodeType=n.DocType;b.set_nodeValue(a);return b};n.createProcessingInstruction=
function(a){var b=new n;b.nodeType=n.ProcessingInstruction;b.set_nodeValue(a);return b};n.createDocument=function(){var a=new n;a.nodeType=n.Document;a._children=[];return a};n.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&l.remove(a._parent._children,a);a._parent=this;this._children.push(a)},exists:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=n.Element)throw"bad nodeType";
this._attributes.set(a,b)},set_nodeValue:function(a){if(this.nodeType==n.Element||this.nodeType==n.Document)throw"bad nodeType";return this._nodeValue=a},set_nodeName:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName},__class__:n};g.xml={};g.xml.Parser=function(){};r["haxe.xml.Parser"]=g.xml.Parser;g.xml.Parser.__name__=["haxe","xml","Parser"];g.xml.Parser.parse=function(a){var b=
n.createDocument();g.xml.Parser.doParse(a,0,b);return b};g.xml.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,f=1,e=1,j=null,m=0,h=0,F=0,s=a.charCodeAt(b),p=new H;s==s;){switch(f){case 0:switch(s){case 10:case 13:case 9:case 32:break;default:f=e;continue}break;case 1:switch(s){case 60:f=0;e=2;break;default:m=b;f=13;continue}break;case 13:60==s?(f=n.createPCData(p.b+l.substr(a,m,b-m)),p=new H,c.addChild(f),h++,f=0,e=2):38==s&&(p.addSub(a,m,b-m),f=18,e=13,m=b+1);break;case 17:93==s&&(93==
a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(f=n.createCData(l.substr(a,m,b-m)),c.addChild(f),h++,b+=2,f=1);break;case 2:switch(s){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=l.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;f=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=l.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;f=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;f=15}m=b+1;break;case 63:f=14;m=b;break;
case 47:if(null==c)throw"Expected node name";m=b+1;f=0;e=10;break;default:f=3;m=b;continue}break;case 3:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(b==m)throw"Expected node name";d=n.createElement(l.substr(a,m,b-m));c.addChild(d);f=0;e=4;continue}break;case 4:switch(s){case 47:f=11;h++;break;case 62:f=9;h++;break;default:f=5;m=b;continue}break;case 5:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected attribute name";
j=l.substr(a,m,b-m);if(d.exists(j))throw"Duplicate attribute";f=0;e=6;continue}break;case 6:switch(s){case 61:f=0;e=7;break;default:throw"Expected =";}break;case 7:switch(s){case 34:case 39:f=8;m=b;break;default:throw'Expected "';}break;case 8:s==a.charCodeAt(m)&&(e=l.substr(a,m+1,b-m-1),d.set(j,e),f=0,e=4);break;case 9:m=b=g.xml.Parser.doParse(a,b,d);f=1;break;case 11:switch(s){case 62:f=1;break;default:throw"Expected >";}break;case 12:switch(s){case 62:return 0==h&&c.addChild(n.createPCData("")),
b;default:throw"Expected >";}case 10:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected node name";if(l.substr(a,m,b-m)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";f=0;e=12;continue}break;case 15:45==s&&(45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(c.addChild(n.createComment(l.substr(a,m,b-m))),b+=2,f=1);break;case 16:91==s?F++:93==s?F--:62==s&&0==F&&(c.addChild(n.createDocType(l.substr(a,m,b-m))),f=1);break;case 14:63==s&&62==a.charCodeAt(b+
1)&&(b++,f=l.substr(a,m+1,b-m-2),c.addChild(n.createProcessingInstruction(f)),f=1);break;case 18:59==s&&(m=l.substr(a,m,b-m),35==m.charCodeAt(0)?(m=120==m.charCodeAt(1)?u.parseInt("0"+l.substr(m,1,m.length-1)):u.parseInt(l.substr(m,1,m.length-1)),p.b+=u.string(String.fromCharCode(m))):p.b=g.xml.Parser.escapes.exists(m)?p.b+u.string(g.xml.Parser.escapes.get(m)):p.b+u.string("&"+m+";"),m=b+1,f=e)}s=a.charCodeAt(++b)}1==f&&(m=b,f=13);if(13==f)return(b!=m||0==h)&&c.addChild(n.createPCData(p.b+l.substr(a,
m,b-m))),b;throw"Unexpected end";};var H=function(){this.b=""};r.StringBuf=H;H.__name__=["StringBuf"];H.prototype={addSub:function(a,b,c){this.b+=null==c?l.substr(a,b,null):l.substr(a,b,c)},__class__:H};var y=function(){};r.Link=y;y.__name__=["Link"];y.resolve=function(a){a=y.trimURL(a);for(var b=0,c=y.sites;b<c.length;){var d=c[b];++b;try{if(d.regex.match(a)&&d.regex.matchedPos().len==a.length)return d}catch(f){console.log("Error "+u.string(f)+" whilst processing regex "+u.string(d.regex))}}return null};
y.trimURL=function(a){p.startsWith(a,"http://")?a=l.substr(a,7,null):p.startsWith(a,"https://")&&(a=l.substr(a,8,null));p.startsWith(a,"www.")?a=l.substr(a,4,null):p.startsWith(a,"m.")&&(a=l.substr(a,2,null));-1!=a.indexOf("&")&&(a=l.substr(a,0,a.indexOf("&")));-1!=a.indexOf("?")&&!p.startsWith(a,"facebook.com/")&&(a=l.substr(a,0,a.indexOf("?")));-1!=a.indexOf("#")&&-1==a.indexOf("/wiki/")&&(a=l.substr(a,0,a.indexOf("#")));p.endsWith(a,"/")&&(a=l.substr(a,0,a.length-1));return a};y.filterHTML=function(a){for(var b=
0,c=y.HTML_FILTERS;b<c.length;){var d=c[b];for(++b;d.match(a);)a=d.replace(a,"")}b=0;for(c=y.HTML_CLEANERS;b<c.length;)d=c[b],++b,a=d.from.replace(a,d.to);if(p.startsWith(a,"<br>")||p.startsWith(a,"<br />"))a=l.substr(a,a.indexOf(">")+1,null);p.endsWith(a,"<br>")&&(a=l.substr(a,0,a.length-4));return a};y.createButton=function(a,b,c){var d=y.resolve(a),f=null;if(null!=d){var q=e.Browser.document.createElement("div"),h="expando-button ",m=v.toggled,l=m?"expanded":"collapsed";q.className=""+h+" "+l;
f={toggled:function(){return m},toggle:function(a,b){m=a;q.className=h+(l=m?"expanded":"collapsed");for(var c=q.parentElement.getElementsByClassName("expando"),d=0;d<c.length;){var f=c[d];++d;j.show(f,a)}b&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:a,element:q};q.onclick=function(){f.toggle(!m,!0)};d.method(d.regex,function(d){var s="selftext",k;if(z.hasField(d,"urls")){var r=[];for(k=d.urls.keys();k.hasNext();){var n=k.next();r.push('<li><a href="'+d.urls.get(n)+
'">'+n+"</a></li>")}k=e.Browser.document.createElement("div");k.className="usertext";n=e.Browser.document.createElement("div");n.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Name",d.name);a.set("Description",d.description);a.set("Links",r.join(""));return a}(this)));0<d.album.length&&(n.appendChild(e.Browser.document.createElement("br")),n.appendChild(j.embedAlbum(d.album)));k.appendChild(n)}else if(z.hasField(d,"price"))k=e.Browser.document.createElement("div"),k.className="usertext",
s=e.Browser.document.createElement("div"),s.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Category",p.htmlEscape(d.category));a.set("Location",p.htmlEscape(d.location));a.set("Price",p.htmlEscape(d.price));a.set("Description",d.description);return a}(this))),s.appendChild(j.embedAlbum(d.images)),k.appendChild(s),s="item";else if(z.hasField(d,"subscribers"))k=e.Browser.document.createElement("div"),k.className="usertext",k.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;
a.set("Age",j.age(d.created_utc));a.set("Subscribers",j.formatNumber(d.subscribers));a.set("Active users",j.formatNumber(d.accounts_active));a.set("Description",C.parse(d.description));return a}(this)));else if(z.hasField(d,"content")){k=e.Browser.document.createElement("div");k.className="usertext";var n=e.Browser.document.createElement("div"),t=e.Browser.document.createElement("span");t.innerHTML=d.content;n.appendChild(t);null!=d.images&&0<d.images.length&&(n.appendChild(e.Browser.document.createElement("br")),
n.appendChild(j.embedAlbum(d.images)));n.className="md";k.appendChild(n)}else e.Boot.__instanceof(d,Array)&&z.hasField(d[0],"url")?(k=j.embedAlbum(d),s="image"):z.hasField(d,"developers")?(console.log(a),k=e.Browser.document.createElement("div"),k.className="usertext",n=e.Browser.document.createElement("div"),t=e.Browser.document.createElement("span"),t.innerHTML=""+u.string(d.description)+'<br><a href="'+u.string(d.url)+'"><b>Clone repo</b></a><br>',null!=d.album&&0<d.album.length&&t.appendChild(j.embedAlbum(d.album)),
n.appendChild(t),n.className="md",k.appendChild(n)):k=null;null!=k&&(n=e.Browser.document.createElement("div"),n.className="expando",n.appendChild(k),h+=""+s+" ",q.className=""+h+" "+l,v.buttons.push(f),j.show(n,m),null==c?b.appendChild(n):b.insertBefore(n,c.nextSibling),b.insertBefore(q,n))})}return null!=f?f.element:null};var O=function(){this.length=0};r.List=O;O.__name__=["List"];O.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==
this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:O};var R=function(){};r.NSFWFilter=R;R.__name__=["NSFWFilter"];R.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("nsfw-stamp"),b=0;b<a.length;){var c=a[b];++b;"li"==c.nodeName.toLowerCase()&&j.show(c.parentNode.parentNode.parentNode,!1)}};var J=function(){};r.Preview=J;J.__name__=["Preview"];J.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-edit"),
b=0;b<a.length;){var c=a[b];++b;J.preview(c)}};J.preview=function(a){var b=a.getElementsByTagName("textarea")[0];if(null!=b){var c=e.Browser.document.createElement("div");a.appendChild(c);c.className="md";var d=null;b.onfocus=function(){d=new g.Timer(100);d.run=function(){c.innerHTML=C.parse(b.value)}};b.onblur=function(){d.stop();d=null}}};var k=function(){};r.Settings=k;k.__name__=["Settings"];k.optimisedData=function(){for(var a=new g.ds.StringMap,b=k.data.keys();b.hasNext();){var c=b.next(),d=
k.data.get(c);k.DEFAULTS.get(c)!=d&&a.set(c,d)}return g.Serializer.run(a)};k.save=function(){g.Serializer.USE_CACHE=!1;e.Browser.getLocalStorage().setItem("reditn",k.optimisedData())};k.init=function(){var a=e.Browser.getLocalStorage().getItem("reditn");if(null!=a){var b;try{b=g.Unserializer.run(a)}catch(c){b=k.data}k.data=b}k.fixMissing();a=e.Browser.document.getElementById("header-bottom-right");b=a.getElementsByTagName("ul")[0];var d=e.Browser.document.createElement("a");d.innerHTML="reditn";d.className=
"pref-lang";d.href="javascript:void(0);";d.onclick=function(){k.settingsPopUp()};null==b?a.appendChild(d):a.insertBefore(d,b);d=e.Browser.document.createElement("span");d.innerHTML=" | ";d.className="seperator";d.style.fontWeight="none";a.insertBefore(d,b)};k.settingsPopUp=function(){var a=e.Browser.document.getElementById("reditn-config");null!=a&&a.parentElement.removeChild(a);var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("h1");b.innerHTML="Reditn settings";a.appendChild(b);
j.fullPopUp(a);var c=e.Browser.document.createElement("form");c.id="reditn-config";c.action="javascript:void(0);";c.onchange=function(){for(var a=c.childNodes,b=0;b<a.length;){var d=a[b];++b;if("button"!=d.type&&"input"==d.nodeName.toLowerCase()){var f=void 0;switch(d.type.toLowerCase()){case "checkbox":f=d.checked;break;default:f=d.value}k.data.set(d.name,f)}}k.save()};b=e.Browser.document.createElement("input");b.type="button";b.value="Restore default settings";b.onclick=function(){k.fixMissing(!0);
k.save();k.settingsPopUp()};c.appendChild(b);b=k.makeButton("Export settings to text",function(){e.Browser.window.alert(e.Browser.window.btoa(k.optimisedData()))});c.appendChild(b);b=k.makeButton("Import settings",function(){k.data=g.Unserializer.run(e.Browser.window.atob(e.Browser.window.prompt("Settings to import",e.Browser.window.btoa(k.optimisedData()))));k.fixMissing();k.save();k.settingsPopUp()});c.appendChild(b);c.appendChild(e.Browser.document.createElement("br"));for(b=k.data.keys();b.hasNext();){var d=
b.next(),f=k.data.get(d);if(!e.Boot.__instanceof(f,g.ds.StringMap)&&k.DESC.exists(d)){var q=k.DESC.get(d),h=e.Browser.document.createElement("label");h.setAttribute("for",d);h.style.position="absolute";h.style.width="46%";h.style.textAlign="right";h.innerHTML=""+q+" ";c.appendChild(h);q=e.Browser.document.createElement("input");q.style.position="absolute";q.style.left="54%";q.style.textAlign="left";q.style.width="46%";q.name=d;c.appendChild(q);c.appendChild(e.Browser.document.createElement("br"));
q.type=e.Boot.__instanceof(f,U)?"checkbox":e.Boot.__instanceof(f,String)?"text":e.Boot.__instanceof(f,Date)?"datetime":e.Boot.__instanceof(f,Y)?"number":null;e.Boot.__instanceof(f,U)?q.checked=k.data.get(d):q.value=k.data.get(d)}}b=e.Browser.document.createElement("div");b.style.fontWeight="bold";b.innerHTML="Close this dialog and refresh the page to see your changes in effect. Changes will be saved automatically.";c.appendChild(b);a.appendChild(c)};k.makeButton=function(a,b){var c=e.Browser.document.createElement("input");
c.type="button";c.value=a;c.onclick=b;return c};k.fixMissing=function(a){null==a&&(a=!1);for(var b=k.DEFAULTS.keys();b.hasNext();){var c=b.next();if(a||!k.data.exists(c))k.data.set(c,e.Boot.__instanceof(k.DEFAULTS.get(c),g.ds.StringMap)?new g.ds.StringMap:k.DEFAULTS.get(c))}};var S=function(){};r.Style=S;S.__name__=["Style"];S.init=function(){var a=e.Browser.document.createElement("style");a.innerHTML='.expando-button.image.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.collapsed {\n\tpadding: 0px;\n}\np .expando-button {\n\tdisplay: inline-block;\n\tfloat: none;\n\tmargin: 0px;\n\tpadding: 0px;\n}\ndl.reditn-table  {\n\tfloat: left;\n\twidth: 100%;\n\tpadding: 0;\n}\n.reditn-table dt {\n\tclear: left;\n\tfloat: left;\n\twidth: 16%;\n\tfont-weight: bold;\n\ttext-align: right;\n}\n.reditn-table dd {\n\tfloat: left;\n\ttext-align: left;\n}';
e.Browser.document.head.appendChild(a)};var K=function(){};r.SubredditInfo=K;K.__name__=["SubredditInfo"];K.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=K._onMouseOverSubreddit}};K._onMouseOverSubreddit=function(a){a=a.target;var b=a.innerHTML,c=e.Browser.document.createElement("div");j.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/r/"+b+"/about.json",function(a){var f=j.formatNumber(a.subscribers),
e=j.formatNumber(a.accounts_active),g=C.parse(a.public_description);a=j.age(a.created_utc);var m="<b>Name:</b> "+b+" <br>",h=k.data.get("sub-tags");h.exists(b)&&(m+="<b>Tag:</b> "+h.get(b)+"<br>");m=m+("<b>Subscribers:</b> "+f+" <br>")+("<b>Active Users:</b> "+e+" <br>");m+="<b>Description:</b> "+g+" <br>";m+="<b>Age:</b> "+a+" <br>";c.innerHTML=m})};var N=function(){};r.SubredditTagger=N;N.__name__=["SubredditTagger"];N.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),
b=0;b<a.length;){var c=a[b];++b;N.getTag(c)}};N.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("sub-tags").exists(c)?k.data.get("sub-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),
b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("sub-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};var T=function(){};r.TextExpand=
T;T.__name__=["TextExpand"];T.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-body"),b=0;b<a.length;){var c=a[b];++b;for(var c=e.Boot.__cast(c,Element).getElementsByClassName("md")[0].getElementsByTagName("a"),d=0;d<c.length;){var f=c[d];++d;y.createButton(f.href,f.parentElement,f)}}};var w=r.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};w.TNull=["TNull",0];w.TNull.toString=G;w.TNull.__enum__=
w;w.TInt=["TInt",1];w.TInt.toString=G;w.TInt.__enum__=w;w.TFloat=["TFloat",2];w.TFloat.toString=G;w.TFloat.__enum__=w;w.TBool=["TBool",3];w.TBool.toString=G;w.TBool.__enum__=w;w.TObject=["TObject",4];w.TObject.toString=G;w.TObject.__enum__=w;w.TFunction=["TFunction",5];w.TFunction.toString=G;w.TFunction.__enum__=w;w.TClass=function(a){a=["TClass",6,a];a.__enum__=w;a.toString=G;return a};w.TEnum=function(a){a=["TEnum",7,a];a.__enum__=w;a.toString=G;return a};w.TUnknown=["TUnknown",8];w.TUnknown.toString=
G;w.TUnknown.__enum__=w;var B=function(){};r.Type=B;B.__name__=["Type"];B.getClassName=function(a){return a.__name__.join(".")};B.getEnumName=function(a){return a.__ename__.join(".")};B.resolveClass=function(a){a=r[a];return null==a||!a.__name__?null:a};B.resolveEnum=function(a){a=r[a];return null==a||!a.__ename__?null:a};B.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};B.createEnum=function(a,b,c){var d=z.field(a,b);if(null==d)throw"No such constructor "+b;if(z.isFunction(d)){if(null==
c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};B.getEnumConstructs=function(a){return a.__constructs__.slice()};B["typeof"]=function(a){switch(typeof a){case "boolean":return w.TBool;case "string":return w.TClass(String);case "number":return Math.ceil(a)==a%2147483648?w.TInt:w.TFloat;case "object":if(null==a)return w.TNull;var b=a.__enum__;if(null!=b)return w.TEnum(b);a=a.__class__;return null!=a?w.TClass(a):
w.TObject;case "function":return a.__name__||a.__ename__?w.TObject:w.TFunction;case "undefined":return w.TNull;default:return w.TUnknown}};var L=function(){};r.UserInfo=L;L.__name__=["UserInfo"];L.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=L._onMouseOverUser}};L._onMouseOverUser=function(a){a=a.target;var b=a.innerHTML,b=l.substr(b,b.lastIndexOf("/")+1,null),c=e.Browser.document.createElement("div");j.popUp(a,c,
a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/user/"+b+"/about.json",function(a){var b=a.name,e=j.age(a.created_utc),g=j.formatNumber(a.link_karma),h=j.formatNumber(a.comment_karma),l="<b>User:</b> "+b+"<br>",p=k.data.get("user-tags");p.exists(b)&&(l+="<b>Tag:</b> "+p.get(b)+"<br>");l=l+("<b>Account age:</b> "+e+"<br>")+("<b>Karma:</b> "+g+" link karma, "+h+" comment karma");a.is_mod&&(l+="<br><b>Moderator</b>");a.is_gold&&(l+="<br><b>Gold</b>");c.innerHTML=l})};var M=function(){};r.UserTagger=
M;M.__name__=["UserTagger"];M.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;M.getTag(c)}};M.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("user-tags").exists(c)?k.data.get("user-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";
g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("user-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+
g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};r.XmlType={__ename__:["XmlType"],__constructs__:[]};g.Serializer=function(){this.buf=new H;this.cache=[];this.useCache=g.Serializer.USE_CACHE;this.useEnumIndex=g.Serializer.USE_ENUM_INDEX;this.shash=new g.ds.StringMap;this.scount=0};r["haxe.Serializer"]=g.Serializer;g.Serializer.__name__=["haxe","Serializer"];g.Serializer.run=function(a){var b=new g.Serializer;b.serialize(a);return b.toString()};g.Serializer.prototype={serialize:function(a){var b=
B["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=u.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=u.string(a)):this.buf.b+=u.string(0>a?"m":"p");break;case 3:this.buf.b+=u.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var d=a.length,f=0;f<d;)b=f++,
null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=u.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=u.string(c)));this.buf.b+="h";break;case O:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=u.string(l.dateStr(a));break;case g.ds.StringMap:this.buf.b+="b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));
this.buf.b+="h";break;case g.ds.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=u.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case g.ds.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=c.next(),d=z.field(b,"__id__"),z.deleteField(b,"__id__"),this.serialize(b),b.__id__=d,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case g.io.Bytes:b=0;c=a.length-2;d=new H;for(f=g.Serializer.BASE64;b<c;){var e=a.b[b++],h=a.b[b++],j=a.b[b++];d.b+=u.string(f.charAt(e>>
2));d.b+=u.string(f.charAt((e<<4|h>>4)&63));d.b+=u.string(f.charAt((h<<2|j>>6)&63));d.b+=u.string(f.charAt(j&63))}b==c?(e=a.b[b++],h=a.b[b++],d.b+=u.string(f.charAt(e>>2)),d.b+=u.string(f.charAt((e<<4|h>>4)&63)),d.b+=u.string(f.charAt(h<<2&63))):b==c+1&&(e=a.b[b++],d.b+=u.string(f.charAt(e>>2)),d.b+=u.string(f.charAt(e<<4&63)));b=d.b;this.buf.b+="s";this.buf.b+=u.string(b.length);this.buf.b+=":";this.buf.b+=u.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(B.getClassName(b)),
this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(B.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=u.string(this.useEnumIndex?"j":"w");this.serializeString(B.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=u.string(a[1])):this.serializeString(a[0]);
this.buf.b+=":";d=a.length;this.buf.b+=u.string(d-2);for(f=2;f<d;)b=f++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+u.string(a);}},serializeFields:function(a){for(var b=0,c=z.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(z.field(a,d))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var f=c++,e=this.cache[f];if(typeof e==b&&e==a)return this.buf.b+="r",
this.buf.b+=u.string(f),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=u.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=p.urlEncode(a),this.buf.b+=u.string(a.length),this.buf.b+=":",this.buf.b+=u.string(a))},toString:function(){return this.buf.b},__class__:g.Serializer};g.Timer=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};r["haxe.Timer"]=g.Timer;g.Timer.__name__=["haxe","Timer"];g.Timer.delay=
function(a,b){var c=new g.Timer(b);c.run=function(){c.stop();a()};return c};g.Timer.stamp=function(){return(new Date).getTime()/1E3};g.Timer.prototype={run:function(){console.log("run")},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:g.Timer};g.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=g.Unserializer.DEFAULT_RESOLVER;null==a&&(a=B,g.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};r["haxe.Unserializer"]=
g.Unserializer;g.Unserializer.__name__=["haxe","Unserializer"];g.Unserializer.initCodes=function(){for(var a=[],b=0,c=g.Unserializer.BASE64.length;b<c;){var d=b++;a[g.Unserializer.BASE64.charCodeAt(d)]=d}return a};g.Unserializer.run=function(a){return(new g.Unserializer(a)).unserialize()};g.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return u.parseFloat(l.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=l.substr(this.buf,this.pos,b);this.pos+=b;a=p.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=
this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();
a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=B.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+
b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new O;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new g.ds.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new g.ds.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);
if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new g.ds.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=l.strDate(l.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";d=g.Unserializer.CODES;null==d&&(d=g.Unserializer.initCodes(),g.Unserializer.CODES=
d);for(var a=this.pos,f=b&3,e=a+(b-f),h=g.io.Bytes.alloc(3*(b>>2)+(2<=f?f-1:0)),j=0;a<e;){var k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)];h.b[j++]=(k<<2|n>>4)&255;k=d[c.charCodeAt(a++)];h.b[j++]=(n<<4|k>>2)&255;n=d[c.charCodeAt(a++)];h.b[j++]=(k<<6|n)&255}2<=f&&(k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)],h.b[j++]=(k<<2|n>>4)&255,3==f&&(k=d[c.charCodeAt(a++)],h.b[j++]=(n<<4|k>>2)&255));this.pos+=b;this.cache.push(h);return h;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==
a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return B.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return B.createEnum(a,b,d)},unserializeObject:function(a){for(;;){if(this.pos>=
this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!e.Boot.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},
resolveEnum:function(){return null}}:a},__class__:g.Unserializer};g.ds.IntMap=function(){this.h={}};r["haxe.ds.IntMap"]=g.ds.IntMap;g.ds.IntMap.__name__=["haxe","ds","IntMap"];g.ds.IntMap.__interfaces__=[x];g.ds.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return l.iter(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:g.ds.IntMap};g.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};r["haxe.ds.ObjectMap"]=g.ds.ObjectMap;
g.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];g.ds.ObjectMap.__interfaces__=[x];g.ds.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return l.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=++g.ds.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:g.ds.ObjectMap};g.io={};g.io.Bytes=function(a,b){this.length=a;this.b=b};r["haxe.io.Bytes"]=g.io.Bytes;g.io.Bytes.__name__=["haxe","io","Bytes"];
g.io.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new g.io.Bytes(a,b)};g.io.Bytes.prototype={__class__:g.io.Bytes};Array.prototype.indexOf?l.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0}:null;"undefined"!=typeof JSON&&(g.Json=JSON);String.prototype.__class__=r.String=String;String.__name__=["String"];Array.prototype.__class__=r.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=r.Date=Date;Date.__name__=["Date"];var Y=r.Int={__name__:["Int"]},
$=r.Dynamic={__name__:["Dynamic"]},Z=r.Float=Number;Z.__name__=["Float"];var U=r.Bool=Boolean;U.__ename__=["Bool"];var aa=r.Class={__name__:["Class"]},ba={};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;r.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};n.Element="element";n.PCData="pcdata";n.CData="cdata";n.Comment="comment";n.DocType="doctype";n.ProcessingInstruction=
"processingInstruction";n.Document="document";v.buttons=[];v.queue=0;t.keys=[];t.konami=[38,38,40,40,37,39,37,39,66,65];D.words=["wubba","mcwubber","dubba","dadubber"];D.filter=new h("[a-zA-Z]*","");j.fullPage=!0;A.regex=[{from:new h("\\[\\[Category:([^\\]]*)\\]\\]",""),to:""},{from:new h("\\[\\[([^\\]\n]*)\\|([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$2</a>'},{from:new h("\\[\\[([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$1</a>'},{from:new h("<gallery>(.|\n|\n\r)*</gallery>",
""),to:""},{from:new h("\\[\\[File:([^\\]]*)\\]\\]",""),to:""},{from:new h("(=*) ?(References|Gallery) ?\\1.*\\1?",""),to:""},{from:new h("{{spaced ndash}}",""),to:" - "},{from:new h("\\{\\{convert\\|([0-9]*)\\|([^\\|]*)([^\\}]*)\\}\\}",""),to:"$1 $2"},{from:new h("\\{\\{([^\\}]*)\\}\\}",""),to:""},{from:new h("\\{\\|(.|\n|\n\r)*\\|\\}",""),to:""},{from:new h("\\[([^ \\[\\]]*) ([^\\[\\]]*)\\]",""),to:""},{from:new h("'''([^']*)'''",""),to:"<b>$1</b>"},{from:new h("''([^']*)''",""),to:"<em>$1</em>"},
{from:new h("======([^=]*)======",""),to:"<h6>$1</h6>"},{from:new h("=====([^=]*)=====",""),to:"<h5>$1</h5>"},{from:new h("====([^=]*)====",""),to:"<h4>$1</h4>"},{from:new h("===([^=]*)===",""),to:"<h3>$1</h3>"},{from:new h("==([^=]*)==",""),to:"<h2>$1</h2>"},{from:new h("\n\\* ?([^\n]*)",""),to:"<li>$1</li>"},{from:new h("<ref>[^<>]*</ref>",""),to:""},{from:new h("\n\r?\n\r?",""),to:"<br>"},{from:new h("\n",""),to:""},{from:new h("<br><br>",""),to:"<br>"},{from:new h("\x3c!--Interwiki links--\x3e.*",
""),to:""},{from:new h("\\[\\]",""),to:""}];A.sections=new h("'=(=*)([^=]*)=\\\\1\n\r?(.|\n|\n\r)*(\\\\1)?'","");A.IMAGES=new h("(File:|img=|Image:)([^\\.\\|\\]\\}\\{\\[<>=]*)\\.(gif|jpg|jpeg|bmp|png|webp|svg|raw)(\\|([^\\)]*))?","");e.Browser.window="undefined"!=typeof window?window:null;e.Browser.document="undefined"!=typeof window?window.document:null;C.images=new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)","");C.regex=[{from:new h("(\\*\\*|__)([^\\1\n]*?)\\1",""),to:"<b>$2</b>"},{from:new h("(\\*|_)([^\\1\n]*?)\\1",
""),to:"<em>$2</em>"},{from:new h("^[\\*|+|-] (.*)$","m"),to:"<ul><li>$1</li></ul>"},{from:new h("</ul><ul>",""),to:""},{from:new h("\n> ([^\n\r]*)",""),to:"<blockquote>$1</blockquote>"},{from:new h("</blockquote>\n?\r?<blockquote>$",""),to:""},{from:new h("~~([^~]*?)~~",""),to:"<del>$1</del>"},{from:new h("\\^([^\\^]+)",""),to:"<sup>$1</sup>"},{from:new h(':"([^:"]*?)":',""),to:"<q>$1</q>"},{from:C.images,to:""},{from:new h("\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",""),to:'<a href="$2">$1</a>'},{from:new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",
""),to:""},{from:new h("(.*)\n\r?(==+)\n",""),to:"<h2>$1</h2>"},{from:new h("(.*)\n\r?((-|#)+)\n",""),to:"<h3>$1</h3>"},{from:new h("(```*)([^`]+)\\1","m"),to:"<code>$2</code>"},{from:new h("<pre>(.*)\n\n(.*)</pre>",""),to:"<pre>$1\n$2</pre>"},{from:new h("\n\n+",""),to:"<br>\n"}];C.header=new h("^([#|=]+)([^#=]+)\\1?$","m");x=g.xml.Parser;E=new g.ds.StringMap;E.set("lt","<");E.set("gt",">");E.set("amp","&");E.set("quot",'"');E.set("apos","'");E.set("nbsp",String.fromCharCode(160));x.escapes=E;y.HTML_IMG=
new h('<img .*?src="([^"]*)"/?>',"");y.sites=[{regex:new h(".*\\.(jpeg|gif|jpg|bmp|png|webp)","i"),method:function(a,b){b([{url:"http://"+a.matched(0),caption:null,author:null}])}},{regex:new h("i?\\.?imgur.com/(a|gallery)/([^/]*)",""),method:function(a,b){var c=a.matched(2),d;switch(a.matched(1).toLowerCase()){case "a":d="album";break;case "gallery":d="gallery/album";break;default:d="album"}j.getJSON("https://api.imgur.com/3/"+d+"/"+c,function(a){var c=[];if(0>=a.images_count)c.push({url:"http://i.imgur.com/"+
a.id+".jpg",caption:a.title,author:a.account_url});else for(var d=0,e=a.images;d<e.length;){var g=e[d];++d;c.push({url:"http://i.imgur.com/"+g.id+".jpg",caption:g.title,author:a.account_url})}b(c)},"Client-ID cc1f254578d6c52")}},{regex:new h("imgur\\.com/(r/[^/]*/)?([a-zA-Z0-9,]*)",""),method:function(a,b){for(var c=(null==a.matched(1)||-1!=a.matched(1).indexOf("/")?a.matched(2):a.matched(1)).split(","),d=[],f=0;f<c.length;){var e=c[f];++f;d.push({url:"http://i.imgur.com/"+e+".jpg",caption:null,author:null})}b(d)}},
{regex:new h("(qkme\\.me|quickmeme\\.com/meme|m\\.quickmeme.com/meme)/([^/]*)",""),method:function(a,b){b([{url:"http://i.qkme.me/"+a.matched(2)+".jpg",caption:null,author:null}])}},{regex:new h("memecrunch.com/meme/([^/]*)/([^/]*)",""),method:function(a,b){b([{url:"http://"+a.matched(0)+"/image.png",caption:null,author:null}])}},{regex:new h("memegenerator\\.net/instance/([^/]*)",""),method:function(a,b){b([{url:"http://cdn.memegenerator.net/instances/400x/"+a.matched(1)+".jpg",caption:null,author:null}])}},
{regex:new h("imgflip\\.com/i/([^/]*)",""),method:function(a,b){b([{url:"http://i.imgflip.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("what-if.xkcd.com/([0-9]*)",""),method:function(){}},{regex:new h("xkcd.com/([0-9]*)",""),method:function(a,b){j.getJSON("http://www.xkcd.com/"+a.matched(1)+"/info.0.json",function(a){b([{url:a.img,caption:a.title,author:null}])})}},{regex:new h("explosm.net/comics/([0-9]*)",""),method:function(a,b){j.getText("http://www."+a.matched(0),function(c){var d=
new h('"http://www\\.explosm\\.net/db/files/Comics/([^"]*)"',"");if(d.match(c))b([{url:d.matched(0).substring(1,d.matched(0).length-1),caption:null,author:null}]);else throw""+u.string(d)+" not matched by "+a.matched(0)+" in "+c;},null,null,null)}},{regex:new h("livememe.com/([^/]*)",""),method:function(a,b){b([{url:"http://livememe.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("(([^\\.]*\\.)?deviantart\\.com/art|fav\\.me)/.*",""),method:function(a,b){j.getJSON("http://backend.deviantart.com/oembed?url="+
p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("flickr\\.com/photos/.*",""),method:function(a,b){j.getJSON("http://www.flickr.com/services/oembed/?url=http://www."+p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("ebay\\.([a-zA-Z\\.]*)/itm(/[^/]*)?/([0-9]*)",""),method:function(a,b){a.matched(1);var c="http://open.api.ebay.com/shopping?callname=GetSingleItem&responseencoding=JSON&appid=ThomasDa-1e6c-4d29-a156-85557acee70b&siteid=0&version=515&ItemID="+
a.matched(3)+"&IncludeSelector=TextDescription";j.getJSON(c,function(a){var c=a.Item.PictureURL.map(function(a){return{url:a,caption:null,author:null}});b({title:a.Item.Title,category:a.Item.PrimaryCategoryName,location:a.Item.Location+", "+a.Item.Country,description:y.filterHTML(a.Item.Description),images:c,price:j.formatPrice(a.Item.ConvertedCurrentPrice.Value)+" "+a.Item.ConvertedCurrentPrice.CurrencyID})})}},{regex:new h("([^\\.]*\\.wordpress\\.com|wp\\.me|techcrunch\\.com|news\\.blogs\\.cnn\\.com|snoopdogg\\.com|usainbolt\\.com|katiecouric\\.com|rollingstones\\.com|variety\\.com|bbcamerica\\.com)/(.*)?",
""),method:function(a,b){var c="http://"+a.matched(0);j.getJSON("http://public-api.wordpress.com/oembed/?url="+p.urlEncode(c)+"&for=Reditn",function(a){var c=[];null!=a.thumbnail_url&&c.push({caption:null,url:a.thumbnail_url,author:null});b({author:a.author_name,content:y.filterHTML(a.html),images:c})})}},{regex:new h("(.*)/wiki/([^#]*)(#.*)?",""),method:function(a,b){var c="http://"+a.matched(1),d=a.matched(2),f=a.matched(3);null!=f&&(f=p.trim(l.substr(f,1,null)));null!=f&&0==f.length&&(f=null);
var e=c;p.endsWith(e,".wikia.com")||(e+="/w");var g=null,g=function(a){j.getJSON(""+e+"/api.php?format=json&prop=revisions&action=query&titles="+a+"&rvprop=content",function(a){a=a.query.pages;for(var d=0,h=z.fields(a);d<h.length;){var m=h[d];++d;var m=[z.field(a,m)],k=[z.field(m[0].revisions[0],"*")];if(p.startsWith(k[0],"#REDIRECT [[")){g(k[0].substring(12,k[0].lastIndexOf("]]")));break}var n=[A.getAlbum(k[0])];null!=f&&(k[0]=A.trimTo(k[0],f));k[0]=A.parse(k[0],c);if(0<n[0].length)for(var r=[[]],
t=0;t<n[0].length;){var v=[n[0][t]];++t;j.getJSON(""+e+"/api.php?action=query&titles="+p.urlEncode(v[0].url)+"&prop=imageinfo&iiprop=url&format=json",function(a,c,d,f,e){return function(g){g=g.query.pages;for(var h=0,j=z.fields(g);h<j.length;){var m=j[h];++h;m=z.field(g,m);null!=m&&null!=m.imageinfo?c[0].push({url:m.imageinfo[0].url,caption:a[0].caption,author:null}):(console.log("Error whilst processing "+u.string(m)+" for "+a[0].url),l.remove(d[0],a[0]))}c[0].length>=d[0].length&&b({title:e[0].title,
content:f[0],author:null,images:c[0]})}}(v,r,n,k,m))}else b({title:m[0].title,content:k[0],author:null,images:null})}})};g(d)}},{regex:new h("github\\.com/([^/]*)/([^/]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2);j.getJSON("https://api.github.com/repos/"+c+"/"+d+"/readme?client_id=39d85b9ac427f1176763&client_secret=5117570b83363ca0c71a196edc5b348af150c25d",function(a){if(null!=a.content){a=a.content;a=p.replace(a,"\n","");a=p.trim(a);a=e.Browser.window.atob(a);for(var g=C.images,
h=[],j=a;g.match(j);){var k=g.matched(2);k.indexOf(".")==k.lastIndexOf(".")&&(p.startsWith(k,"/")&&(k=l.substr(k,1,null)),k="https://github.com/"+c+"/"+d+"/raw/master/"+k);h.push({url:k,caption:g.matched(1),author:c});j=l.substr(j,g.matchedPos().pos+g.matchedPos().len,null)}b({name:d,developers:[c],description:C.parse(a),url:"git://github.com/"+c+"/"+d+".git",album:h})}})}},{regex:new h("sourceforge.net/projects/([a-zA-Z-]*)",""),method:function(a,b){j.getJSON("http://sourceforge.net/api/project/name/"+
a.matched(1)+"/json",function(a){a=a.Project;for(var d=a.developers,f=a.name,e=a.description,g=[],h=0;h<d.length;)++h,g.push(a.name);for(var j=z.field(a,"download-page"),d=0,h=z.fields(a);d<h.length;){var k=h[d];++d;p.endsWith(k,"Repository")&&(j=l.substr(k,0,k.length-10).toLowerCase(),k=z.field(a,k).location,j=p.replace(k,"http:",""+j+":"))}b({name:f,description:e,developers:g,url:j,album:[]})})}},{regex:new h("(digitaltrends\\.com|webupd8\\.org|doctorwho\\.tv)/.*",""),method:function(a,b){j.getText("http://www."+
a.matched(0),function(a){var d=new h("<title>(.*)</title>","");d.match(a)&&(a=l.substr(a,a.indexOf("<article"),null),a=l.substr(a,a.indexOf(">")+1,null),a=l.substr(a,0,a.indexOf("</article>")),a=y.filterHTML(a),b({title:d.matched(1),content:a,author:null,images:[]}))},null,null,null)}},{regex:new h("([^\\.]*)\\.tumblr\\.com/(post|image)/([0-9]*)(/.*)?",""),method:function(a,b){var c=a.matched(1),d=a.matched(3);j.getJSON("http://api.tumblr.com/v2/blog/"+c+".tumblr.com/posts/json?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE&id="+
d,function(a){var c=a.posts[0];switch(c.type){case "text":for(var d=[];y.HTML_IMG.match(c.body);)d.push({url:y.HTML_IMG.matched(1),caption:null,author:a.blog.name}),c.body=y.HTML_IMG.replace(c.body,"");c.body=y.filterHTML(c.body);a={title:c.title,content:c.body,author:a.blog.name,images:d};break;case "quote":a={title:null,content:u.string(c.text)+"<br/><b>"+u.string(c.source)+"</b>",author:a.blog.name,images:[]};break;case "photo":for(var c=c.photos,d=[],e=0;e<c.length;){var g=c[e];++e;d.push({url:g.original_size.url,
caption:g.caption,author:a.blog.name})}a=d;break;default:a=null}b(a)})}},{regex:new h(".*\\.tumblr\\.com",""),method:function(a,b){j.getJSON("http://api.tumblr.com/v2/blog/"+p.urlEncode(a.matched(0))+"/info?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE",function(a){b({urls:new g.ds.StringMap,name:a.blog.title,description:y.filterHTML(a.blog.description),album:[]})})}},{regex:new h("twitter.com/.*/status/([0-9]*)",""),method:function(a,b){j.getJSON("https://api.twitter.com/1/statuses/oembed.json?id="+
a.matched(1),function(a){b({title:null,author:a.author_name,content:y.filterHTML(a.html),images:[]})})}},{regex:new h("amazon\\.[a-z\\.]*/gp/product/([0-9A-Z]*)",""),method:function(a){a=a.matched(1);j.getXML("http://webservices.amazon.com/onca/xml?AWSAccessKeyId=AKIAJMR3XPXGBMZJE6IA&Service=AWSECommerceService&Operation=ItemLookup&ItemId="+a,function(a){console.log(a)})}},{regex:new h("plus\\.google\\.com/([0-9]*)/posts/([a-zA-Z]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2),e=new h("<b>([^>]*)</b><br />",
""),g=null,g=function(h){j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"/activities/public?fields=items(id%2Curl)%2CnextPageToken&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o"+(null==h?"":"&requestToken="+h),function(c){var h=c.items;a.matched(0);for(var k=0;k<h.length;){var l=h[k];++k;if(-1!=l.url.indexOf(d)){j.getJSON("https://www.googleapis.com/plus/v1/activities/"+u.string(l.id)+"?fields=actor%2FdisplayName%2Cannotation%2Cobject(actor%2Cattachments%2Ccontent%2Cid%2CobjectType%2CoriginalContent%2Curl)&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",
function(a){var c=a.object.objectType,d=a.actor.actorName,g=a.object.content;e.match(g);switch(c){case "note":a=e.matched(1);g=e.replace(g,"");g=y.filterHTML(g);b({title:a,author:d,content:g,images:[]});break;default:d=a.object.attachments;g=[];for(c=0;c<d.length;){var h=d[c];++c;g.push({url:h.image.url,caption:0==h.content.length?a.object.content:h.content,author:null})}b(g)}});return}}0!=c.items.length&&g(c.requestToken)})};g()}},{regex:new h("facebook.com/photo\\.php\\?v=([0-9]*)",""),method:function(a,
b){a.matched(1);b([{caption:null,url:"http://graph.facebook.com/${id}/picture?type=small&access_token=CAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrCAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrf",author:null}])}},{regex:new h("facebook\\.com/([a-zA-Z0-9]*)",""),method:function(a,b){var c=
a.matched(1);b({album:[{url:"https://graph.facebook.com/"+c+"/picture?type=large",caption:null,author:null}],urls:new g.ds.StringMap})}},{regex:new h("plus\\.google.com/u?/?[0-9]*/([0-9]*)(/about)?",""),method:function(a,b){var c=a.matched(1);j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"?key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",function(a){var c=a.urls,e=new g.ds.StringMap;if(null!=c)for(var h=0;h<c.length;){var j=c[h];++h;e.set(j.label,j.value)}null!=a.urls&&(null!=a.displayName&&
null!=a.aboutMe)&&b({urls:e,name:a.displayName,description:a.aboutMe,album:[{url:a.image.url,caption:null,author:a.displayName}]})})}},{regex:new h("reddit\\.com/r/([a-zA-Z0-9]*)",""),method:function(a,b){j.getJSON("http://www."+a.matched(0)+"/about.json",function(a){b(a)})}},{regex:new h("gamejolt.com/games/[^/]*/[^/]*/([0-9]*)",""),method:function(a){a=a.matched(1);j.getJSON("http://gamejolt.com/service/games/"+a+"?format=json",function(a){console.log(a)})}},{regex:new h("(0rz\\.tw|1link\\.in|1url\\.com|2\\.gp|2big\\.at|2tu\\.us|3\\.ly|307\\.to|4ms\\.me|4sq\\.com|4url\\.cc|6url\\.com|7\\.ly|a\\.gg|a\\.nf|aa\\.cx|abcurl\\.net|ad\\.vu|adf\\.ly|adjix\\.com|afx\\.cc|all\\.fuseurl\\.com|alturl\\.com|amzn\\.to|ar\\.gy|arst\\.ch|atu\\.ca|azc\\.cc|b23\\.ru|b2l\\.me|bacn\\.me|bcool\\.bz|binged\\.it|bit\\.ly|bizj\\.us|bloat\\.me|bravo\\.ly|bsa\\.ly|budurl\\.com|canurl\\.com|chilp\\.it|chzb\\.gr|cl\\.lk|cl\\.ly|clck\\.ru|cli\\.gs|cliccami\\.info|clickthru\\.ca|clop\\.in|conta\\.cc|cort\\.as|cot\\.ag|crks\\.me|ctvr\\.us|cutt\\.us|dai\\.ly|decenturl\\.com|dfl8\\.me|digbig\\.com|digg\\.com|disq\\.us|dld\\.bz|dlvr\\.it|do\\.my|doiop\\.com|dopen\\.us|easyuri\\.com|easyurl\\.net|eepurl\\.com|eweri\\.com|fa\\.by|fav\\.me|fb\\.me|fbshare\\.me|ff\\.im|fff\\.to|fire\\.to|firsturl\\.de|firsturl\\.net|flic\\.kr|flq\\.us|fly2\\.ws|fon\\.gs|freak\\.to|fuseurl\\.com|fuzzy\\.to|fwd4\\.me|fwib\\.net|g\\.ro\\.lt|gizmo\\.do|gl\\.am|go\\.9nl\\.com|go\\.ign\\.com|go\\.usa\\.gov|goo\\.gl|goshrink\\.com|gurl\\.es|hex\\.io|hiderefer\\.com|hmm\\.ph|href\\.in|hsblinks\\.com|htxt\\.it|huff\\.to|hulu\\.com|hurl\\.me|hurl\\.ws|icanhaz\\.com|idek\\.net|ilix\\.in|is\\.gd|its\\.my|ix\\.lt|j\\.mp|jijr\\.com|kl\\.am|klck\\.me|korta\\.nu|krunchd\\.com|l9k\\.net|lat\\.ms|liip\\.to|liltext\\.com|linkbee\\.com|linkbun\\.ch|liurl\\.cn|ln-s\\.net|ln-s\\.ru|lnk\\.gd|lnk\\.ms|lnkd\\.in|lnkurl\\.com|lru\\.jp|lt\\.tl|lurl\\.no|macte\\.ch|mash\\.to|merky\\.de|migre\\.me|miniurl\\.com|minurl\\.fr|mke\\.me|moby\\.to|moourl\\.com|mrte\\.ch|myloc\\.me|myurl\\.in|n\\.pr|nbc\\.co|nblo\\.gs|nn\\.nf|not\\.my|notlong\\.com|nsfw\\.in|nutshellurl\\.com|nxy\\.in|nyti\\.ms|o-x\\.fr|oc1\\.us|om\\.ly|omf\\.gd|omoikane\\.net|on\\.cnn\\.com|on\\.mktw\\.net|onforb\\.es|orz\\.se|ow\\.ly|ping\\.fm|pli\\.gs|pnt\\.me|politi\\.co|post\\.ly|pp\\.gg|profile\\.to|ptiturl\\.com|pub\\.vitrue\\.com|qlnk\\.net|qte\\.me|qu\\.tc|qy\\.fi|r\\.im|rb6\\.me|read\\.bi|readthis\\.ca|reallytinyurl\\.com|redir\\.ec|redirects\\.ca|redirx\\.com|retwt\\.me|ri\\.ms|rickroll\\.it|riz\\.gd|rt\\.nu|ru\\.ly|rubyurl\\.com|rurl\\.org|rww\\.tw|s4c\\.in|s7y\\.us|safe\\.mn|sameurl\\.com|sdut\\.us|shar\\.es|shink\\.de|shorl\\.com|short\\.ie|short\\.to|shortlinks\\.co\\.uk|shorturl\\.com|shout\\.to|show\\.my|shrinkify\\.com|shrinkr\\.com|shrt\\.fr|shrt\\.st|shrten\\.com|shrunkin\\.com|simurl\\.com|slate\\.me|smallr\\.com|smsh\\.me|smurl\\.name|sn\\.im|snipr\\.com|snipurl\\.com|snurl\\.com|sp2\\.ro|spedr\\.com|srnk\\.net|srs\\.li|starturl\\.com|su\\.pr|surl\\.co\\.uk|surl\\.hu|t\\.cn|t\\.co|t\\.lh\\.com|ta\\.gd|tbd\\.ly|tcrn\\.ch|tgr\\.me|tgr\\.ph|tighturl\\.com|tiniuri\\.com|tiny\\.cc|tiny\\.ly|tiny\\.pl|tinylink\\.in|tinyuri\\.ca|tinyurl\\.com|tk\\.|tl\\.gd|tmi\\.me|tnij\\.org|tnw\\.to|tny\\.com|to\\.|to\\.ly|togoto\\.us|totc\\.us|toysr\\.us|tpm\\.ly|tr\\.im|tra\\.kz|trunc\\.it|twhub\\.com|twirl\\.at|twitclicks\\.com|twitterurl\\.net|twitterurl\\.org|twiturl\\.de|twurl\\.cc|twurl\\.nl|u\\.mavrev\\.com|u\\.nu|u76\\.org|ub0\\.cc|ulu\\.lu|updating\\.me|ur1\\.ca|url\\.az|url\\.co\\.uk|url\\.ie|url360\\.me|url4\\.eu|urlborg\\.com|urlbrief\\.com|urlcover\\.com|urlcut\\.com|urlenco\\.de|urli\\.nl|urls\\.im|urlshorteningservicefortwitter\\.com|urlx\\.ie|urlzen\\.com|usat\\.ly|use\\.my|vb\\.ly|vgn\\.am|vl\\.am|vm\\.lc|w55\\.de|wapo\\.st|wapurl\\.co\\.uk|wipi\\.es|wp\\.me|x\\.vu|xr\\.com|xrl\\.in|xrl\\.us|xurl\\.es|xurl\\.jp|y\\.ahoo\\.it|yatuc\\.com|ye\\.pe|yep\\.it|yfrog\\.com|yhoo\\.it|yiyd\\.com|youtu\\.be|yuarel\\.com|z0p\\.de|zi\\.ma|zi\\.mu|zipmyurl\\.com|zud\\.me|zurl\\.ws|zz\\.gd|zzang\\.kr|r\\.ebay\\.com)/.*",
""),method:function(a,b){var c=p.urlEncode("http://"+a.matched(0));j.getJSON("http://api.longurl.org/v2/expand?url="+c+"&format=json&User-Agent=Reditn",function(a){a=z.field(a,"long-url");a=y.resolve(a);null!=a&&a.method(a.regex,b)})}}];y.HTML_FILTERS=[y.HTML_IMG,new h("<meta[^>]*/>","g"),new h("<(h1|header)[^>]*>.*</\\1>","g"),new h("<table([^>]*)>(.|\n|\n\r)*</table>","gm"),new h('<div class="(seperator|ga-ads)"[^>]*>(.|\n|\n\r)*</div>',"g"),new h("<([^>]*)( [^>]*)?></\\1>","g"),new h("<script[^>/]*/>",
"g"),new h("<script[^>/]*>\x3c/script>","g"),new h('style ?= ?"[^"]*"',"g")];y.HTML_CLEANERS=[{from:new h('<blockquote class="twitter-tweet">(.*)</blockquote>',"g"),to:"$1"},{from:new h("(!|\\.|,|\\?)(^ \n\t\r)","g"),to:"$1 $2"},{from:new h("(!|\\.|,|\\?)( *)","g"),to:"$1 "},{from:new h("(<br></br>|<br/>|<br />)(<br></br>|<br/>|<br />)","g"),to:"<br/>"}];x=new g.ds.StringMap;x.set("adblock","Block advertisements and sponsors");x.set("userinfo","Show information about a user upon hover");x.set("subinfo",
"Show information about a subreddit upon hover");x.set("expand","Allow expansion of images, articles, etc");x.set("text-expand","Allow expansion of images, articles etc found in comments and posts for easy viewing");x.set("dup-hider","Hide duplicate links");x.set("user-tag","Tag users");x.set("sub-tag","Tag subreddits");x.set("preview","Preview comments and posts");x.set("keys","Keyboard shortcuts");x.set("nsfw-filter","Hide NSFW content");k.DESC=x;x=new g.ds.StringMap;x.set("adblock",!0);x.set("userinfo",
!0);x.set("subinfo",!0);x.set("expand",!0);x.set("dup-hider",!0);x.set("text-expand",!0);x.set("user-tag",!0);x.set("sub-tag",!0);x.set("preview",!0);x.set("keys",!0);x.set("nsfw-filter",!1);x.set("user-tags",new g.ds.StringMap);x.set("sub-tags",new g.ds.StringMap);k.DEFAULTS=x;k.data=new g.ds.StringMap;g.Serializer.USE_CACHE=!1;g.Serializer.USE_ENUM_INDEX=!1;g.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.Unserializer.DEFAULT_RESOLVER=B;g.Unserializer.BASE64=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.ds.ObjectMap.count=0;j.main()})();
(function(){var r={},G=function(){return e.Boot.__string_rec(this,"")},I=function(){};r.Adblock=I;I.__name__=["Adblock"];I.init=function(){I.hideAll(e.Browser.document.body.getElementsByClassName("promoted"));I.hideAll(e.Browser.document.body.getElementsByClassName("infobar"));I.hideAll(e.Browser.document.body.getElementsByClassName("goldvertisement"));var a=e.Browser.document.getElementById("spotlight-help");null!=a&&j.show(a.parentNode.parentNode,!1);a=e.Browser.document.getElementById("ad-frame");
null!=a&&j.show(a,!1)};I.hideAll=function(a){for(var b=0,c=a.length;b<c;){var d=b++;j.show(a[d],!1)}};var P=function(){};r.DuplicateHider=P;P.__name__=["DuplicateHider"];P.init=function(){for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&(Q.has(a,d.href)?j.show(d.parentElement.parentElement.parentElement,!1):a.push(d.href))}};var h=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};r.EReg=h;h.__name__=["EReg"];h.prototype={replace:function(a,b){return a.replace(this.r,
b)},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:l.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;a=b}else{if(c=this.match(0>c?l.substr(a,b,null):l.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;a=c}return a},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,
this.r.s.length-a)},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return this.r.s.substr(0,this.r.m.index)},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:h};var v=function(){};r.Expand=v;v.__name__=["Expand"];v.init=function(){v.toggled="#showall"==e.Browser.window.location.hash;var a=e.Browser.document.getElementsByClassName("tabmenu")[0],
b=e.Browser.document.createElement("li");v.button=e.Browser.document.createElement("a");v.button.href="javascript:void(0);";v.refresh();v.button.onclick=function(){v.toggle(!v.toggled);e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,v.toggled?"#showall":"#")};b.appendChild(v.button);null!=a&&a.appendChild(b);a=0;for(b=j.links;a<b.length;){var c=b[a];++a;if("a"==c.nodeName.toLowerCase()){var d=c.parentElement.parentElement.parentElement.getElementsByClassName("entry")[0],c=y.createButton(c.href,
d);if(null==c)v.defaultButton(d);else{for(var f=0,q=d.getElementsByClassName("expando");f<q.length;){var X=q[f];++f;X.parentNode.removeChild(X)}d.appendChild(c);d.insertBefore(c,d.getElementsByClassName("tagline")[0])}}}};v.defaultButton=function(a){var b=!1,c=0;for(a=a.getElementsByClassName("expando-button");c<a.length;){var d=a[c];++c;b?d.parentNode.removeChild(d):(null!=d&&(b=v.adaptButton(d),b.toggle(v.toggled,!1),v.buttons.push(b)),b=!0)}};v.adaptButton=function(a){var b=e.Boot.__cast(a.parentElement.getElementsByTagName("a")[0],
HTMLAnchorElement).href;a.style.width=a.style.height="23px";return{toggled:function(){return-1!=a.className.indexOf("expanded")},toggle:function(b,d){var f=-1!=a.className.indexOf("expanded");if(b!=f)a.onclick(null);v.queue++;g.Timer.delay(function(){0<a.parentElement.getElementsByClassName("error").length?(a.onclick(null),a.onclick(null)):v.queue--},1E3*v.queue);d&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:b,element:a}};v.refresh=function(){if(null!=v.button){v.button.innerHTML=
""+(v.toggled?"hide":"show")+" all";for(var a=e.Browser.document.body.getElementsByClassName("nextprev"),b=0;b<a.length;){var c=a[b];++b;var d;d=void 0;d=[];for(var f=0,c=c.getElementsByTagName("a");f<c.length;){var q=c[f];++f;d.push(q)}for(f=0;f<d.length;)c=d[f],++f,"a"==c.nodeName.toLowerCase()&&(v.toggled&&-1==c.href.indexOf("#")?c.href+="#showall":!v.toggled&&-1!=c.href.indexOf("#")&&(c.href=l.substr(c.href,0,c.href.indexOf("#"))))}}};v.toggle=function(a){v.toggled=a;for(var b=0,c=v.buttons;b<
c.length;){var d=c[b];++b;d.toggle(a,!1)}v.refresh()};v.loadImage=function(a){var b=e.Browser.document.createElement("img");b.src=a;b.className="resize";v.initResize(b);var c=new g.Timer(30);c.run=function(){if(0<b.width&&0<b.height){c.stop();if(b.width>(0.7*e.Browser.window.innerWidth|0)){var a=b.height/b.width;b.width=0.7*e.Browser.window.innerWidth|0;b.height=b.width*a|0}b.height>(0.6*e.Browser.window.innerHeight|0)&&(a=b.width/b.height,b.height=0.6*e.Browser.window.innerHeight|0,b.width=b.height*
a|0)}};return b};v.initResize=function(a){var b=0,c=0,d=0,f=!1;a.addEventListener("mousedown",function(q){if(!q.altKey&&!q.ctrlKey&&!q.metaKey){f=!0;var e=a.getBoundingClientRect(),m=q.clientY-e.top;b=a.offsetWidth/(q.clientX-e.left);c=a.offsetHeight/m;d=a.offsetWidth/a.offsetHeight;q.preventDefault()}});a.addEventListener("mousemove",function(q){if(f){var e=a.getBoundingClientRect(),m=(q.clientX-e.left)*b,g=m/d,e=(q.clientY-e.top)*c,j=e*d;a.width=(g>e||m>j?m:j)|0;a.height=(g>e||m>j?g:e)|0;q.preventDefault()}});
a.addEventListener("dblclick",function(){a.width=a.naturalWidth;a.height=a.naturalHeight});a.addEventListener("mouseup",function(a){f=!1;a.preventDefault()});a.addEventListener("mouseout",function(a){f=!1;a.preventDefault()})};var l=function(){};r.HxOverrides=l;l.__name__=["HxOverrides"];l.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),f=a.getMinutes(),q=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>f?"0"+f:""+
f)+":"+(10>q?"0"+q:""+q)};l.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};l.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};l.substr=function(a,b,c){if(null!=b&&
0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};l.remove=function(a,b){for(var c=0,d=a.length;c<d;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};l.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var t=function(){};r.Keyboard=t;t.__name__=["Keyboard"];t.init=function(){e.Browser.document.onkeydown=function(a){t.keyDown(a.keyCode)}};t.unhighlight=
function(){if(null!=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).style.border=""};t.highlight=function(a){t.unhighlight();null!=t.current&&t.current+a<j.links.length&&(t.current+=a);if(null==t.current||null==(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))t.current=0;(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:
null).style.border="3px solid grey";(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).scrollIntoViewIfNeeded(!0)};t.show=function(a){null==a&&(a=!0);for(var b=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).getElementsByClassName("expando-button")[0],c=0,d=v.buttons;c<d.length;){var f=d[c];++c;if(f.element==b){f.toggle(a,!0);(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:
null).scrollIntoViewIfNeeded(!0);break}}};t.keyDown=function(a){for(t.keys.push(a);t.keys.length>t.konami.length;)l.remove(t.keys,t.keys[0]);for(var b=t.keys.length>=t.konami.length,c=0,d=t.keys.length;c<d;){var f=c++;if(t.keys[f]!=t.konami[f]){b=!1;break}}b&&D.run();switch(a){case 39:t.show(!0);break;case 37:t.show(!1);break;case 38:t.highlight(-1);break;case 40:t.highlight(1)}};var D=function(){};r.Konami=D;D.__name__=["Konami"];D.translate=function(a){for(var b=0;D.filter.matchSub(a,b);)b=D.filter.matchedPos(),
a=D.words[u.random(D.words.length)],console.log(a),b=b.pos+a.length,a=D.filter.matchedLeft()+a+D.filter.matchedRight();return a};D.run=function(){e.Browser.document.title="Dubbit - the back page of the wubbanet";for(var a=0,b=j.links;a<b.length;){var c=b[a];++a;c.innerHTML=D.translate(c.innerHTML)}a=0;for(b=e.Browser.document.body.getElementsByClassName("author");a<b.length;)c=b[a],++a,c.innerHTML="dubstep";a=0;for(b=e.Browser.document.body.getElementsByClassName("subreddit");a<b.length;)c=b[a],++a,
c.innerHTML="people with brains";a=0;for(b=e.Browser.document.body.getElementsByClassName("score");a<b.length;)c=b[a],++a,c.innerHTML="-&infin;";a=0;for(b=e.Browser.document.body.getElementsByTagName("p");a<b.length;)c=b[a],++a,"parent"!=c.className&&(c.innerHTML=D.translate(c.innerHTML))};var Q=function(){};r.Lambda=Q;Q.__name__=["Lambda"];Q.has=function(a,b){var c;if(a instanceof Array)c=function(){return l.iter(a)};else if("function"==typeof a.iterator){c=a.iterator;var d=function(){return d.method.apply(d.scope,
arguments)};d.scope=a;d.method=c;c=d}else c=a.iterator;for(c=c();c.hasNext();)if(c.next()==b)return!0;return!1};var j=function(){};r.Reditn=j;for(var x="undefined"!=typeof window?window:exports,E=["Reditn"],V=0;V<E.length-1;++V){var W=E[V];"undefined"==typeof x[W]&&(x[W]={});x=x[W]}x[E[E.length-1]]=j;j.__name__=["Reditn"];j.main=function(){switch(e.Browser.document.readyState){case "complete":j.init();break;default:e.Browser.window.onload=function(){j.init()}}};j.init=function(){if(-1!=e.Browser.window.location.href.indexOf("reddit.")){j.fullPage=
0<e.Browser.document.getElementsByClassName("tabmenu").length;j.links=e.Browser.document.body.getElementsByClassName("title");for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&"parent"!=d.parentElement.className&&a.push(d)}j.links=a;j.wrap(k.init);j.wrap(I.init,"adblock");j.wrap(P.init,"dup-hider");j.wrap(R.init,"nsfw-filter");S.init();j.wrap(v.init,"expand");j.wrap(T.init,"text-expand");j.wrap(t.init,"keys");j.wrap(J.init,"preview");j.wrap(K.init,"subinfo");j.wrap(L.init,
"userinfo");j.wrap(M.init,"user-tag");j.wrap(N.init,"sub-tag");e.Browser.window.history.replaceState(g.Serializer.run(j.state()),null,v.toggled?"#showall":null);e.Browser.window.onpopstate=function(a){a=a.state;if(null!=a){a=g.Unserializer.run(a);a.allExpanded!=v.toggled&&v.toggle(a.allExpanded);for(var b=0,c=v.buttons;b<c.length;){var d=c[b];++b;var e=a.expanded;e.exists(d.url)&&d.toggle(e.get(d.url),!1)}}}}};j.state=function(){for(var a=new g.ds.StringMap,b=0,c=v.buttons;b<c.length;){var d=c[b];
++b;d.toggled()!=v.toggled&&a.set(d.url,d.toggled())}return{allExpanded:v.toggled,expanded:a}};j.wrap=function(a,b){var c=null==b?null:k.data.get(b);(null==b||c)&&a()};j.formatNumber=function(a){if(Math.isFinite(a)){var b=u.string(Math.abs(a)),c;-1!=b.indexOf(".")?(c=l.substr(b,b.indexOf("."),null),b=l.substr(b,0,b.indexOf("."))):c="";if(3<=b.length){for(var d="",f=0,q=b.length;f<q;){var e=f++,d=d+b.charAt(e);0==(b.length-(e+1))%3&&e<b.length-1&&(d+=",")}b=d}a=(0>a?"-"+b:b)+c}else a=u.string(a);return a};
j.formatPrice=function(a){var b=j.formatNumber(a|0);a=u.string(a);for(a=-1==a.indexOf(".")?".":l.substr(a,a.indexOf("."),null);3>a.length;)a+="0";return""+b+a};j.show=function(a,b){a.style.display=b?"":"none";if(-1!=a.className.indexOf("link")&&!b){var c=a.getElementsByClassName("entry")[0];l.remove(j.links,c.getElementsByTagName("a")[0])}};j.age=function(a){if(86400>a)return"less than a day";a=g.Timer.stamp()-a;var b=a/86400%30.4375|0,c=a/2629800%12|0;a=a/2629800/12|0;var d="";0<a&&(d+=""+a+" year"+
(1>=a?"":"s"));0<c&&(d+=", "+c+" month"+(1>=c?"":"s"));d+=", "+b+" day"+(1>=b?"":"s");for(p.startsWith(d,", ")&&(d=l.substr(d,2,null));-1!=d.indexOf(", , ");)d=p.replace(d,", , ",", ");return d};j.embedAlbum=function(a){var b=e.Browser.document.createElement("span");b.style.textAlign="center";for(var c=[],d=0;d<a.length;){var f=a[d];++d;c.push(function(){var a=v.loadImage(f.url);a.title=(null!=f.caption?f.caption+" ":"")+(null!=f.author?"by "+f.author:"");b.appendChild(a);j.show(a,!1);return a}(this))}var q=
null,g=e.Browser.document.createElement("span");g.style.fontWeight="bold";g.style.marginLeft="10px";var m=0,h=null,F=null,l=null;1<a.length&&(h=e.Browser.document.createElement("button"),h.innerHTML="Prev",b.appendChild(h),F=e.Browser.document.createElement("span"),F.style.textAlign="center",F.style.paddingLeft=F.style.paddingRight="5px",b.appendChild(F),l=e.Browser.document.createElement("button"),l.innerHTML="Next",b.appendChild(l));if(1<a.length||null!=a[0].caption&&0<a[0].caption.length)b.appendChild(g),
b.appendChild(e.Browser.document.createElement("br"));var k=function(d){if(!(0>d||d>=a.length)){var f=a[d],e=null;null!=q&&(j.show(q,!1),e=u.parseInt(q.style.height));q=c[d];q.style.display="block";if(null!=e){var m=q.width/q.height;q.style.height=e+"px";q.style.width=(e*m|0)+"px"}b.appendChild(q);null!=h&&(e=j.formatNumber(a.length),m=j.formatNumber(d+1),F.innerHTML=""+m+" of "+e,h.disabled=0>=d,l.disabled=d>=a.length-1);j.show(g,null!=f.caption);null!=f.caption&&(g.innerHTML=p.htmlEscape(f.caption),
null!=f.author&&(g.innerHTML+=" <em>by "+f.author+"</em>"))}};k(0);null!=h&&(h.onmousedown=function(){k(--m)},l.onmousedown=function(){k(++m)});return b};j.getData=function(a){for(;null!=a.data;)a=a.data;for(;null!=a.response;)a=a.response;return a};j.getText=function(a,b,c,d,f){a=new g.Http(a);null!=c&&a.setHeader("Authorization",c);null!=d&&a.setHeader("Content-Type",d);a.onData=b;null!=f&&a.setPostData(f);a.request(null!=f)};j.embedMap=function(a){for(var b=e.Browser.document.createElement("dl"),
c=a.keys();c.hasNext();){var d=c.next();if(null!=a.get(d)&&0<a.get(d).length){var f=e.Browser.document.createElement("dt");f.innerHTML=d;b.appendChild(f);f=e.Browser.document.createElement("dd");f.innerHTML=a.get(d);b.appendChild(f)}}b.className="md reditn-table";return b};j.getJSON=function(a,b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){p.startsWith(a,"jsonFlickrApi(")&&p.endsWith(a,")")&&(a=a.substring(14,a.length-1));b(j.getData(g.Json.parse(a)))},c,d,f)};j.getXML=function(a,
b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){b(j.getData(n.parse(a)))},c,d,f)};j.popUp=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);e.Browser.document.body.appendChild(b);b.className="popup";b.style.position="absolute";b.style.width=(0.25*e.Browser.window.innerWidth|0)+"px";b.style.left=""+c+"px";b.style.top=""+(d-30)+"px";a.onmouseout=b.onblur=function(){b.parentElement.removeChild(b);a.mouseover=!1};return b};j.fullPopUp=function(a,b){null==b&&(b=0);var c=e.Browser.document.getElementsByClassName("popup")[0];
null!=c&&c.parentElement.removeChild(c);e.Browser.document.body.appendChild(a);c=e.Browser.document.createElement("a");c.style.position="absolute";c.style.right=c.style.top="5px";c.innerHTML="<b>Close</b>";c.href="javascript:void(0);";c.onclick=a.onblur=function(){a.parentElement.removeChild(a)};a.appendChild(c);a.className="popup";0!=b&&(a.style.top=""+(b-e.Browser.window.scrollY)+"px");return a};var p=function(){};r.StringTools=p;p.__name__=["StringTools"];p.urlEncode=function(a){return encodeURIComponent(a)};
p.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};p.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};p.startsWith=function(a,b){return a.length>=b.length&&l.substr(a,0,b.length)==b};p.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&l.substr(a,d-c,c)==b};p.isSpace=function(a,b){var c=l.cca(a,b);return 8<c&&14>c||32==c};p.ltrim=function(a){for(var b=
a.length,c=0;c<b&&p.isSpace(a,c);)c++;return 0<c?l.substr(a,c,b-c):a};p.rtrim=function(a){for(var b=a.length,c=0;c<b&&p.isSpace(a,b-c-1);)c++;return 0<c?l.substr(a,0,b-c):a};p.trim=function(a){return p.ltrim(p.rtrim(a))};p.replace=function(a,b,c){return a.split(b).join(c)};var g={Json:function(){}};r["haxe.Json"]=g.Json;g.Json.__name__=["haxe","Json"];g.Json.parse=function(a){return(new g.Json).doParse(a)};g.Json.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,d=!c,f=48==a,e=!1,g=
!1,m=!1,j=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:f&&!e&&this.invalidNumber(b);c&&(c=!1,f=!0);d=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f&&!e&&this.invalidNumber(b);c&&(c=!1);d=!0;f=!1;break;case 46:(c||e)&&this.invalidNumber(b);d=!1;e=!0;break;case 101:case 69:(c||f||g)&&this.invalidNumber(b);d=!1;g=!0;break;case 43:case 45:(!g||m)&&this.invalidNumber(b);d=!1;m=!0;break;default:d||this.invalidNumber(b),this.pos--,j=!0}if(j)break}a=u.parseFloat(l.substr(this.str,
b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+l.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new H;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\b";break;case 102:b.b+="\f";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);
break;case 117:a=u.parseInt("0x"+l.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;
case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),
a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=
this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:g.Json};g.Http=function(a){this.url=a;this.headers=new g.ds.StringMap;
this.params=new g.ds.StringMap;this.async=!0};r["haxe.Http"]=g.Http;g.Http.__name__=["haxe","Http"];g.Http.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=this;b.responseData=null;var c=e.Browser.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(b.responseData=c.responseText);else if(null==a)b.onError("Failed to connect or resolve host");
else switch(a){case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var f=this.postData;if(null!=f)a=!0;else for(var q=this.params.keys();q.hasNext();)var g=q.next(),f=null==f?"":f+"&",f=f+(p.urlEncode(g)+"="+p.urlEncode(this.params.get(g)));try{if(a)c.open("POST",this.url,this.async);else if(null!=f){var m=1>=this.url.split("?").length;c.open("GET",
this.url+(m?"?":"&")+f,this.async);f=null}else c.open("GET",this.url,this.async)}catch(j){this.onError(j.toString());return}null==this.headers.get("Content-Type")&&(a&&null==this.postData)&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)q=a.next(),c.setRequestHeader(q,this.headers.get(q));c.send(f);this.async||d(null)},setPostData:function(a){this.postData=a;return this},setHeader:function(a,b){this.headers.set(a,b);return this},__class__:g.Http};
x=function(){};r.IMap=x;x.__name__=["IMap"];g.ds={};g.ds.StringMap=function(){this.h={}};r["haxe.ds.StringMap"]=g.ds.StringMap;g.ds.StringMap.__name__=["haxe","ds","StringMap"];g.ds.StringMap.__interfaces__=[x];g.ds.StringMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return l.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:g.ds.StringMap};var u=
function(){};r.Std=u;u.__name__=["Std"];u.string=function(a){return e.Boot.__string_rec(a,"")};u.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==l.cca(a,1)||88==l.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};u.parseFloat=function(a){return parseFloat(a)};u.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var e={Boot:function(){}};r["js.Boot"]=e.Boot;e.Boot.__name__=["js","Boot"];e.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;
if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,f=a.length;d<f;)var q=d++,c=2!=q?c+(","+e.Boot.__string_rec(a[q],b)):c+e.Boot.__string_rec(a[q],b);return c+")"}d=a.length;c="[";b+="\t";for(f=0;f<d;)q=f++,c+=(0<q?",":"")+e.Boot.__string_rec(a[q],b);return c+"]"}try{f=a.toString}catch(g){return"???"}if(null!=f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;
f=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(f in a)if(!d||a.hasOwnProperty(f))"prototype"==f||("__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f)||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+e.Boot.__string_rec(a[f],b));b=b.substring(1);return c+="\n"+b+"}";case "function":return"<function>";case "string":return a;default:return String(a)}};e.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var q=
d++,q=c[q];if(q==b||e.Boot.__interfLoop(q,b))return!0}return e.Boot.__interfLoop(a.__super__,b)};e.Boot.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(e.Boot.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case Y:return Math.ceil(a%2147483648)===a;case Z:return"number"==typeof a;case U:return!0===a||!1===a;case String:return"string"==typeof a;case $:return!0;default:if(null==a)return!1;if(b==aa&&null!=a.__name__)return!0;null;if(b==
ba&&null!=a.__ename__)return!0;null;return a.__enum__==b}};e.Boot.__cast=function(a,b){if(e.Boot.__instanceof(a,b))return a;throw"Cannot cast "+u.string(a)+" to "+u.string(b);};var z=function(){};r.Reflect=z;z.__name__=["Reflect"];z.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};z.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};z.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&c.call(a,d)&&b.push(d)}return b};
z.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};z.deleteField=function(a,b){if(!z.hasField(a,b))return!1;delete a[b];return!0};var A,C;A=function(){};r["parser.MediaWiki"]=A;A.__name__=["parser","MediaWiki"];A.parse=function(a,b){for(var c=0,d=A.regex;c<d.length;){var f=d[c];++c;for(var e=0;f.from.match(a)&&64>e++;)a=f.from.replace(a,f.to),f.from.matchedPos()}a=p.replace(a,"$BASE",b);p.startsWith(a,"<br>")&&(a=l.substr(a,4,null));a.split("{{").length<a.split("}}").length&&
(a=l.substr(a,a.indexOf("}}")+2,null));return a};A.trimTo=function(a,b){b=p.trim(p.replace(b,"_"," "));for(var c={pos:0,len:0},d=null;A.sections.matchSub(a,c.pos+c.len);)if(c=A.sections.matchedPos(),p.trim(A.sections.matched(2))==p.trim(b)){d=A.sections.matched(1).length;break}null!=d&&(a=l.substr(a,c.pos+c.len,null),a=l.substr(a,0,a.indexOf("<h"+d+">")));return a};A.getAlbum=function(a){for(var b=[];A.IMAGES.match(a);){var c=A.IMAGES.matchedPos();a=l.substr(a,c.pos+c.len,null);c=A.IMAGES.matched(2)+
"."+A.IMAGES.matched(3);p.startsWith(c,"File:")&&(c=l.substr(c,5,null));b.push({url:c,caption:null,author:null})}return b};e.Browser=function(){};r["js.Browser"]=e.Browser;e.Browser.__name__=["js","Browser"];e.Browser.getLocalStorage=function(){try{var a=e.Browser.window.localStorage;a.getItem("");return a}catch(b){return null}};e.Browser.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");
throw"Unable to create XMLHttpRequest object.";};C=function(){};r["parser.Markdown"]=C;C.__name__=["parser","Markdown"];C.parse=function(a){for(;C.header.match(a);)C.header.matchedPos(),a=1+C.header.matched(1).length,6<a&&(a=6),a=C.header.matchedLeft()+("<h"+a+">"+C.header.matched(2)+"</h"+a+">")+C.header.matchedRight();for(var b=0,c=C.regex;b<c.length;){var d=c[b];for(++b;d.from.match(a);)a=d.from.replace(a,d.to)}return a};var n=function(){};r.Xml=n;n.__name__=["Xml"];n.parse=function(a){return g.xml.Parser.parse(a)};
n.createElement=function(a){var b=new n;b.nodeType=n.Element;b._children=[];b._attributes=new g.ds.StringMap;b.set_nodeName(a);return b};n.createPCData=function(a){var b=new n;b.nodeType=n.PCData;b.set_nodeValue(a);return b};n.createCData=function(a){var b=new n;b.nodeType=n.CData;b.set_nodeValue(a);return b};n.createComment=function(a){var b=new n;b.nodeType=n.Comment;b.set_nodeValue(a);return b};n.createDocType=function(a){var b=new n;b.nodeType=n.DocType;b.set_nodeValue(a);return b};n.createProcessingInstruction=
function(a){var b=new n;b.nodeType=n.ProcessingInstruction;b.set_nodeValue(a);return b};n.createDocument=function(){var a=new n;a.nodeType=n.Document;a._children=[];return a};n.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&l.remove(a._parent._children,a);a._parent=this;this._children.push(a)},exists:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=n.Element)throw"bad nodeType";
this._attributes.set(a,b)},set_nodeValue:function(a){if(this.nodeType==n.Element||this.nodeType==n.Document)throw"bad nodeType";return this._nodeValue=a},set_nodeName:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName},__class__:n};g.xml={};g.xml.Parser=function(){};r["haxe.xml.Parser"]=g.xml.Parser;g.xml.Parser.__name__=["haxe","xml","Parser"];g.xml.Parser.parse=function(a){var b=
n.createDocument();g.xml.Parser.doParse(a,0,b);return b};g.xml.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,f=1,e=1,j=null,m=0,h=0,F=0,s=a.charCodeAt(b),p=new H;s==s;){switch(f){case 0:switch(s){case 10:case 13:case 9:case 32:break;default:f=e;continue}break;case 1:switch(s){case 60:f=0;e=2;break;default:m=b;f=13;continue}break;case 13:60==s?(f=n.createPCData(p.b+l.substr(a,m,b-m)),p=new H,c.addChild(f),h++,f=0,e=2):38==s&&(p.addSub(a,m,b-m),f=18,e=13,m=b+1);break;case 17:93==s&&(93==
a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(f=n.createCData(l.substr(a,m,b-m)),c.addChild(f),h++,b+=2,f=1);break;case 2:switch(s){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=l.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;f=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=l.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;f=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;f=15}m=b+1;break;case 63:f=14;m=b;break;
case 47:if(null==c)throw"Expected node name";m=b+1;f=0;e=10;break;default:f=3;m=b;continue}break;case 3:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(b==m)throw"Expected node name";d=n.createElement(l.substr(a,m,b-m));c.addChild(d);f=0;e=4;continue}break;case 4:switch(s){case 47:f=11;h++;break;case 62:f=9;h++;break;default:f=5;m=b;continue}break;case 5:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected attribute name";
j=l.substr(a,m,b-m);if(d.exists(j))throw"Duplicate attribute";f=0;e=6;continue}break;case 6:switch(s){case 61:f=0;e=7;break;default:throw"Expected =";}break;case 7:switch(s){case 34:case 39:f=8;m=b;break;default:throw'Expected "';}break;case 8:s==a.charCodeAt(m)&&(e=l.substr(a,m+1,b-m-1),d.set(j,e),f=0,e=4);break;case 9:m=b=g.xml.Parser.doParse(a,b,d);f=1;break;case 11:switch(s){case 62:f=1;break;default:throw"Expected >";}break;case 12:switch(s){case 62:return 0==h&&c.addChild(n.createPCData("")),
b;default:throw"Expected >";}case 10:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected node name";if(l.substr(a,m,b-m)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";f=0;e=12;continue}break;case 15:45==s&&(45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(c.addChild(n.createComment(l.substr(a,m,b-m))),b+=2,f=1);break;case 16:91==s?F++:93==s?F--:62==s&&0==F&&(c.addChild(n.createDocType(l.substr(a,m,b-m))),f=1);break;case 14:63==s&&62==a.charCodeAt(b+
1)&&(b++,f=l.substr(a,m+1,b-m-2),c.addChild(n.createProcessingInstruction(f)),f=1);break;case 18:59==s&&(m=l.substr(a,m,b-m),35==m.charCodeAt(0)?(m=120==m.charCodeAt(1)?u.parseInt("0"+l.substr(m,1,m.length-1)):u.parseInt(l.substr(m,1,m.length-1)),p.b+=u.string(String.fromCharCode(m))):p.b=g.xml.Parser.escapes.exists(m)?p.b+u.string(g.xml.Parser.escapes.get(m)):p.b+u.string("&"+m+";"),m=b+1,f=e)}s=a.charCodeAt(++b)}1==f&&(m=b,f=13);if(13==f)return(b!=m||0==h)&&c.addChild(n.createPCData(p.b+l.substr(a,
m,b-m))),b;throw"Unexpected end";};var H=function(){this.b=""};r.StringBuf=H;H.__name__=["StringBuf"];H.prototype={addSub:function(a,b,c){this.b+=null==c?l.substr(a,b,null):l.substr(a,b,c)},__class__:H};var y=function(){};r.Link=y;y.__name__=["Link"];y.resolve=function(a){a=y.trimURL(a);for(var b=0,c=y.sites;b<c.length;){var d=c[b];++b;try{if(d.regex.match(a)&&d.regex.matchedPos().len==a.length)return d}catch(f){console.log("Error "+u.string(f)+" whilst processing regex "+u.string(d.regex))}}return null};
y.trimURL=function(a){p.startsWith(a,"http://")?a=l.substr(a,7,null):p.startsWith(a,"https://")&&(a=l.substr(a,8,null));p.startsWith(a,"www.")?a=l.substr(a,4,null):p.startsWith(a,"m.")&&(a=l.substr(a,2,null));-1!=a.indexOf("&")&&(a=l.substr(a,0,a.indexOf("&")));-1!=a.indexOf("?")&&!p.startsWith(a,"facebook.com/")&&(a=l.substr(a,0,a.indexOf("?")));-1!=a.indexOf("#")&&-1==a.indexOf("/wiki/")&&(a=l.substr(a,0,a.indexOf("#")));p.endsWith(a,"/")&&(a=l.substr(a,0,a.length-1));return a};y.filterHTML=function(a){for(var b=
0,c=y.HTML_FILTERS;b<c.length;){var d=c[b];for(++b;d.match(a);)a=d.replace(a,"")}b=0;for(c=y.HTML_CLEANERS;b<c.length;)d=c[b],++b,a=d.from.replace(a,d.to);if(p.startsWith(a,"<br>")||p.startsWith(a,"<br />"))a=l.substr(a,a.indexOf(">")+1,null);p.endsWith(a,"<br>")&&(a=l.substr(a,0,a.length-4));return a};y.createButton=function(a,b,c){var d=y.resolve(a),f=null;if(null!=d){var q=e.Browser.document.createElement("div"),h="expando-button ",m=v.toggled,l=m?"expanded":"collapsed";q.className=""+h+" "+l;
f={toggled:function(){return m},toggle:function(a,b){m=a;q.className=h+(l=m?"expanded":"collapsed");for(var c=q.parentElement.getElementsByClassName("expando"),d=0;d<c.length;){var f=c[d];++d;j.show(f,a)}b&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:a,element:q};q.onclick=function(){f.toggle(!m,!0)};d.method(d.regex,function(d){var s="selftext",k;if(z.hasField(d,"urls")){var r=[];for(k=d.urls.keys();k.hasNext();){var n=k.next();r.push('<li><a href="'+d.urls.get(n)+
'">'+n+"</a></li>")}k=e.Browser.document.createElement("div");k.className="usertext";n=e.Browser.document.createElement("div");n.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Name",d.name);a.set("Description",d.description);a.set("Links",r.join(""));return a}(this)));0<d.album.length&&(n.appendChild(e.Browser.document.createElement("br")),n.appendChild(j.embedAlbum(d.album)));k.appendChild(n)}else if(z.hasField(d,"price"))k=e.Browser.document.createElement("div"),k.className="usertext",
s=e.Browser.document.createElement("div"),s.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Category",p.htmlEscape(d.category));a.set("Location",p.htmlEscape(d.location));a.set("Price",p.htmlEscape(d.price));a.set("Description",d.description);return a}(this))),s.appendChild(j.embedAlbum(d.images)),k.appendChild(s),s="item";else if(z.hasField(d,"subscribers"))k=e.Browser.document.createElement("div"),k.className="usertext",k.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;
a.set("Age",j.age(d.created_utc));a.set("Subscribers",j.formatNumber(d.subscribers));a.set("Active users",j.formatNumber(d.accounts_active));a.set("Description",C.parse(d.description));return a}(this)));else if(z.hasField(d,"content")){k=e.Browser.document.createElement("div");k.className="usertext";var n=e.Browser.document.createElement("div"),t=e.Browser.document.createElement("span");t.innerHTML=d.content;n.appendChild(t);null!=d.images&&0<d.images.length&&(n.appendChild(e.Browser.document.createElement("br")),
n.appendChild(j.embedAlbum(d.images)));n.className="md";k.appendChild(n)}else e.Boot.__instanceof(d,Array)&&z.hasField(d[0],"url")?(k=j.embedAlbum(d),s="image"):z.hasField(d,"developers")?(console.log(a),k=e.Browser.document.createElement("div"),k.className="usertext",n=e.Browser.document.createElement("div"),t=e.Browser.document.createElement("span"),t.innerHTML=""+u.string(d.description)+'<br><a href="'+u.string(d.url)+'"><b>Clone repo</b></a><br>',null!=d.album&&0<d.album.length&&t.appendChild(j.embedAlbum(d.album)),
n.appendChild(t),n.className="md",k.appendChild(n)):k=null;null!=k&&(n=e.Browser.document.createElement("div"),n.className="expando",n.appendChild(k),h+=""+s+" ",q.className=""+h+" "+l,v.buttons.push(f),j.show(n,m),null==c?b.appendChild(n):b.insertBefore(n,c.nextSibling),b.insertBefore(q,n))})}return null!=f?f.element:null};var O=function(){this.length=0};r.List=O;O.__name__=["List"];O.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==
this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:O};var R=function(){};r.NSFWFilter=R;R.__name__=["NSFWFilter"];R.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("nsfw-stamp"),b=0;b<a.length;){var c=a[b];++b;"li"==c.nodeName.toLowerCase()&&j.show(c.parentNode.parentNode.parentNode,!1)}};var J=function(){};r.Preview=J;J.__name__=["Preview"];J.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-edit"),
b=0;b<a.length;){var c=a[b];++b;J.preview(c)}};J.preview=function(a){var b=a.getElementsByTagName("textarea")[0];if(null!=b){var c=e.Browser.document.createElement("div");a.appendChild(c);c.className="md";var d=null;b.onfocus=function(){d=new g.Timer(100);d.run=function(){c.innerHTML=C.parse(b.value)}};b.onblur=function(){d.stop();d=null}}};var k=function(){};r.Settings=k;k.__name__=["Settings"];k.optimisedData=function(){for(var a=new g.ds.StringMap,b=k.data.keys();b.hasNext();){var c=b.next(),d=
k.data.get(c);k.DEFAULTS.get(c)!=d&&a.set(c,d)}return g.Serializer.run(a)};k.save=function(){g.Serializer.USE_CACHE=!1;e.Browser.getLocalStorage().setItem("reditn",k.optimisedData())};k.init=function(){var a=e.Browser.getLocalStorage().getItem("reditn");if(null!=a){var b;try{b=g.Unserializer.run(a)}catch(c){b=k.data}k.data=b}k.fixMissing();a=e.Browser.document.getElementById("header-bottom-right");b=a.getElementsByTagName("ul")[0];var d=e.Browser.document.createElement("a");d.innerHTML="reditn";d.className=
"pref-lang";d.href="javascript:void(0);";d.onclick=function(){k.settingsPopUp()};null==b?a.appendChild(d):a.insertBefore(d,b);d=e.Browser.document.createElement("span");d.innerHTML=" | ";d.className="seperator";d.style.fontWeight="none";a.insertBefore(d,b)};k.settingsPopUp=function(){var a=e.Browser.document.getElementById("reditn-config");null!=a&&a.parentElement.removeChild(a);var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("h1");b.innerHTML="Reditn settings";a.appendChild(b);
j.fullPopUp(a);var c=e.Browser.document.createElement("form");c.id="reditn-config";c.action="javascript:void(0);";c.onchange=function(){for(var a=c.childNodes,b=0;b<a.length;){var d=a[b];++b;if("button"!=d.type&&"input"==d.nodeName.toLowerCase()){var f=void 0;switch(d.type.toLowerCase()){case "checkbox":f=d.checked;break;default:f=d.value}k.data.set(d.name,f)}}k.save()};b=e.Browser.document.createElement("input");b.type="button";b.value="Restore default settings";b.onclick=function(){k.fixMissing(!0);
k.save();k.settingsPopUp()};c.appendChild(b);b=k.makeButton("Export settings to text",function(){e.Browser.window.alert(e.Browser.window.btoa(k.optimisedData()))});c.appendChild(b);b=k.makeButton("Import settings",function(){k.data=g.Unserializer.run(e.Browser.window.atob(e.Browser.window.prompt("Settings to import",e.Browser.window.btoa(k.optimisedData()))));k.fixMissing();k.save();k.settingsPopUp()});c.appendChild(b);c.appendChild(e.Browser.document.createElement("br"));for(b=k.data.keys();b.hasNext();){var d=
b.next(),f=k.data.get(d);if(!e.Boot.__instanceof(f,g.ds.StringMap)&&k.DESC.exists(d)){var q=k.DESC.get(d),h=e.Browser.document.createElement("label");h.setAttribute("for",d);h.style.position="absolute";h.style.width="46%";h.style.textAlign="right";h.innerHTML=""+q+" ";c.appendChild(h);q=e.Browser.document.createElement("input");q.style.position="absolute";q.style.left="54%";q.style.textAlign="left";q.style.width="46%";q.name=d;c.appendChild(q);c.appendChild(e.Browser.document.createElement("br"));
q.type=e.Boot.__instanceof(f,U)?"checkbox":e.Boot.__instanceof(f,String)?"text":e.Boot.__instanceof(f,Date)?"datetime":e.Boot.__instanceof(f,Y)?"number":null;e.Boot.__instanceof(f,U)?q.checked=k.data.get(d):q.value=k.data.get(d)}}b=e.Browser.document.createElement("div");b.style.fontWeight="bold";b.innerHTML="Close this dialog and refresh the page to see your changes in effect. Changes will be saved automatically.";c.appendChild(b);a.appendChild(c)};k.makeButton=function(a,b){var c=e.Browser.document.createElement("input");
c.type="button";c.value=a;c.onclick=b;return c};k.fixMissing=function(a){null==a&&(a=!1);for(var b=k.DEFAULTS.keys();b.hasNext();){var c=b.next();if(a||!k.data.exists(c))k.data.set(c,e.Boot.__instanceof(k.DEFAULTS.get(c),g.ds.StringMap)?new g.ds.StringMap:k.DEFAULTS.get(c))}};var S=function(){};r.Style=S;S.__name__=["Style"];S.init=function(){var a=e.Browser.document.createElement("style");a.innerHTML='.expando-button.image.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.collapsed {\n\tpadding: 0px;\n}\np .expando-button {\n\tdisplay: inline-block;\n\tfloat: none;\n\tmargin: 0px;\n\tpadding: 0px;\n}\ndl.reditn-table  {\n\tfloat: left;\n\twidth: 100%;\n\tpadding: 0;\n}\n.reditn-table dt {\n\tclear: left;\n\tfloat: left;\n\twidth: 16%;\n\tfont-weight: bold;\n\ttext-align: right;\n}\n.reditn-table dd {\n\tfloat: left;\n\ttext-align: left;\n}';
e.Browser.document.head.appendChild(a)};var K=function(){};r.SubredditInfo=K;K.__name__=["SubredditInfo"];K.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=K._onMouseOverSubreddit}};K._onMouseOverSubreddit=function(a){a=a.target;var b=a.innerHTML,c=e.Browser.document.createElement("div");j.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/r/"+b+"/about.json",function(a){var f=j.formatNumber(a.subscribers),
e=j.formatNumber(a.accounts_active),g=C.parse(a.public_description);a=j.age(a.created_utc);var m="<b>Name:</b> "+b+" <br>",h=k.data.get("sub-tags");h.exists(b)&&(m+="<b>Tag:</b> "+h.get(b)+"<br>");m=m+("<b>Subscribers:</b> "+f+" <br>")+("<b>Active Users:</b> "+e+" <br>");m+="<b>Description:</b> "+g+" <br>";m+="<b>Age:</b> "+a+" <br>";c.innerHTML=m})};var N=function(){};r.SubredditTagger=N;N.__name__=["SubredditTagger"];N.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),
b=0;b<a.length;){var c=a[b];++b;N.getTag(c)}};N.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("sub-tags").exists(c)?k.data.get("sub-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),
b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("sub-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};var T=function(){};r.TextExpand=
T;T.__name__=["TextExpand"];T.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-body"),b=0;b<a.length;){var c=a[b];++b;for(var c=e.Boot.__cast(c,Element).getElementsByClassName("md")[0].getElementsByTagName("a"),d=0;d<c.length;){var f=c[d];++d;y.createButton(f.href,f.parentElement,f)}}};var w=r.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};w.TNull=["TNull",0];w.TNull.toString=G;w.TNull.__enum__=
w;w.TInt=["TInt",1];w.TInt.toString=G;w.TInt.__enum__=w;w.TFloat=["TFloat",2];w.TFloat.toString=G;w.TFloat.__enum__=w;w.TBool=["TBool",3];w.TBool.toString=G;w.TBool.__enum__=w;w.TObject=["TObject",4];w.TObject.toString=G;w.TObject.__enum__=w;w.TFunction=["TFunction",5];w.TFunction.toString=G;w.TFunction.__enum__=w;w.TClass=function(a){a=["TClass",6,a];a.__enum__=w;a.toString=G;return a};w.TEnum=function(a){a=["TEnum",7,a];a.__enum__=w;a.toString=G;return a};w.TUnknown=["TUnknown",8];w.TUnknown.toString=
G;w.TUnknown.__enum__=w;var B=function(){};r.Type=B;B.__name__=["Type"];B.getClassName=function(a){return a.__name__.join(".")};B.getEnumName=function(a){return a.__ename__.join(".")};B.resolveClass=function(a){a=r[a];return null==a||!a.__name__?null:a};B.resolveEnum=function(a){a=r[a];return null==a||!a.__ename__?null:a};B.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};B.createEnum=function(a,b,c){var d=z.field(a,b);if(null==d)throw"No such constructor "+b;if(z.isFunction(d)){if(null==
c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};B.getEnumConstructs=function(a){return a.__constructs__.slice()};B["typeof"]=function(a){switch(typeof a){case "boolean":return w.TBool;case "string":return w.TClass(String);case "number":return Math.ceil(a)==a%2147483648?w.TInt:w.TFloat;case "object":if(null==a)return w.TNull;var b=a.__enum__;if(null!=b)return w.TEnum(b);a=a.__class__;return null!=a?w.TClass(a):
w.TObject;case "function":return a.__name__||a.__ename__?w.TObject:w.TFunction;case "undefined":return w.TNull;default:return w.TUnknown}};var L=function(){};r.UserInfo=L;L.__name__=["UserInfo"];L.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=L._onMouseOverUser}};L._onMouseOverUser=function(a){a=a.target;var b=a.innerHTML,b=l.substr(b,b.lastIndexOf("/")+1,null),c=e.Browser.document.createElement("div");j.popUp(a,c,
a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/user/"+b+"/about.json",function(a){var b=a.name,e=j.age(a.created_utc),g=j.formatNumber(a.link_karma),h=j.formatNumber(a.comment_karma),l="<b>User:</b> "+b+"<br>",p=k.data.get("user-tags");p.exists(b)&&(l+="<b>Tag:</b> "+p.get(b)+"<br>");l=l+("<b>Account age:</b> "+e+"<br>")+("<b>Karma:</b> "+g+" link karma, "+h+" comment karma");a.is_mod&&(l+="<br><b>Moderator</b>");a.is_gold&&(l+="<br><b>Gold</b>");c.innerHTML=l})};var M=function(){};r.UserTagger=
M;M.__name__=["UserTagger"];M.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;M.getTag(c)}};M.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("user-tags").exists(c)?k.data.get("user-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";
g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("user-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+
g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};r.XmlType={__ename__:["XmlType"],__constructs__:[]};g.Serializer=function(){this.buf=new H;this.cache=[];this.useCache=g.Serializer.USE_CACHE;this.useEnumIndex=g.Serializer.USE_ENUM_INDEX;this.shash=new g.ds.StringMap;this.scount=0};r["haxe.Serializer"]=g.Serializer;g.Serializer.__name__=["haxe","Serializer"];g.Serializer.run=function(a){var b=new g.Serializer;b.serialize(a);return b.toString()};g.Serializer.prototype={serialize:function(a){var b=
B["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=u.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=u.string(a)):this.buf.b+=u.string(0>a?"m":"p");break;case 3:this.buf.b+=u.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var d=a.length,f=0;f<d;)b=f++,
null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=u.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=u.string(c)));this.buf.b+="h";break;case O:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=u.string(l.dateStr(a));break;case g.ds.StringMap:this.buf.b+="b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));
this.buf.b+="h";break;case g.ds.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=u.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case g.ds.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=c.next(),d=z.field(b,"__id__"),z.deleteField(b,"__id__"),this.serialize(b),b.__id__=d,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case g.io.Bytes:b=0;c=a.length-2;d=new H;for(f=g.Serializer.BASE64;b<c;){var e=a.b[b++],h=a.b[b++],j=a.b[b++];d.b+=u.string(f.charAt(e>>
2));d.b+=u.string(f.charAt((e<<4|h>>4)&63));d.b+=u.string(f.charAt((h<<2|j>>6)&63));d.b+=u.string(f.charAt(j&63))}b==c?(e=a.b[b++],h=a.b[b++],d.b+=u.string(f.charAt(e>>2)),d.b+=u.string(f.charAt((e<<4|h>>4)&63)),d.b+=u.string(f.charAt(h<<2&63))):b==c+1&&(e=a.b[b++],d.b+=u.string(f.charAt(e>>2)),d.b+=u.string(f.charAt(e<<4&63)));b=d.b;this.buf.b+="s";this.buf.b+=u.string(b.length);this.buf.b+=":";this.buf.b+=u.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(B.getClassName(b)),
this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(B.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=u.string(this.useEnumIndex?"j":"w");this.serializeString(B.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=u.string(a[1])):this.serializeString(a[0]);
this.buf.b+=":";d=a.length;this.buf.b+=u.string(d-2);for(f=2;f<d;)b=f++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+u.string(a);}},serializeFields:function(a){for(var b=0,c=z.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(z.field(a,d))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var f=c++,e=this.cache[f];if(typeof e==b&&e==a)return this.buf.b+="r",
this.buf.b+=u.string(f),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=u.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=p.urlEncode(a),this.buf.b+=u.string(a.length),this.buf.b+=":",this.buf.b+=u.string(a))},toString:function(){return this.buf.b},__class__:g.Serializer};g.Timer=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};r["haxe.Timer"]=g.Timer;g.Timer.__name__=["haxe","Timer"];g.Timer.delay=
function(a,b){var c=new g.Timer(b);c.run=function(){c.stop();a()};return c};g.Timer.stamp=function(){return(new Date).getTime()/1E3};g.Timer.prototype={run:function(){console.log("run")},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:g.Timer};g.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=g.Unserializer.DEFAULT_RESOLVER;null==a&&(a=B,g.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};r["haxe.Unserializer"]=
g.Unserializer;g.Unserializer.__name__=["haxe","Unserializer"];g.Unserializer.initCodes=function(){for(var a=[],b=0,c=g.Unserializer.BASE64.length;b<c;){var d=b++;a[g.Unserializer.BASE64.charCodeAt(d)]=d}return a};g.Unserializer.run=function(a){return(new g.Unserializer(a)).unserialize()};g.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return u.parseFloat(l.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=l.substr(this.buf,this.pos,b);this.pos+=b;a=p.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=
this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();
a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=B.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+
b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new O;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new g.ds.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new g.ds.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);
if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new g.ds.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=l.strDate(l.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";d=g.Unserializer.CODES;null==d&&(d=g.Unserializer.initCodes(),g.Unserializer.CODES=
d);for(var a=this.pos,f=b&3,e=a+(b-f),h=g.io.Bytes.alloc(3*(b>>2)+(2<=f?f-1:0)),j=0;a<e;){var k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)];h.b[j++]=(k<<2|n>>4)&255;k=d[c.charCodeAt(a++)];h.b[j++]=(n<<4|k>>2)&255;n=d[c.charCodeAt(a++)];h.b[j++]=(k<<6|n)&255}2<=f&&(k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)],h.b[j++]=(k<<2|n>>4)&255,3==f&&(k=d[c.charCodeAt(a++)],h.b[j++]=(n<<4|k>>2)&255));this.pos+=b;this.cache.push(h);return h;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==
a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return B.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return B.createEnum(a,b,d)},unserializeObject:function(a){for(;;){if(this.pos>=
this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!e.Boot.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},
resolveEnum:function(){return null}}:a},__class__:g.Unserializer};g.ds.IntMap=function(){this.h={}};r["haxe.ds.IntMap"]=g.ds.IntMap;g.ds.IntMap.__name__=["haxe","ds","IntMap"];g.ds.IntMap.__interfaces__=[x];g.ds.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return l.iter(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:g.ds.IntMap};g.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};r["haxe.ds.ObjectMap"]=g.ds.ObjectMap;
g.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];g.ds.ObjectMap.__interfaces__=[x];g.ds.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return l.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=++g.ds.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:g.ds.ObjectMap};g.io={};g.io.Bytes=function(a,b){this.length=a;this.b=b};r["haxe.io.Bytes"]=g.io.Bytes;g.io.Bytes.__name__=["haxe","io","Bytes"];
g.io.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new g.io.Bytes(a,b)};g.io.Bytes.prototype={__class__:g.io.Bytes};Array.prototype.indexOf?l.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0}:null;"undefined"!=typeof JSON&&(g.Json=JSON);String.prototype.__class__=r.String=String;String.__name__=["String"];Array.prototype.__class__=r.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=r.Date=Date;Date.__name__=["Date"];var Y=r.Int={__name__:["Int"]},
$=r.Dynamic={__name__:["Dynamic"]},Z=r.Float=Number;Z.__name__=["Float"];var U=r.Bool=Boolean;U.__ename__=["Bool"];var aa=r.Class={__name__:["Class"]},ba={};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;r.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};n.Element="element";n.PCData="pcdata";n.CData="cdata";n.Comment="comment";n.DocType="doctype";n.ProcessingInstruction=
"processingInstruction";n.Document="document";v.buttons=[];v.queue=0;t.keys=[];t.konami=[38,38,40,40,37,39,37,39,66,65];D.words=["wubba","mcwubber","dubba","dadubber"];D.filter=new h("[a-zA-Z]*","");j.fullPage=!0;A.regex=[{from:new h("\\[\\[Category:([^\\]]*)\\]\\]",""),to:""},{from:new h("\\[\\[([^\\]\n]*)\\|([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$2</a>'},{from:new h("\\[\\[([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$1</a>'},{from:new h("<gallery>(.|\n|\n\r)*</gallery>",
""),to:""},{from:new h("\\[\\[File:([^\\]]*)\\]\\]",""),to:""},{from:new h("(=*) ?(References|Gallery) ?\\1.*\\1?",""),to:""},{from:new h("{{spaced ndash}}",""),to:" - "},{from:new h("\\{\\{convert\\|([0-9]*)\\|([^\\|]*)([^\\}]*)\\}\\}",""),to:"$1 $2"},{from:new h("\\{\\{([^\\}]*)\\}\\}",""),to:""},{from:new h("\\{\\|(.|\n|\n\r)*\\|\\}",""),to:""},{from:new h("\\[([^ \\[\\]]*) ([^\\[\\]]*)\\]",""),to:""},{from:new h("'''([^']*)'''",""),to:"<b>$1</b>"},{from:new h("''([^']*)''",""),to:"<em>$1</em>"},
{from:new h("======([^=]*)======",""),to:"<h6>$1</h6>"},{from:new h("=====([^=]*)=====",""),to:"<h5>$1</h5>"},{from:new h("====([^=]*)====",""),to:"<h4>$1</h4>"},{from:new h("===([^=]*)===",""),to:"<h3>$1</h3>"},{from:new h("==([^=]*)==",""),to:"<h2>$1</h2>"},{from:new h("\n\\* ?([^\n]*)",""),to:"<li>$1</li>"},{from:new h("<ref>[^<>]*</ref>",""),to:""},{from:new h("\n\r?\n\r?",""),to:"<br>"},{from:new h("\n",""),to:""},{from:new h("<br><br>",""),to:"<br>"},{from:new h("\x3c!--Interwiki links--\x3e.*",
""),to:""},{from:new h("\\[\\]",""),to:""}];A.sections=new h("'=(=*)([^=]*)=\\\\1\n\r?(.|\n|\n\r)*(\\\\1)?'","");A.IMAGES=new h("(File:|img=|Image:)([^\\.\\|\\]\\}\\{\\[<>=]*)\\.(gif|jpg|jpeg|bmp|png|webp|svg|raw)(\\|([^\\)]*))?","");e.Browser.window="undefined"!=typeof window?window:null;e.Browser.document="undefined"!=typeof window?window.document:null;C.images=new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)","");C.regex=[{from:new h("(\\*\\*|__)([^\\1\n]*?)\\1",""),to:"<b>$2</b>"},{from:new h("(\\*|_)([^\\1\n]*?)\\1",
""),to:"<em>$2</em>"},{from:new h("^[\\*|+|-] (.*)$","m"),to:"<ul><li>$1</li></ul>"},{from:new h("</ul><ul>",""),to:""},{from:new h("\n> ([^\n\r]*)",""),to:"<blockquote>$1</blockquote>"},{from:new h("</blockquote>\n?\r?<blockquote>$",""),to:""},{from:new h("~~([^~]*?)~~",""),to:"<del>$1</del>"},{from:new h("\\^([^\\^]+)",""),to:"<sup>$1</sup>"},{from:new h(':"([^:"]*?)":',""),to:"<q>$1</q>"},{from:C.images,to:""},{from:new h("\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",""),to:'<a href="$2">$1</a>'},{from:new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",
""),to:""},{from:new h("(.*)\n\r?(==+)\n",""),to:"<h2>$1</h2>"},{from:new h("(.*)\n\r?((-|#)+)\n",""),to:"<h3>$1</h3>"},{from:new h("(```*)([^`]+)\\1","m"),to:"<code>$2</code>"},{from:new h("<pre>(.*)\n\n(.*)</pre>",""),to:"<pre>$1\n$2</pre>"},{from:new h("\n\n+",""),to:"<br>\n"}];C.header=new h("^([#|=]+)([^#=]+)\\1?$","m");x=g.xml.Parser;E=new g.ds.StringMap;E.set("lt","<");E.set("gt",">");E.set("amp","&");E.set("quot",'"');E.set("apos","'");E.set("nbsp",String.fromCharCode(160));x.escapes=E;y.HTML_IMG=
new h('<img .*?src="([^"]*)"/?>',"");y.sites=[{regex:new h(".*\\.(jpeg|gif|jpg|bmp|png|webp)","i"),method:function(a,b){b([{url:"http://"+a.matched(0),caption:null,author:null}])}},{regex:new h("i?\\.?imgur.com/(a|gallery)/([^/]*)",""),method:function(a,b){var c=a.matched(2),d;switch(a.matched(1).toLowerCase()){case "a":d="album";break;case "gallery":d="gallery/album";break;default:d="album"}j.getJSON("https://api.imgur.com/3/"+d+"/"+c,function(a){var c=[];if(0>=a.images_count)c.push({url:"http://i.imgur.com/"+
a.id+".jpg",caption:a.title,author:a.account_url});else for(var d=0,e=a.images;d<e.length;){var g=e[d];++d;c.push({url:"http://i.imgur.com/"+g.id+".jpg",caption:g.title,author:a.account_url})}b(c)},"Client-ID cc1f254578d6c52")}},{regex:new h("imgur\\.com/(r/[^/]*/)?([a-zA-Z0-9,]*)",""),method:function(a,b){for(var c=(null==a.matched(1)||-1!=a.matched(1).indexOf("/")?a.matched(2):a.matched(1)).split(","),d=[],f=0;f<c.length;){var e=c[f];++f;d.push({url:"http://i.imgur.com/"+e+".jpg",caption:null,author:null})}b(d)}},
{regex:new h("(qkme\\.me|quickmeme\\.com/meme|m\\.quickmeme.com/meme)/([^/]*)",""),method:function(a,b){b([{url:"http://i.qkme.me/"+a.matched(2)+".jpg",caption:null,author:null}])}},{regex:new h("memecrunch.com/meme/([^/]*)/([^/]*)",""),method:function(a,b){b([{url:"http://"+a.matched(0)+"/image.png",caption:null,author:null}])}},{regex:new h("memegenerator\\.net/instance/([^/]*)",""),method:function(a,b){b([{url:"http://cdn.memegenerator.net/instances/400x/"+a.matched(1)+".jpg",caption:null,author:null}])}},
{regex:new h("imgflip\\.com/i/([^/]*)",""),method:function(a,b){b([{url:"http://i.imgflip.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("what-if.xkcd.com/([0-9]*)",""),method:function(){}},{regex:new h("xkcd.com/([0-9]*)",""),method:function(a,b){j.getJSON("http://www.xkcd.com/"+a.matched(1)+"/info.0.json",function(a){b([{url:a.img,caption:a.title,author:null}])})}},{regex:new h("explosm.net/comics/([0-9]*)",""),method:function(a,b){j.getText("http://www."+a.matched(0),function(c){var d=
new h('"http://www\\.explosm\\.net/db/files/Comics/([^"]*)"',"");if(d.match(c))b([{url:d.matched(0).substring(1,d.matched(0).length-1),caption:null,author:null}]);else throw""+u.string(d)+" not matched by "+a.matched(0)+" in "+c;},null,null,null)}},{regex:new h("livememe.com/([^/]*)",""),method:function(a,b){b([{url:"http://livememe.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("(([^\\.]*\\.)?deviantart\\.com/art|fav\\.me)/.*",""),method:function(a,b){j.getJSON("http://backend.deviantart.com/oembed?url="+
p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("flickr\\.com/photos/.*",""),method:function(a,b){j.getJSON("http://www.flickr.com/services/oembed/?url=http://www."+p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("ebay\\.([a-zA-Z\\.]*)/itm(/[^/]*)?/([0-9]*)",""),method:function(a,b){a.matched(1);var c="http://open.api.ebay.com/shopping?callname=GetSingleItem&responseencoding=JSON&appid=ThomasDa-1e6c-4d29-a156-85557acee70b&siteid=0&version=515&ItemID="+
a.matched(3)+"&IncludeSelector=TextDescription";j.getJSON(c,function(a){var c=a.Item.PictureURL.map(function(a){return{url:a,caption:null,author:null}});b({title:a.Item.Title,category:a.Item.PrimaryCategoryName,location:a.Item.Location+", "+a.Item.Country,description:y.filterHTML(a.Item.Description),images:c,price:j.formatPrice(a.Item.ConvertedCurrentPrice.Value)+" "+a.Item.ConvertedCurrentPrice.CurrencyID})})}},{regex:new h("([^\\.]*\\.wordpress\\.com|wp\\.me|techcrunch\\.com|news\\.blogs\\.cnn\\.com|snoopdogg\\.com|usainbolt\\.com|katiecouric\\.com|rollingstones\\.com|variety\\.com|bbcamerica\\.com)/(.*)?",
""),method:function(a,b){var c="http://"+a.matched(0);j.getJSON("http://public-api.wordpress.com/oembed/?url="+p.urlEncode(c)+"&for=Reditn",function(a){var c=[];null!=a.thumbnail_url&&c.push({caption:null,url:a.thumbnail_url,author:null});b({author:a.author_name,content:y.filterHTML(a.html),images:c})})}},{regex:new h("(.*)/wiki/([^#]*)(#.*)?",""),method:function(a,b){var c="http://"+a.matched(1),d=a.matched(2),f=a.matched(3);null!=f&&(f=p.trim(l.substr(f,1,null)));null!=f&&0==f.length&&(f=null);
var e=c;p.endsWith(e,".wikia.com")||(e+="/w");var g=null,g=function(a){j.getJSON(""+e+"/api.php?format=json&prop=revisions&action=query&titles="+a+"&rvprop=content",function(a){a=a.query.pages;for(var d=0,h=z.fields(a);d<h.length;){var m=h[d];++d;var m=[z.field(a,m)],k=[z.field(m[0].revisions[0],"*")];if(p.startsWith(k[0],"#REDIRECT [[")){g(k[0].substring(12,k[0].lastIndexOf("]]")));break}var n=[A.getAlbum(k[0])];null!=f&&(k[0]=A.trimTo(k[0],f));k[0]=A.parse(k[0],c);if(0<n[0].length)for(var r=[[]],
t=0;t<n[0].length;){var v=[n[0][t]];++t;j.getJSON(""+e+"/api.php?action=query&titles="+p.urlEncode(v[0].url)+"&prop=imageinfo&iiprop=url&format=json",function(a,c,d,f,e){return function(g){g=g.query.pages;for(var h=0,j=z.fields(g);h<j.length;){var m=j[h];++h;m=z.field(g,m);null!=m&&null!=m.imageinfo?c[0].push({url:m.imageinfo[0].url,caption:a[0].caption,author:null}):(console.log("Error whilst processing "+u.string(m)+" for "+a[0].url),l.remove(d[0],a[0]))}c[0].length>=d[0].length&&b({title:e[0].title,
content:f[0],author:null,images:c[0]})}}(v,r,n,k,m))}else b({title:m[0].title,content:k[0],author:null,images:null})}})};g(d)}},{regex:new h("github\\.com/([^/]*)/([^/]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2);j.getJSON("https://api.github.com/repos/"+c+"/"+d+"/readme?client_id=39d85b9ac427f1176763&client_secret=5117570b83363ca0c71a196edc5b348af150c25d",function(a){if(null!=a.content){a=a.content;a=p.replace(a,"\n","");a=p.trim(a);a=e.Browser.window.atob(a);for(var g=C.images,
h=[],j=a;g.match(j);){var k=g.matched(2);k.indexOf(".")==k.lastIndexOf(".")&&(p.startsWith(k,"/")&&(k=l.substr(k,1,null)),k="https://github.com/"+c+"/"+d+"/raw/master/"+k);h.push({url:k,caption:g.matched(1),author:c});j=l.substr(j,g.matchedPos().pos+g.matchedPos().len,null)}b({name:d,developers:[c],description:C.parse(a),url:"git://github.com/"+c+"/"+d+".git",album:h})}})}},{regex:new h("sourceforge.net/projects/([a-zA-Z-]*)",""),method:function(a,b){j.getJSON("http://sourceforge.net/api/project/name/"+
a.matched(1)+"/json",function(a){a=a.Project;for(var d=a.developers,f=a.name,e=a.description,g=[],h=0;h<d.length;)++h,g.push(a.name);for(var j=z.field(a,"download-page"),d=0,h=z.fields(a);d<h.length;){var k=h[d];++d;p.endsWith(k,"Repository")&&(j=l.substr(k,0,k.length-10).toLowerCase(),k=z.field(a,k).location,j=p.replace(k,"http:",""+j+":"))}b({name:f,description:e,developers:g,url:j,album:[]})})}},{regex:new h("(digitaltrends\\.com|webupd8\\.org|doctorwho\\.tv)/.*",""),method:function(a,b){j.getText("http://www."+
a.matched(0),function(a){var d=new h("<title>(.*)</title>","");d.match(a)&&(a=l.substr(a,a.indexOf("<article"),null),a=l.substr(a,a.indexOf(">")+1,null),a=l.substr(a,0,a.indexOf("</article>")),a=y.filterHTML(a),b({title:d.matched(1),content:a,author:null,images:[]}))},null,null,null)}},{regex:new h("([^\\.]*)\\.tumblr\\.com/(post|image)/([0-9]*)(/.*)?",""),method:function(a,b){var c=a.matched(1),d=a.matched(3);j.getJSON("http://api.tumblr.com/v2/blog/"+c+".tumblr.com/posts/json?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE&id="+
d,function(a){var c=a.posts[0];switch(c.type){case "text":for(var d=[];y.HTML_IMG.match(c.body);)d.push({url:y.HTML_IMG.matched(1),caption:null,author:a.blog.name}),c.body=y.HTML_IMG.replace(c.body,"");c.body=y.filterHTML(c.body);a={title:c.title,content:c.body,author:a.blog.name,images:d};break;case "quote":a={title:null,content:u.string(c.text)+"<br/><b>"+u.string(c.source)+"</b>",author:a.blog.name,images:[]};break;case "photo":for(var c=c.photos,d=[],e=0;e<c.length;){var g=c[e];++e;d.push({url:g.original_size.url,
caption:g.caption,author:a.blog.name})}a=d;break;default:a=null}b(a)})}},{regex:new h(".*\\.tumblr\\.com",""),method:function(a,b){j.getJSON("http://api.tumblr.com/v2/blog/"+p.urlEncode(a.matched(0))+"/info?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE",function(a){b({urls:new g.ds.StringMap,name:a.blog.title,description:y.filterHTML(a.blog.description),album:[]})})}},{regex:new h("twitter.com/.*/status/([0-9]*)",""),method:function(a,b){j.getJSON("https://api.twitter.com/1/statuses/oembed.json?id="+
a.matched(1),function(a){b({title:null,author:a.author_name,content:y.filterHTML(a.html),images:[]})})}},{regex:new h("amazon\\.[a-z\\.]*/gp/product/([0-9A-Z]*)",""),method:function(a){a=a.matched(1);j.getXML("http://webservices.amazon.com/onca/xml?AWSAccessKeyId=AKIAJMR3XPXGBMZJE6IA&Service=AWSECommerceService&Operation=ItemLookup&ItemId="+a,function(a){console.log(a)})}},{regex:new h("plus\\.google\\.com/([0-9]*)/posts/([a-zA-Z]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2),e=new h("<b>([^>]*)</b><br />",
""),g=null,g=function(h){j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"/activities/public?fields=items(id%2Curl)%2CnextPageToken&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o"+(null==h?"":"&requestToken="+h),function(c){var h=c.items;a.matched(0);for(var k=0;k<h.length;){var l=h[k];++k;if(-1!=l.url.indexOf(d)){j.getJSON("https://www.googleapis.com/plus/v1/activities/"+u.string(l.id)+"?fields=actor%2FdisplayName%2Cannotation%2Cobject(actor%2Cattachments%2Ccontent%2Cid%2CobjectType%2CoriginalContent%2Curl)&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",
function(a){var c=a.object.objectType,d=a.actor.actorName,g=a.object.content;e.match(g);switch(c){case "note":a=e.matched(1);g=e.replace(g,"");g=y.filterHTML(g);b({title:a,author:d,content:g,images:[]});break;default:d=a.object.attachments;g=[];for(c=0;c<d.length;){var h=d[c];++c;g.push({url:h.image.url,caption:0==h.content.length?a.object.content:h.content,author:null})}b(g)}});return}}0!=c.items.length&&g(c.requestToken)})};g()}},{regex:new h("facebook.com/photo\\.php\\?v=([0-9]*)",""),method:function(a,
b){a.matched(1);b([{caption:null,url:"http://graph.facebook.com/${id}/picture?type=small&access_token=CAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrCAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrf",author:null}])}},{regex:new h("facebook\\.com/([a-zA-Z0-9]*)",""),method:function(a,b){var c=
a.matched(1);b({album:[{url:"https://graph.facebook.com/"+c+"/picture?type=large",caption:null,author:null}],urls:new g.ds.StringMap})}},{regex:new h("plus\\.google.com/u?/?[0-9]*/([0-9]*)(/about)?",""),method:function(a,b){var c=a.matched(1);j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"?key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",function(a){var c=a.urls,e=new g.ds.StringMap;if(null!=c)for(var h=0;h<c.length;){var j=c[h];++h;e.set(j.label,j.value)}null!=a.urls&&(null!=a.displayName&&
null!=a.aboutMe)&&b({urls:e,name:a.displayName,description:a.aboutMe,album:[{url:a.image.url,caption:null,author:a.displayName}]})})}},{regex:new h("reddit\\.com/r/([a-zA-Z0-9]*)",""),method:function(a,b){j.getJSON("http://www."+a.matched(0)+"/about.json",function(a){b(a)})}},{regex:new h("gamejolt.com/games/[^/]*/[^/]*/([0-9]*)",""),method:function(a){a=a.matched(1);j.getJSON("http://gamejolt.com/service/games/"+a+"?format=json",function(a){console.log(a)})}},{regex:new h("(0rz\\.tw|1link\\.in|1url\\.com|2\\.gp|2big\\.at|2tu\\.us|3\\.ly|307\\.to|4ms\\.me|4sq\\.com|4url\\.cc|6url\\.com|7\\.ly|a\\.gg|a\\.nf|aa\\.cx|abcurl\\.net|ad\\.vu|adf\\.ly|adjix\\.com|afx\\.cc|all\\.fuseurl\\.com|alturl\\.com|amzn\\.to|ar\\.gy|arst\\.ch|atu\\.ca|azc\\.cc|b23\\.ru|b2l\\.me|bacn\\.me|bcool\\.bz|binged\\.it|bit\\.ly|bizj\\.us|bloat\\.me|bravo\\.ly|bsa\\.ly|budurl\\.com|canurl\\.com|chilp\\.it|chzb\\.gr|cl\\.lk|cl\\.ly|clck\\.ru|cli\\.gs|cliccami\\.info|clickthru\\.ca|clop\\.in|conta\\.cc|cort\\.as|cot\\.ag|crks\\.me|ctvr\\.us|cutt\\.us|dai\\.ly|decenturl\\.com|dfl8\\.me|digbig\\.com|digg\\.com|disq\\.us|dld\\.bz|dlvr\\.it|do\\.my|doiop\\.com|dopen\\.us|easyuri\\.com|easyurl\\.net|eepurl\\.com|eweri\\.com|fa\\.by|fav\\.me|fb\\.me|fbshare\\.me|ff\\.im|fff\\.to|fire\\.to|firsturl\\.de|firsturl\\.net|flic\\.kr|flq\\.us|fly2\\.ws|fon\\.gs|freak\\.to|fuseurl\\.com|fuzzy\\.to|fwd4\\.me|fwib\\.net|g\\.ro\\.lt|gizmo\\.do|gl\\.am|go\\.9nl\\.com|go\\.ign\\.com|go\\.usa\\.gov|goo\\.gl|goshrink\\.com|gurl\\.es|hex\\.io|hiderefer\\.com|hmm\\.ph|href\\.in|hsblinks\\.com|htxt\\.it|huff\\.to|hulu\\.com|hurl\\.me|hurl\\.ws|icanhaz\\.com|idek\\.net|ilix\\.in|is\\.gd|its\\.my|ix\\.lt|j\\.mp|jijr\\.com|kl\\.am|klck\\.me|korta\\.nu|krunchd\\.com|l9k\\.net|lat\\.ms|liip\\.to|liltext\\.com|linkbee\\.com|linkbun\\.ch|liurl\\.cn|ln-s\\.net|ln-s\\.ru|lnk\\.gd|lnk\\.ms|lnkd\\.in|lnkurl\\.com|lru\\.jp|lt\\.tl|lurl\\.no|macte\\.ch|mash\\.to|merky\\.de|migre\\.me|miniurl\\.com|minurl\\.fr|mke\\.me|moby\\.to|moourl\\.com|mrte\\.ch|myloc\\.me|myurl\\.in|n\\.pr|nbc\\.co|nblo\\.gs|nn\\.nf|not\\.my|notlong\\.com|nsfw\\.in|nutshellurl\\.com|nxy\\.in|nyti\\.ms|o-x\\.fr|oc1\\.us|om\\.ly|omf\\.gd|omoikane\\.net|on\\.cnn\\.com|on\\.mktw\\.net|onforb\\.es|orz\\.se|ow\\.ly|ping\\.fm|pli\\.gs|pnt\\.me|politi\\.co|post\\.ly|pp\\.gg|profile\\.to|ptiturl\\.com|pub\\.vitrue\\.com|qlnk\\.net|qte\\.me|qu\\.tc|qy\\.fi|r\\.im|rb6\\.me|read\\.bi|readthis\\.ca|reallytinyurl\\.com|redir\\.ec|redirects\\.ca|redirx\\.com|retwt\\.me|ri\\.ms|rickroll\\.it|riz\\.gd|rt\\.nu|ru\\.ly|rubyurl\\.com|rurl\\.org|rww\\.tw|s4c\\.in|s7y\\.us|safe\\.mn|sameurl\\.com|sdut\\.us|shar\\.es|shink\\.de|shorl\\.com|short\\.ie|short\\.to|shortlinks\\.co\\.uk|shorturl\\.com|shout\\.to|show\\.my|shrinkify\\.com|shrinkr\\.com|shrt\\.fr|shrt\\.st|shrten\\.com|shrunkin\\.com|simurl\\.com|slate\\.me|smallr\\.com|smsh\\.me|smurl\\.name|sn\\.im|snipr\\.com|snipurl\\.com|snurl\\.com|sp2\\.ro|spedr\\.com|srnk\\.net|srs\\.li|starturl\\.com|su\\.pr|surl\\.co\\.uk|surl\\.hu|t\\.cn|t\\.co|t\\.lh\\.com|ta\\.gd|tbd\\.ly|tcrn\\.ch|tgr\\.me|tgr\\.ph|tighturl\\.com|tiniuri\\.com|tiny\\.cc|tiny\\.ly|tiny\\.pl|tinylink\\.in|tinyuri\\.ca|tinyurl\\.com|tk\\.|tl\\.gd|tmi\\.me|tnij\\.org|tnw\\.to|tny\\.com|to\\.|to\\.ly|togoto\\.us|totc\\.us|toysr\\.us|tpm\\.ly|tr\\.im|tra\\.kz|trunc\\.it|twhub\\.com|twirl\\.at|twitclicks\\.com|twitterurl\\.net|twitterurl\\.org|twiturl\\.de|twurl\\.cc|twurl\\.nl|u\\.mavrev\\.com|u\\.nu|u76\\.org|ub0\\.cc|ulu\\.lu|updating\\.me|ur1\\.ca|url\\.az|url\\.co\\.uk|url\\.ie|url360\\.me|url4\\.eu|urlborg\\.com|urlbrief\\.com|urlcover\\.com|urlcut\\.com|urlenco\\.de|urli\\.nl|urls\\.im|urlshorteningservicefortwitter\\.com|urlx\\.ie|urlzen\\.com|usat\\.ly|use\\.my|vb\\.ly|vgn\\.am|vl\\.am|vm\\.lc|w55\\.de|wapo\\.st|wapurl\\.co\\.uk|wipi\\.es|wp\\.me|x\\.vu|xr\\.com|xrl\\.in|xrl\\.us|xurl\\.es|xurl\\.jp|y\\.ahoo\\.it|yatuc\\.com|ye\\.pe|yep\\.it|yfrog\\.com|yhoo\\.it|yiyd\\.com|youtu\\.be|yuarel\\.com|z0p\\.de|zi\\.ma|zi\\.mu|zipmyurl\\.com|zud\\.me|zurl\\.ws|zz\\.gd|zzang\\.kr|r\\.ebay\\.com)/.*",
""),method:function(a,b){var c=p.urlEncode("http://"+a.matched(0));j.getJSON("http://api.longurl.org/v2/expand?url="+c+"&format=json&User-Agent=Reditn",function(a){a=z.field(a,"long-url");a=y.resolve(a);null!=a&&a.method(a.regex,b)})}}];y.HTML_FILTERS=[y.HTML_IMG,new h("<meta[^>]*/>","g"),new h("<(h1|header)[^>]*>.*</\\1>","g"),new h("<table([^>]*)>(.|\n|\n\r)*</table>","gm"),new h('<div class="(seperator|ga-ads)"[^>]*>(.|\n|\n\r)*</div>',"g"),new h("<([^>]*)( [^>]*)?></\\1>","g"),new h("<script[^>/]*/>",
"g"),new h("<script[^>/]*>\x3c/script>","g"),new h('style ?= ?"[^"]*"',"g")];y.HTML_CLEANERS=[{from:new h('<blockquote class="twitter-tweet">(.*)</blockquote>',"g"),to:"$1"},{from:new h("(!|\\.|,|\\?)(^ \n\t\r)","g"),to:"$1 $2"},{from:new h("(!|\\.|,|\\?)( *)","g"),to:"$1 "},{from:new h("(<br></br>|<br/>|<br />)(<br></br>|<br/>|<br />)","g"),to:"<br/>"}];x=new g.ds.StringMap;x.set("adblock","Block advertisements and sponsors");x.set("userinfo","Show information about a user upon hover");x.set("subinfo",
"Show information about a subreddit upon hover");x.set("expand","Allow expansion of images, articles, etc");x.set("text-expand","Allow expansion of images, articles etc found in comments and posts for easy viewing");x.set("dup-hider","Hide duplicate links");x.set("user-tag","Tag users");x.set("sub-tag","Tag subreddits");x.set("preview","Preview comments and posts");x.set("keys","Keyboard shortcuts");x.set("nsfw-filter","Hide NSFW content");k.DESC=x;x=new g.ds.StringMap;x.set("adblock",!0);x.set("userinfo",
!0);x.set("subinfo",!0);x.set("expand",!0);x.set("dup-hider",!0);x.set("text-expand",!0);x.set("user-tag",!0);x.set("sub-tag",!0);x.set("preview",!0);x.set("keys",!0);x.set("nsfw-filter",!1);x.set("user-tags",new g.ds.StringMap);x.set("sub-tags",new g.ds.StringMap);k.DEFAULTS=x;k.data=new g.ds.StringMap;g.Serializer.USE_CACHE=!1;g.Serializer.USE_ENUM_INDEX=!1;g.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.Unserializer.DEFAULT_RESOLVER=B;g.Unserializer.BASE64=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.ds.ObjectMap.count=0;j.main()})();
(function(){var r={},G=function(){return e.Boot.__string_rec(this,"")},I=function(){};r.Adblock=I;I.__name__=["Adblock"];I.init=function(){I.hideAll(e.Browser.document.body.getElementsByClassName("promoted"));I.hideAll(e.Browser.document.body.getElementsByClassName("infobar"));I.hideAll(e.Browser.document.body.getElementsByClassName("goldvertisement"));var a=e.Browser.document.getElementById("spotlight-help");null!=a&&j.show(a.parentNode.parentNode,!1);a=e.Browser.document.getElementById("ad-frame");
null!=a&&j.show(a,!1)};I.hideAll=function(a){for(var b=0,c=a.length;b<c;){var d=b++;j.show(a[d],!1)}};var P=function(){};r.DuplicateHider=P;P.__name__=["DuplicateHider"];P.init=function(){for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&(Q.has(a,d.href)?j.show(d.parentElement.parentElement.parentElement,!1):a.push(d.href))}};var h=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};r.EReg=h;h.__name__=["EReg"];h.prototype={replace:function(a,b){return a.replace(this.r,
b)},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:l.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;a=b}else{if(c=this.match(0>c?l.substr(a,b,null):l.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;a=c}return a},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,
this.r.s.length-a)},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return this.r.s.substr(0,this.r.m.index)},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:h};var v=function(){};r.Expand=v;v.__name__=["Expand"];v.init=function(){v.toggled="#showall"==e.Browser.window.location.hash;var a=e.Browser.document.getElementsByClassName("tabmenu")[0],
b=e.Browser.document.createElement("li");v.button=e.Browser.document.createElement("a");v.button.href="javascript:void(0);";v.refresh();v.button.onclick=function(){v.toggle(!v.toggled);e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,v.toggled?"#showall":"#")};b.appendChild(v.button);null!=a&&a.appendChild(b);a=0;for(b=j.links;a<b.length;){var c=b[a];++a;if("a"==c.nodeName.toLowerCase()){var d=c.parentElement.parentElement.parentElement.getElementsByClassName("entry")[0],c=y.createButton(c.href,
d);if(null==c)v.defaultButton(d);else{for(var f=0,q=d.getElementsByClassName("expando");f<q.length;){var X=q[f];++f;X.parentNode.removeChild(X)}d.appendChild(c);d.insertBefore(c,d.getElementsByClassName("tagline")[0])}}}};v.defaultButton=function(a){var b=!1,c=0;for(a=a.getElementsByClassName("expando-button");c<a.length;){var d=a[c];++c;b?d.parentNode.removeChild(d):(null!=d&&(b=v.adaptButton(d),b.toggle(v.toggled,!1),v.buttons.push(b)),b=!0)}};v.adaptButton=function(a){var b=e.Boot.__cast(a.parentElement.getElementsByTagName("a")[0],
HTMLAnchorElement).href;a.style.width=a.style.height="23px";return{toggled:function(){return-1!=a.className.indexOf("expanded")},toggle:function(b,d){var f=-1!=a.className.indexOf("expanded");if(b!=f)a.onclick(null);v.queue++;g.Timer.delay(function(){0<a.parentElement.getElementsByClassName("error").length?(a.onclick(null),a.onclick(null)):v.queue--},1E3*v.queue);d&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:b,element:a}};v.refresh=function(){if(null!=v.button){v.button.innerHTML=
""+(v.toggled?"hide":"show")+" all";for(var a=e.Browser.document.body.getElementsByClassName("nextprev"),b=0;b<a.length;){var c=a[b];++b;var d;d=void 0;d=[];for(var f=0,c=c.getElementsByTagName("a");f<c.length;){var q=c[f];++f;d.push(q)}for(f=0;f<d.length;)c=d[f],++f,"a"==c.nodeName.toLowerCase()&&(v.toggled&&-1==c.href.indexOf("#")?c.href+="#showall":!v.toggled&&-1!=c.href.indexOf("#")&&(c.href=l.substr(c.href,0,c.href.indexOf("#"))))}}};v.toggle=function(a){v.toggled=a;for(var b=0,c=v.buttons;b<
c.length;){var d=c[b];++b;d.toggle(a,!1)}v.refresh()};v.loadImage=function(a){var b=e.Browser.document.createElement("img");b.src=a;b.className="resize";v.initResize(b);var c=new g.Timer(30);c.run=function(){if(0<b.width&&0<b.height){c.stop();if(b.width>(0.7*e.Browser.window.innerWidth|0)){var a=b.height/b.width;b.width=0.7*e.Browser.window.innerWidth|0;b.height=b.width*a|0}b.height>(0.6*e.Browser.window.innerHeight|0)&&(a=b.width/b.height,b.height=0.6*e.Browser.window.innerHeight|0,b.width=b.height*
a|0)}};return b};v.initResize=function(a){var b=0,c=0,d=0,f=!1;a.addEventListener("mousedown",function(q){if(!q.altKey&&!q.ctrlKey&&!q.metaKey){f=!0;var e=a.getBoundingClientRect(),m=q.clientY-e.top;b=a.offsetWidth/(q.clientX-e.left);c=a.offsetHeight/m;d=a.offsetWidth/a.offsetHeight;q.preventDefault()}});a.addEventListener("mousemove",function(q){if(f){var e=a.getBoundingClientRect(),m=(q.clientX-e.left)*b,g=m/d,e=(q.clientY-e.top)*c,j=e*d;a.width=(g>e||m>j?m:j)|0;a.height=(g>e||m>j?g:e)|0;q.preventDefault()}});
a.addEventListener("dblclick",function(){a.width=a.naturalWidth;a.height=a.naturalHeight});a.addEventListener("mouseup",function(a){f=!1;a.preventDefault()});a.addEventListener("mouseout",function(a){f=!1;a.preventDefault()})};var l=function(){};r.HxOverrides=l;l.__name__=["HxOverrides"];l.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),f=a.getMinutes(),q=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>f?"0"+f:""+
f)+":"+(10>q?"0"+q:""+q)};l.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};l.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};l.substr=function(a,b,c){if(null!=b&&
0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};l.remove=function(a,b){for(var c=0,d=a.length;c<d;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};l.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var t=function(){};r.Keyboard=t;t.__name__=["Keyboard"];t.init=function(){e.Browser.document.onkeydown=function(a){t.keyDown(a.keyCode)}};t.unhighlight=
function(){if(null!=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).style.border=""};t.highlight=function(a){t.unhighlight();null!=t.current&&t.current+a<j.links.length&&(t.current+=a);if(null==t.current||null==(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))t.current=0;(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:
null).style.border="3px solid grey";(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).scrollIntoViewIfNeeded(!0)};t.show=function(a){null==a&&(a=!0);for(var b=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).getElementsByClassName("expando-button")[0],c=0,d=v.buttons;c<d.length;){var f=d[c];++c;if(f.element==b){f.toggle(a,!0);(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:
null).scrollIntoViewIfNeeded(!0);break}}};t.keyDown=function(a){for(t.keys.push(a);t.keys.length>t.konami.length;)l.remove(t.keys,t.keys[0]);for(var b=t.keys.length>=t.konami.length,c=0,d=t.keys.length;c<d;){var f=c++;if(t.keys[f]!=t.konami[f]){b=!1;break}}b&&D.run();switch(a){case 39:t.show(!0);break;case 37:t.show(!1);break;case 38:t.highlight(-1);break;case 40:t.highlight(1)}};var D=function(){};r.Konami=D;D.__name__=["Konami"];D.translate=function(a){for(var b=0;D.filter.matchSub(a,b);)b=D.filter.matchedPos(),
a=D.words[u.random(D.words.length)],console.log(a),b=b.pos+a.length,a=D.filter.matchedLeft()+a+D.filter.matchedRight();return a};D.run=function(){e.Browser.document.title="Dubbit - the back page of the wubbanet";for(var a=0,b=j.links;a<b.length;){var c=b[a];++a;c.innerHTML=D.translate(c.innerHTML)}a=0;for(b=e.Browser.document.body.getElementsByClassName("author");a<b.length;)c=b[a],++a,c.innerHTML="dubstep";a=0;for(b=e.Browser.document.body.getElementsByClassName("subreddit");a<b.length;)c=b[a],++a,
c.innerHTML="people with brains";a=0;for(b=e.Browser.document.body.getElementsByClassName("score");a<b.length;)c=b[a],++a,c.innerHTML="-&infin;";a=0;for(b=e.Browser.document.body.getElementsByTagName("p");a<b.length;)c=b[a],++a,"parent"!=c.className&&(c.innerHTML=D.translate(c.innerHTML))};var Q=function(){};r.Lambda=Q;Q.__name__=["Lambda"];Q.has=function(a,b){var c;if(a instanceof Array)c=function(){return l.iter(a)};else if("function"==typeof a.iterator){c=a.iterator;var d=function(){return d.method.apply(d.scope,
arguments)};d.scope=a;d.method=c;c=d}else c=a.iterator;for(c=c();c.hasNext();)if(c.next()==b)return!0;return!1};var j=function(){};r.Reditn=j;for(var x="undefined"!=typeof window?window:exports,E=["Reditn"],V=0;V<E.length-1;++V){var W=E[V];"undefined"==typeof x[W]&&(x[W]={});x=x[W]}x[E[E.length-1]]=j;j.__name__=["Reditn"];j.main=function(){switch(e.Browser.document.readyState){case "complete":j.init();break;default:e.Browser.window.onload=function(){j.init()}}};j.init=function(){if(-1!=e.Browser.window.location.href.indexOf("reddit.")){j.fullPage=
0<e.Browser.document.getElementsByClassName("tabmenu").length;j.links=e.Browser.document.body.getElementsByClassName("title");for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&"parent"!=d.parentElement.className&&a.push(d)}j.links=a;j.wrap(k.init);j.wrap(I.init,"adblock");j.wrap(P.init,"dup-hider");j.wrap(R.init,"nsfw-filter");S.init();j.wrap(v.init,"expand");j.wrap(T.init,"text-expand");j.wrap(t.init,"keys");j.wrap(J.init,"preview");j.wrap(K.init,"subinfo");j.wrap(L.init,
"userinfo");j.wrap(M.init,"user-tag");j.wrap(N.init,"sub-tag");e.Browser.window.history.replaceState(g.Serializer.run(j.state()),null,v.toggled?"#showall":null);e.Browser.window.onpopstate=function(a){a=a.state;if(null!=a){a=g.Unserializer.run(a);a.allExpanded!=v.toggled&&v.toggle(a.allExpanded);for(var b=0,c=v.buttons;b<c.length;){var d=c[b];++b;var e=a.expanded;e.exists(d.url)&&d.toggle(e.get(d.url),!1)}}}}};j.state=function(){for(var a=new g.ds.StringMap,b=0,c=v.buttons;b<c.length;){var d=c[b];
++b;d.toggled()!=v.toggled&&a.set(d.url,d.toggled())}return{allExpanded:v.toggled,expanded:a}};j.wrap=function(a,b){var c=null==b?null:k.data.get(b);(null==b||c)&&a()};j.formatNumber=function(a){if(Math.isFinite(a)){var b=u.string(Math.abs(a)),c;-1!=b.indexOf(".")?(c=l.substr(b,b.indexOf("."),null),b=l.substr(b,0,b.indexOf("."))):c="";if(3<=b.length){for(var d="",f=0,q=b.length;f<q;){var e=f++,d=d+b.charAt(e);0==(b.length-(e+1))%3&&e<b.length-1&&(d+=",")}b=d}a=(0>a?"-"+b:b)+c}else a=u.string(a);return a};
j.formatPrice=function(a){var b=j.formatNumber(a|0);a=u.string(a);for(a=-1==a.indexOf(".")?".":l.substr(a,a.indexOf("."),null);3>a.length;)a+="0";return""+b+a};j.show=function(a,b){a.style.display=b?"":"none";if(-1!=a.className.indexOf("link")&&!b){var c=a.getElementsByClassName("entry")[0];l.remove(j.links,c.getElementsByTagName("a")[0])}};j.age=function(a){if(86400>a)return"less than a day";a=g.Timer.stamp()-a;var b=a/86400%30.4375|0,c=a/2629800%12|0;a=a/2629800/12|0;var d="";0<a&&(d+=""+a+" year"+
(1>=a?"":"s"));0<c&&(d+=", "+c+" month"+(1>=c?"":"s"));d+=", "+b+" day"+(1>=b?"":"s");for(p.startsWith(d,", ")&&(d=l.substr(d,2,null));-1!=d.indexOf(", , ");)d=p.replace(d,", , ",", ");return d};j.embedAlbum=function(a){var b=e.Browser.document.createElement("span");b.style.textAlign="center";for(var c=[],d=0;d<a.length;){var f=a[d];++d;c.push(function(){var a=v.loadImage(f.url);a.title=(null!=f.caption?f.caption+" ":"")+(null!=f.author?"by "+f.author:"");b.appendChild(a);j.show(a,!1);return a}(this))}var q=
null,g=e.Browser.document.createElement("span");g.style.fontWeight="bold";g.style.marginLeft="10px";var m=0,h=null,F=null,l=null;1<a.length&&(h=e.Browser.document.createElement("button"),h.innerHTML="Prev",b.appendChild(h),F=e.Browser.document.createElement("span"),F.style.textAlign="center",F.style.paddingLeft=F.style.paddingRight="5px",b.appendChild(F),l=e.Browser.document.createElement("button"),l.innerHTML="Next",b.appendChild(l));if(1<a.length||null!=a[0].caption&&0<a[0].caption.length)b.appendChild(g),
b.appendChild(e.Browser.document.createElement("br"));var k=function(d){if(!(0>d||d>=a.length)){var f=a[d],e=null;null!=q&&(j.show(q,!1),e=u.parseInt(q.style.height));q=c[d];q.style.display="block";if(null!=e){var m=q.width/q.height;q.style.height=e+"px";q.style.width=(e*m|0)+"px"}b.appendChild(q);null!=h&&(e=j.formatNumber(a.length),m=j.formatNumber(d+1),F.innerHTML=""+m+" of "+e,h.disabled=0>=d,l.disabled=d>=a.length-1);j.show(g,null!=f.caption);null!=f.caption&&(g.innerHTML=p.htmlEscape(f.caption),
null!=f.author&&(g.innerHTML+=" <em>by "+f.author+"</em>"))}};k(0);null!=h&&(h.onmousedown=function(){k(--m)},l.onmousedown=function(){k(++m)});return b};j.getData=function(a){for(;null!=a.data;)a=a.data;for(;null!=a.response;)a=a.response;return a};j.getText=function(a,b,c,d,f){a=new g.Http(a);null!=c&&a.setHeader("Authorization",c);null!=d&&a.setHeader("Content-Type",d);a.onData=b;null!=f&&a.setPostData(f);a.request(null!=f)};j.embedMap=function(a){for(var b=e.Browser.document.createElement("dl"),
c=a.keys();c.hasNext();){var d=c.next();if(null!=a.get(d)&&0<a.get(d).length){var f=e.Browser.document.createElement("dt");f.innerHTML=d;b.appendChild(f);f=e.Browser.document.createElement("dd");f.innerHTML=a.get(d);b.appendChild(f)}}b.className="md reditn-table";return b};j.getJSON=function(a,b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){p.startsWith(a,"jsonFlickrApi(")&&p.endsWith(a,")")&&(a=a.substring(14,a.length-1));b(j.getData(g.Json.parse(a)))},c,d,f)};j.getXML=function(a,
b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){b(j.getData(n.parse(a)))},c,d,f)};j.popUp=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);e.Browser.document.body.appendChild(b);b.className="popup";b.style.position="absolute";b.style.width=(0.25*e.Browser.window.innerWidth|0)+"px";b.style.left=""+c+"px";b.style.top=""+(d-30)+"px";a.onmouseout=b.onblur=function(){b.parentElement.removeChild(b);a.mouseover=!1};return b};j.fullPopUp=function(a,b){null==b&&(b=0);var c=e.Browser.document.getElementsByClassName("popup")[0];
null!=c&&c.parentElement.removeChild(c);e.Browser.document.body.appendChild(a);c=e.Browser.document.createElement("a");c.style.position="absolute";c.style.right=c.style.top="5px";c.innerHTML="<b>Close</b>";c.href="javascript:void(0);";c.onclick=a.onblur=function(){a.parentElement.removeChild(a)};a.appendChild(c);a.className="popup";0!=b&&(a.style.top=""+(b-e.Browser.window.scrollY)+"px");return a};var p=function(){};r.StringTools=p;p.__name__=["StringTools"];p.urlEncode=function(a){return encodeURIComponent(a)};
p.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};p.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};p.startsWith=function(a,b){return a.length>=b.length&&l.substr(a,0,b.length)==b};p.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&l.substr(a,d-c,c)==b};p.isSpace=function(a,b){var c=l.cca(a,b);return 8<c&&14>c||32==c};p.ltrim=function(a){for(var b=
a.length,c=0;c<b&&p.isSpace(a,c);)c++;return 0<c?l.substr(a,c,b-c):a};p.rtrim=function(a){for(var b=a.length,c=0;c<b&&p.isSpace(a,b-c-1);)c++;return 0<c?l.substr(a,0,b-c):a};p.trim=function(a){return p.ltrim(p.rtrim(a))};p.replace=function(a,b,c){return a.split(b).join(c)};var g={Json:function(){}};r["haxe.Json"]=g.Json;g.Json.__name__=["haxe","Json"];g.Json.parse=function(a){return(new g.Json).doParse(a)};g.Json.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,d=!c,f=48==a,e=!1,g=
!1,m=!1,j=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:f&&!e&&this.invalidNumber(b);c&&(c=!1,f=!0);d=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f&&!e&&this.invalidNumber(b);c&&(c=!1);d=!0;f=!1;break;case 46:(c||e)&&this.invalidNumber(b);d=!1;e=!0;break;case 101:case 69:(c||f||g)&&this.invalidNumber(b);d=!1;g=!0;break;case 43:case 45:(!g||m)&&this.invalidNumber(b);d=!1;m=!0;break;default:d||this.invalidNumber(b),this.pos--,j=!0}if(j)break}a=u.parseFloat(l.substr(this.str,
b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+l.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new H;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\b";break;case 102:b.b+="\f";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);
break;case 117:a=u.parseInt("0x"+l.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;
case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),
a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=
this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:g.Json};g.Http=function(a){this.url=a;this.headers=new g.ds.StringMap;
this.params=new g.ds.StringMap;this.async=!0};r["haxe.Http"]=g.Http;g.Http.__name__=["haxe","Http"];g.Http.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=this;b.responseData=null;var c=e.Browser.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(b.responseData=c.responseText);else if(null==a)b.onError("Failed to connect or resolve host");
else switch(a){case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var f=this.postData;if(null!=f)a=!0;else for(var q=this.params.keys();q.hasNext();)var g=q.next(),f=null==f?"":f+"&",f=f+(p.urlEncode(g)+"="+p.urlEncode(this.params.get(g)));try{if(a)c.open("POST",this.url,this.async);else if(null!=f){var m=1>=this.url.split("?").length;c.open("GET",
this.url+(m?"?":"&")+f,this.async);f=null}else c.open("GET",this.url,this.async)}catch(j){this.onError(j.toString());return}null==this.headers.get("Content-Type")&&(a&&null==this.postData)&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)q=a.next(),c.setRequestHeader(q,this.headers.get(q));c.send(f);this.async||d(null)},setPostData:function(a){this.postData=a;return this},setHeader:function(a,b){this.headers.set(a,b);return this},__class__:g.Http};
x=function(){};r.IMap=x;x.__name__=["IMap"];g.ds={};g.ds.StringMap=function(){this.h={}};r["haxe.ds.StringMap"]=g.ds.StringMap;g.ds.StringMap.__name__=["haxe","ds","StringMap"];g.ds.StringMap.__interfaces__=[x];g.ds.StringMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return l.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:g.ds.StringMap};var u=
function(){};r.Std=u;u.__name__=["Std"];u.string=function(a){return e.Boot.__string_rec(a,"")};u.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==l.cca(a,1)||88==l.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};u.parseFloat=function(a){return parseFloat(a)};u.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var e={Boot:function(){}};r["js.Boot"]=e.Boot;e.Boot.__name__=["js","Boot"];e.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;
if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,f=a.length;d<f;)var q=d++,c=2!=q?c+(","+e.Boot.__string_rec(a[q],b)):c+e.Boot.__string_rec(a[q],b);return c+")"}d=a.length;c="[";b+="\t";for(f=0;f<d;)q=f++,c+=(0<q?",":"")+e.Boot.__string_rec(a[q],b);return c+"]"}try{f=a.toString}catch(g){return"???"}if(null!=f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;
f=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(f in a)if(!d||a.hasOwnProperty(f))"prototype"==f||("__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f)||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+e.Boot.__string_rec(a[f],b));b=b.substring(1);return c+="\n"+b+"}";case "function":return"<function>";case "string":return a;default:return String(a)}};e.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var q=
d++,q=c[q];if(q==b||e.Boot.__interfLoop(q,b))return!0}return e.Boot.__interfLoop(a.__super__,b)};e.Boot.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(e.Boot.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case Y:return Math.ceil(a%2147483648)===a;case Z:return"number"==typeof a;case U:return!0===a||!1===a;case String:return"string"==typeof a;case $:return!0;default:if(null==a)return!1;if(b==aa&&null!=a.__name__)return!0;null;if(b==
ba&&null!=a.__ename__)return!0;null;return a.__enum__==b}};e.Boot.__cast=function(a,b){if(e.Boot.__instanceof(a,b))return a;throw"Cannot cast "+u.string(a)+" to "+u.string(b);};var z=function(){};r.Reflect=z;z.__name__=["Reflect"];z.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};z.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};z.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&c.call(a,d)&&b.push(d)}return b};
z.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};z.deleteField=function(a,b){if(!z.hasField(a,b))return!1;delete a[b];return!0};var A,C;A=function(){};r["parser.MediaWiki"]=A;A.__name__=["parser","MediaWiki"];A.parse=function(a,b){for(var c=0,d=A.regex;c<d.length;){var f=d[c];++c;for(var e=0;f.from.match(a)&&64>e++;)a=f.from.replace(a,f.to),f.from.matchedPos()}a=p.replace(a,"$BASE",b);p.startsWith(a,"<br>")&&(a=l.substr(a,4,null));a.split("{{").length<a.split("}}").length&&
(a=l.substr(a,a.indexOf("}}")+2,null));return a};A.trimTo=function(a,b){b=p.trim(p.replace(b,"_"," "));for(var c={pos:0,len:0},d=null;A.sections.matchSub(a,c.pos+c.len);)if(c=A.sections.matchedPos(),p.trim(A.sections.matched(2))==p.trim(b)){d=A.sections.matched(1).length;break}null!=d&&(a=l.substr(a,c.pos+c.len,null),a=l.substr(a,0,a.indexOf("<h"+d+">")));return a};A.getAlbum=function(a){for(var b=[];A.IMAGES.match(a);){var c=A.IMAGES.matchedPos();a=l.substr(a,c.pos+c.len,null);c=A.IMAGES.matched(2)+
"."+A.IMAGES.matched(3);p.startsWith(c,"File:")&&(c=l.substr(c,5,null));b.push({url:c,caption:null,author:null})}return b};e.Browser=function(){};r["js.Browser"]=e.Browser;e.Browser.__name__=["js","Browser"];e.Browser.getLocalStorage=function(){try{var a=e.Browser.window.localStorage;a.getItem("");return a}catch(b){return null}};e.Browser.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");
throw"Unable to create XMLHttpRequest object.";};C=function(){};r["parser.Markdown"]=C;C.__name__=["parser","Markdown"];C.parse=function(a){for(;C.header.match(a);)C.header.matchedPos(),a=1+C.header.matched(1).length,6<a&&(a=6),a=C.header.matchedLeft()+("<h"+a+">"+C.header.matched(2)+"</h"+a+">")+C.header.matchedRight();for(var b=0,c=C.regex;b<c.length;){var d=c[b];for(++b;d.from.match(a);)a=d.from.replace(a,d.to)}return a};var n=function(){};r.Xml=n;n.__name__=["Xml"];n.parse=function(a){return g.xml.Parser.parse(a)};
n.createElement=function(a){var b=new n;b.nodeType=n.Element;b._children=[];b._attributes=new g.ds.StringMap;b.set_nodeName(a);return b};n.createPCData=function(a){var b=new n;b.nodeType=n.PCData;b.set_nodeValue(a);return b};n.createCData=function(a){var b=new n;b.nodeType=n.CData;b.set_nodeValue(a);return b};n.createComment=function(a){var b=new n;b.nodeType=n.Comment;b.set_nodeValue(a);return b};n.createDocType=function(a){var b=new n;b.nodeType=n.DocType;b.set_nodeValue(a);return b};n.createProcessingInstruction=
function(a){var b=new n;b.nodeType=n.ProcessingInstruction;b.set_nodeValue(a);return b};n.createDocument=function(){var a=new n;a.nodeType=n.Document;a._children=[];return a};n.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&l.remove(a._parent._children,a);a._parent=this;this._children.push(a)},exists:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=n.Element)throw"bad nodeType";
this._attributes.set(a,b)},set_nodeValue:function(a){if(this.nodeType==n.Element||this.nodeType==n.Document)throw"bad nodeType";return this._nodeValue=a},set_nodeName:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName},__class__:n};g.xml={};g.xml.Parser=function(){};r["haxe.xml.Parser"]=g.xml.Parser;g.xml.Parser.__name__=["haxe","xml","Parser"];g.xml.Parser.parse=function(a){var b=
n.createDocument();g.xml.Parser.doParse(a,0,b);return b};g.xml.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,f=1,e=1,j=null,m=0,h=0,F=0,s=a.charCodeAt(b),p=new H;s==s;){switch(f){case 0:switch(s){case 10:case 13:case 9:case 32:break;default:f=e;continue}break;case 1:switch(s){case 60:f=0;e=2;break;default:m=b;f=13;continue}break;case 13:60==s?(f=n.createPCData(p.b+l.substr(a,m,b-m)),p=new H,c.addChild(f),h++,f=0,e=2):38==s&&(p.addSub(a,m,b-m),f=18,e=13,m=b+1);break;case 17:93==s&&(93==
a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(f=n.createCData(l.substr(a,m,b-m)),c.addChild(f),h++,b+=2,f=1);break;case 2:switch(s){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=l.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;f=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=l.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;f=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;f=15}m=b+1;break;case 63:f=14;m=b;break;
case 47:if(null==c)throw"Expected node name";m=b+1;f=0;e=10;break;default:f=3;m=b;continue}break;case 3:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(b==m)throw"Expected node name";d=n.createElement(l.substr(a,m,b-m));c.addChild(d);f=0;e=4;continue}break;case 4:switch(s){case 47:f=11;h++;break;case 62:f=9;h++;break;default:f=5;m=b;continue}break;case 5:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected attribute name";
j=l.substr(a,m,b-m);if(d.exists(j))throw"Duplicate attribute";f=0;e=6;continue}break;case 6:switch(s){case 61:f=0;e=7;break;default:throw"Expected =";}break;case 7:switch(s){case 34:case 39:f=8;m=b;break;default:throw'Expected "';}break;case 8:s==a.charCodeAt(m)&&(e=l.substr(a,m+1,b-m-1),d.set(j,e),f=0,e=4);break;case 9:m=b=g.xml.Parser.doParse(a,b,d);f=1;break;case 11:switch(s){case 62:f=1;break;default:throw"Expected >";}break;case 12:switch(s){case 62:return 0==h&&c.addChild(n.createPCData("")),
b;default:throw"Expected >";}case 10:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected node name";if(l.substr(a,m,b-m)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";f=0;e=12;continue}break;case 15:45==s&&(45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(c.addChild(n.createComment(l.substr(a,m,b-m))),b+=2,f=1);break;case 16:91==s?F++:93==s?F--:62==s&&0==F&&(c.addChild(n.createDocType(l.substr(a,m,b-m))),f=1);break;case 14:63==s&&62==a.charCodeAt(b+
1)&&(b++,f=l.substr(a,m+1,b-m-2),c.addChild(n.createProcessingInstruction(f)),f=1);break;case 18:59==s&&(m=l.substr(a,m,b-m),35==m.charCodeAt(0)?(m=120==m.charCodeAt(1)?u.parseInt("0"+l.substr(m,1,m.length-1)):u.parseInt(l.substr(m,1,m.length-1)),p.b+=u.string(String.fromCharCode(m))):p.b=g.xml.Parser.escapes.exists(m)?p.b+u.string(g.xml.Parser.escapes.get(m)):p.b+u.string("&"+m+";"),m=b+1,f=e)}s=a.charCodeAt(++b)}1==f&&(m=b,f=13);if(13==f)return(b!=m||0==h)&&c.addChild(n.createPCData(p.b+l.substr(a,
m,b-m))),b;throw"Unexpected end";};var H=function(){this.b=""};r.StringBuf=H;H.__name__=["StringBuf"];H.prototype={addSub:function(a,b,c){this.b+=null==c?l.substr(a,b,null):l.substr(a,b,c)},__class__:H};var y=function(){};r.Link=y;y.__name__=["Link"];y.resolve=function(a){a=y.trimURL(a);for(var b=0,c=y.sites;b<c.length;){var d=c[b];++b;try{if(d.regex.match(a)&&d.regex.matchedPos().len==a.length)return d}catch(f){console.log("Error "+u.string(f)+" whilst processing regex "+u.string(d.regex))}}return null};
y.trimURL=function(a){p.startsWith(a,"http://")?a=l.substr(a,7,null):p.startsWith(a,"https://")&&(a=l.substr(a,8,null));p.startsWith(a,"www.")?a=l.substr(a,4,null):p.startsWith(a,"m.")&&(a=l.substr(a,2,null));-1!=a.indexOf("&")&&(a=l.substr(a,0,a.indexOf("&")));-1!=a.indexOf("?")&&!p.startsWith(a,"facebook.com/")&&(a=l.substr(a,0,a.indexOf("?")));-1!=a.indexOf("#")&&-1==a.indexOf("/wiki/")&&(a=l.substr(a,0,a.indexOf("#")));p.endsWith(a,"/")&&(a=l.substr(a,0,a.length-1));return a};y.filterHTML=function(a){for(var b=
0,c=y.HTML_FILTERS;b<c.length;){var d=c[b];for(++b;d.match(a);)a=d.replace(a,"")}b=0;for(c=y.HTML_CLEANERS;b<c.length;)d=c[b],++b,a=d.from.replace(a,d.to);if(p.startsWith(a,"<br>")||p.startsWith(a,"<br />"))a=l.substr(a,a.indexOf(">")+1,null);p.endsWith(a,"<br>")&&(a=l.substr(a,0,a.length-4));return a};y.createButton=function(a,b,c){var d=y.resolve(a),f=null;if(null!=d){var q=e.Browser.document.createElement("div"),h="expando-button ",m=v.toggled,l=m?"expanded":"collapsed";q.className=""+h+" "+l;
f={toggled:function(){return m},toggle:function(a,b){m=a;q.className=h+(l=m?"expanded":"collapsed");for(var c=q.parentElement.getElementsByClassName("expando"),d=0;d<c.length;){var f=c[d];++d;j.show(f,a)}b&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:a,element:q};q.onclick=function(){f.toggle(!m,!0)};d.method(d.regex,function(d){var s="selftext",k;if(z.hasField(d,"urls")){var r=[];for(k=d.urls.keys();k.hasNext();){var n=k.next();r.push('<li><a href="'+d.urls.get(n)+
'">'+n+"</a></li>")}k=e.Browser.document.createElement("div");k.className="usertext";n=e.Browser.document.createElement("div");n.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Name",d.name);a.set("Description",d.description);a.set("Links",r.join(""));return a}(this)));0<d.album.length&&(n.appendChild(e.Browser.document.createElement("br")),n.appendChild(j.embedAlbum(d.album)));k.appendChild(n)}else if(z.hasField(d,"price"))k=e.Browser.document.createElement("div"),k.className="usertext",
s=e.Browser.document.createElement("div"),s.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Category",p.htmlEscape(d.category));a.set("Location",p.htmlEscape(d.location));a.set("Price",p.htmlEscape(d.price));a.set("Description",d.description);return a}(this))),s.appendChild(j.embedAlbum(d.images)),k.appendChild(s),s="item";else if(z.hasField(d,"subscribers"))k=e.Browser.document.createElement("div"),k.className="usertext",k.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;
a.set("Age",j.age(d.created_utc));a.set("Subscribers",j.formatNumber(d.subscribers));a.set("Active users",j.formatNumber(d.accounts_active));a.set("Description",C.parse(d.description));return a}(this)));else if(z.hasField(d,"content")){k=e.Browser.document.createElement("div");k.className="usertext";var n=e.Browser.document.createElement("div"),t=e.Browser.document.createElement("span");t.innerHTML=d.content;n.appendChild(t);null!=d.images&&0<d.images.length&&(n.appendChild(e.Browser.document.createElement("br")),
n.appendChild(j.embedAlbum(d.images)));n.className="md";k.appendChild(n)}else e.Boot.__instanceof(d,Array)&&z.hasField(d[0],"url")?(k=j.embedAlbum(d),s="image"):z.hasField(d,"developers")?(console.log(a),k=e.Browser.document.createElement("div"),k.className="usertext",n=e.Browser.document.createElement("div"),t=e.Browser.document.createElement("span"),t.innerHTML=""+u.string(d.description)+'<br><a href="'+u.string(d.url)+'"><b>Clone repo</b></a><br>',null!=d.album&&0<d.album.length&&t.appendChild(j.embedAlbum(d.album)),
n.appendChild(t),n.className="md",k.appendChild(n)):k=null;null!=k&&(n=e.Browser.document.createElement("div"),n.className="expando",n.appendChild(k),h+=""+s+" ",q.className=""+h+" "+l,v.buttons.push(f),j.show(n,m),null==c?b.appendChild(n):b.insertBefore(n,c.nextSibling),b.insertBefore(q,n))})}return null!=f?f.element:null};var O=function(){this.length=0};r.List=O;O.__name__=["List"];O.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==
this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:O};var R=function(){};r.NSFWFilter=R;R.__name__=["NSFWFilter"];R.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("nsfw-stamp"),b=0;b<a.length;){var c=a[b];++b;"li"==c.nodeName.toLowerCase()&&j.show(c.parentNode.parentNode.parentNode,!1)}};var J=function(){};r.Preview=J;J.__name__=["Preview"];J.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-edit"),
b=0;b<a.length;){var c=a[b];++b;J.preview(c)}};J.preview=function(a){var b=a.getElementsByTagName("textarea")[0];if(null!=b){var c=e.Browser.document.createElement("div");a.appendChild(c);c.className="md";var d=null;b.onfocus=function(){d=new g.Timer(100);d.run=function(){c.innerHTML=C.parse(b.value)}};b.onblur=function(){d.stop();d=null}}};var k=function(){};r.Settings=k;k.__name__=["Settings"];k.optimisedData=function(){for(var a=new g.ds.StringMap,b=k.data.keys();b.hasNext();){var c=b.next(),d=
k.data.get(c);k.DEFAULTS.get(c)!=d&&a.set(c,d)}return g.Serializer.run(a)};k.save=function(){g.Serializer.USE_CACHE=!1;e.Browser.getLocalStorage().setItem("reditn",k.optimisedData())};k.init=function(){var a=e.Browser.getLocalStorage().getItem("reditn");if(null!=a){var b;try{b=g.Unserializer.run(a)}catch(c){b=k.data}k.data=b}k.fixMissing();a=e.Browser.document.getElementById("header-bottom-right");b=a.getElementsByTagName("ul")[0];var d=e.Browser.document.createElement("a");d.innerHTML="reditn";d.className=
"pref-lang";d.href="javascript:void(0);";d.onclick=function(){k.settingsPopUp()};null==b?a.appendChild(d):a.insertBefore(d,b);d=e.Browser.document.createElement("span");d.innerHTML=" | ";d.className="seperator";d.style.fontWeight="none";a.insertBefore(d,b)};k.settingsPopUp=function(){var a=e.Browser.document.getElementById("reditn-config");null!=a&&a.parentElement.removeChild(a);var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("h1");b.innerHTML="Reditn settings";a.appendChild(b);
j.fullPopUp(a);var c=e.Browser.document.createElement("form");c.id="reditn-config";c.action="javascript:void(0);";c.onchange=function(){for(var a=c.childNodes,b=0;b<a.length;){var d=a[b];++b;if("button"!=d.type&&"input"==d.nodeName.toLowerCase()){var f=void 0;switch(d.type.toLowerCase()){case "checkbox":f=d.checked;break;default:f=d.value}k.data.set(d.name,f)}}k.save()};b=e.Browser.document.createElement("input");b.type="button";b.value="Restore default settings";b.onclick=function(){k.fixMissing(!0);
k.save();k.settingsPopUp()};c.appendChild(b);b=k.makeButton("Export settings to text",function(){e.Browser.window.alert(e.Browser.window.btoa(k.optimisedData()))});c.appendChild(b);b=k.makeButton("Import settings",function(){k.data=g.Unserializer.run(e.Browser.window.atob(e.Browser.window.prompt("Settings to import",e.Browser.window.btoa(k.optimisedData()))));k.fixMissing();k.save();k.settingsPopUp()});c.appendChild(b);c.appendChild(e.Browser.document.createElement("br"));for(b=k.data.keys();b.hasNext();){var d=
b.next(),f=k.data.get(d);if(!e.Boot.__instanceof(f,g.ds.StringMap)&&k.DESC.exists(d)){var q=k.DESC.get(d),h=e.Browser.document.createElement("label");h.setAttribute("for",d);h.style.position="absolute";h.style.width="46%";h.style.textAlign="right";h.innerHTML=""+q+" ";c.appendChild(h);q=e.Browser.document.createElement("input");q.style.position="absolute";q.style.left="54%";q.style.textAlign="left";q.style.width="46%";q.name=d;c.appendChild(q);c.appendChild(e.Browser.document.createElement("br"));
q.type=e.Boot.__instanceof(f,U)?"checkbox":e.Boot.__instanceof(f,String)?"text":e.Boot.__instanceof(f,Date)?"datetime":e.Boot.__instanceof(f,Y)?"number":null;e.Boot.__instanceof(f,U)?q.checked=k.data.get(d):q.value=k.data.get(d)}}b=e.Browser.document.createElement("div");b.style.fontWeight="bold";b.innerHTML="Close this dialog and refresh the page to see your changes in effect. Changes will be saved automatically.";c.appendChild(b);a.appendChild(c)};k.makeButton=function(a,b){var c=e.Browser.document.createElement("input");
c.type="button";c.value=a;c.onclick=b;return c};k.fixMissing=function(a){null==a&&(a=!1);for(var b=k.DEFAULTS.keys();b.hasNext();){var c=b.next();if(a||!k.data.exists(c))k.data.set(c,e.Boot.__instanceof(k.DEFAULTS.get(c),g.ds.StringMap)?new g.ds.StringMap:k.DEFAULTS.get(c))}};var S=function(){};r.Style=S;S.__name__=["Style"];S.init=function(){var a=e.Browser.document.createElement("style");a.innerHTML='.expando-button.image.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.collapsed {\n\tpadding: 0px;\n}\np .expando-button {\n\tdisplay: inline-block;\n\tfloat: none;\n\tmargin: 0px;\n\tpadding: 0px;\n}\ndl.reditn-table  {\n\tfloat: left;\n\twidth: 100%;\n\tpadding: 0;\n}\n.reditn-table dt {\n\tclear: left;\n\tfloat: left;\n\twidth: 16%;\n\tfont-weight: bold;\n\ttext-align: right;\n}\n.reditn-table dd {\n\tfloat: left;\n\ttext-align: left;\n}';
e.Browser.document.head.appendChild(a)};var K=function(){};r.SubredditInfo=K;K.__name__=["SubredditInfo"];K.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=K._onMouseOverSubreddit}};K._onMouseOverSubreddit=function(a){a=a.target;var b=a.innerHTML,c=e.Browser.document.createElement("div");j.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/r/"+b+"/about.json",function(a){var f=j.formatNumber(a.subscribers),
e=j.formatNumber(a.accounts_active),g=C.parse(a.public_description);a=j.age(a.created_utc);var m="<b>Name:</b> "+b+" <br>",h=k.data.get("sub-tags");h.exists(b)&&(m+="<b>Tag:</b> "+h.get(b)+"<br>");m=m+("<b>Subscribers:</b> "+f+" <br>")+("<b>Active Users:</b> "+e+" <br>");m+="<b>Description:</b> "+g+" <br>";m+="<b>Age:</b> "+a+" <br>";c.innerHTML=m})};var N=function(){};r.SubredditTagger=N;N.__name__=["SubredditTagger"];N.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),
b=0;b<a.length;){var c=a[b];++b;N.getTag(c)}};N.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("sub-tags").exists(c)?k.data.get("sub-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),
b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("sub-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};var T=function(){};r.TextExpand=
T;T.__name__=["TextExpand"];T.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-body"),b=0;b<a.length;){var c=a[b];++b;for(var c=e.Boot.__cast(c,Element).getElementsByClassName("md")[0].getElementsByTagName("a"),d=0;d<c.length;){var f=c[d];++d;y.createButton(f.href,f.parentElement,f)}}};var w=r.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};w.TNull=["TNull",0];w.TNull.toString=G;w.TNull.__enum__=
w;w.TInt=["TInt",1];w.TInt.toString=G;w.TInt.__enum__=w;w.TFloat=["TFloat",2];w.TFloat.toString=G;w.TFloat.__enum__=w;w.TBool=["TBool",3];w.TBool.toString=G;w.TBool.__enum__=w;w.TObject=["TObject",4];w.TObject.toString=G;w.TObject.__enum__=w;w.TFunction=["TFunction",5];w.TFunction.toString=G;w.TFunction.__enum__=w;w.TClass=function(a){a=["TClass",6,a];a.__enum__=w;a.toString=G;return a};w.TEnum=function(a){a=["TEnum",7,a];a.__enum__=w;a.toString=G;return a};w.TUnknown=["TUnknown",8];w.TUnknown.toString=
G;w.TUnknown.__enum__=w;var B=function(){};r.Type=B;B.__name__=["Type"];B.getClassName=function(a){return a.__name__.join(".")};B.getEnumName=function(a){return a.__ename__.join(".")};B.resolveClass=function(a){a=r[a];return null==a||!a.__name__?null:a};B.resolveEnum=function(a){a=r[a];return null==a||!a.__ename__?null:a};B.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};B.createEnum=function(a,b,c){var d=z.field(a,b);if(null==d)throw"No such constructor "+b;if(z.isFunction(d)){if(null==
c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};B.getEnumConstructs=function(a){return a.__constructs__.slice()};B["typeof"]=function(a){switch(typeof a){case "boolean":return w.TBool;case "string":return w.TClass(String);case "number":return Math.ceil(a)==a%2147483648?w.TInt:w.TFloat;case "object":if(null==a)return w.TNull;var b=a.__enum__;if(null!=b)return w.TEnum(b);a=a.__class__;return null!=a?w.TClass(a):
w.TObject;case "function":return a.__name__||a.__ename__?w.TObject:w.TFunction;case "undefined":return w.TNull;default:return w.TUnknown}};var L=function(){};r.UserInfo=L;L.__name__=["UserInfo"];L.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=L._onMouseOverUser}};L._onMouseOverUser=function(a){a=a.target;var b=a.innerHTML,b=l.substr(b,b.lastIndexOf("/")+1,null),c=e.Browser.document.createElement("div");j.popUp(a,c,
a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/user/"+b+"/about.json",function(a){var b=a.name,e=j.age(a.created_utc),g=j.formatNumber(a.link_karma),h=j.formatNumber(a.comment_karma),l="<b>User:</b> "+b+"<br>",p=k.data.get("user-tags");p.exists(b)&&(l+="<b>Tag:</b> "+p.get(b)+"<br>");l=l+("<b>Account age:</b> "+e+"<br>")+("<b>Karma:</b> "+g+" link karma, "+h+" comment karma");a.is_mod&&(l+="<br><b>Moderator</b>");a.is_gold&&(l+="<br><b>Gold</b>");c.innerHTML=l})};var M=function(){};r.UserTagger=
M;M.__name__=["UserTagger"];M.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;M.getTag(c)}};M.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("user-tags").exists(c)?k.data.get("user-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";
g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("user-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+
g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};r.XmlType={__ename__:["XmlType"],__constructs__:[]};g.Serializer=function(){this.buf=new H;this.cache=[];this.useCache=g.Serializer.USE_CACHE;this.useEnumIndex=g.Serializer.USE_ENUM_INDEX;this.shash=new g.ds.StringMap;this.scount=0};r["haxe.Serializer"]=g.Serializer;g.Serializer.__name__=["haxe","Serializer"];g.Serializer.run=function(a){var b=new g.Serializer;b.serialize(a);return b.toString()};g.Serializer.prototype={serialize:function(a){var b=
B["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=u.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=u.string(a)):this.buf.b+=u.string(0>a?"m":"p");break;case 3:this.buf.b+=u.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var d=a.length,f=0;f<d;)b=f++,
null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=u.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=u.string(c)));this.buf.b+="h";break;case O:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=u.string(l.dateStr(a));break;case g.ds.StringMap:this.buf.b+="b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));
this.buf.b+="h";break;case g.ds.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=u.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case g.ds.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=c.next(),d=z.field(b,"__id__"),z.deleteField(b,"__id__"),this.serialize(b),b.__id__=d,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case g.io.Bytes:b=0;c=a.length-2;d=new H;for(f=g.Serializer.BASE64;b<c;){var e=a.b[b++],h=a.b[b++],j=a.b[b++];d.b+=u.string(f.charAt(e>>
2));d.b+=u.string(f.charAt((e<<4|h>>4)&63));d.b+=u.string(f.charAt((h<<2|j>>6)&63));d.b+=u.string(f.charAt(j&63))}b==c?(e=a.b[b++],h=a.b[b++],d.b+=u.string(f.charAt(e>>2)),d.b+=u.string(f.charAt((e<<4|h>>4)&63)),d.b+=u.string(f.charAt(h<<2&63))):b==c+1&&(e=a.b[b++],d.b+=u.string(f.charAt(e>>2)),d.b+=u.string(f.charAt(e<<4&63)));b=d.b;this.buf.b+="s";this.buf.b+=u.string(b.length);this.buf.b+=":";this.buf.b+=u.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(B.getClassName(b)),
this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(B.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=u.string(this.useEnumIndex?"j":"w");this.serializeString(B.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=u.string(a[1])):this.serializeString(a[0]);
this.buf.b+=":";d=a.length;this.buf.b+=u.string(d-2);for(f=2;f<d;)b=f++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+u.string(a);}},serializeFields:function(a){for(var b=0,c=z.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(z.field(a,d))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var f=c++,e=this.cache[f];if(typeof e==b&&e==a)return this.buf.b+="r",
this.buf.b+=u.string(f),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=u.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=p.urlEncode(a),this.buf.b+=u.string(a.length),this.buf.b+=":",this.buf.b+=u.string(a))},toString:function(){return this.buf.b},__class__:g.Serializer};g.Timer=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};r["haxe.Timer"]=g.Timer;g.Timer.__name__=["haxe","Timer"];g.Timer.delay=
function(a,b){var c=new g.Timer(b);c.run=function(){c.stop();a()};return c};g.Timer.stamp=function(){return(new Date).getTime()/1E3};g.Timer.prototype={run:function(){console.log("run")},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:g.Timer};g.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=g.Unserializer.DEFAULT_RESOLVER;null==a&&(a=B,g.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};r["haxe.Unserializer"]=
g.Unserializer;g.Unserializer.__name__=["haxe","Unserializer"];g.Unserializer.initCodes=function(){for(var a=[],b=0,c=g.Unserializer.BASE64.length;b<c;){var d=b++;a[g.Unserializer.BASE64.charCodeAt(d)]=d}return a};g.Unserializer.run=function(a){return(new g.Unserializer(a)).unserialize()};g.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return u.parseFloat(l.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=l.substr(this.buf,this.pos,b);this.pos+=b;a=p.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=
this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();
a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=B.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+
b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new O;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new g.ds.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new g.ds.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);
if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new g.ds.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=l.strDate(l.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";d=g.Unserializer.CODES;null==d&&(d=g.Unserializer.initCodes(),g.Unserializer.CODES=
d);for(var a=this.pos,f=b&3,e=a+(b-f),h=g.io.Bytes.alloc(3*(b>>2)+(2<=f?f-1:0)),j=0;a<e;){var k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)];h.b[j++]=(k<<2|n>>4)&255;k=d[c.charCodeAt(a++)];h.b[j++]=(n<<4|k>>2)&255;n=d[c.charCodeAt(a++)];h.b[j++]=(k<<6|n)&255}2<=f&&(k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)],h.b[j++]=(k<<2|n>>4)&255,3==f&&(k=d[c.charCodeAt(a++)],h.b[j++]=(n<<4|k>>2)&255));this.pos+=b;this.cache.push(h);return h;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==
a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return B.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return B.createEnum(a,b,d)},unserializeObject:function(a){for(;;){if(this.pos>=
this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!e.Boot.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},
resolveEnum:function(){return null}}:a},__class__:g.Unserializer};g.ds.IntMap=function(){this.h={}};r["haxe.ds.IntMap"]=g.ds.IntMap;g.ds.IntMap.__name__=["haxe","ds","IntMap"];g.ds.IntMap.__interfaces__=[x];g.ds.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return l.iter(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:g.ds.IntMap};g.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};r["haxe.ds.ObjectMap"]=g.ds.ObjectMap;
g.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];g.ds.ObjectMap.__interfaces__=[x];g.ds.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return l.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=++g.ds.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:g.ds.ObjectMap};g.io={};g.io.Bytes=function(a,b){this.length=a;this.b=b};r["haxe.io.Bytes"]=g.io.Bytes;g.io.Bytes.__name__=["haxe","io","Bytes"];
g.io.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new g.io.Bytes(a,b)};g.io.Bytes.prototype={__class__:g.io.Bytes};Array.prototype.indexOf?l.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0}:null;"undefined"!=typeof JSON&&(g.Json=JSON);String.prototype.__class__=r.String=String;String.__name__=["String"];Array.prototype.__class__=r.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=r.Date=Date;Date.__name__=["Date"];var Y=r.Int={__name__:["Int"]},
$=r.Dynamic={__name__:["Dynamic"]},Z=r.Float=Number;Z.__name__=["Float"];var U=r.Bool=Boolean;U.__ename__=["Bool"];var aa=r.Class={__name__:["Class"]},ba={};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;r.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};n.Element="element";n.PCData="pcdata";n.CData="cdata";n.Comment="comment";n.DocType="doctype";n.ProcessingInstruction=
"processingInstruction";n.Document="document";v.buttons=[];v.queue=0;t.keys=[];t.konami=[38,38,40,40,37,39,37,39,66,65];D.words=["wubba","mcwubber","dubba","dadubber"];D.filter=new h("[a-zA-Z]*","");j.fullPage=!0;A.regex=[{from:new h("\\[\\[Category:([^\\]]*)\\]\\]",""),to:""},{from:new h("\\[\\[([^\\]\n]*)\\|([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$2</a>'},{from:new h("\\[\\[([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$1</a>'},{from:new h("<gallery>(.|\n|\n\r)*</gallery>",
""),to:""},{from:new h("\\[\\[File:([^\\]]*)\\]\\]",""),to:""},{from:new h("(=*) ?(References|Gallery) ?\\1.*\\1?",""),to:""},{from:new h("{{spaced ndash}}",""),to:" - "},{from:new h("\\{\\{convert\\|([0-9]*)\\|([^\\|]*)([^\\}]*)\\}\\}",""),to:"$1 $2"},{from:new h("\\{\\{([^\\}]*)\\}\\}",""),to:""},{from:new h("\\{\\|(.|\n|\n\r)*\\|\\}",""),to:""},{from:new h("\\[([^ \\[\\]]*) ([^\\[\\]]*)\\]",""),to:""},{from:new h("'''([^']*)'''",""),to:"<b>$1</b>"},{from:new h("''([^']*)''",""),to:"<em>$1</em>"},
{from:new h("======([^=]*)======",""),to:"<h6>$1</h6>"},{from:new h("=====([^=]*)=====",""),to:"<h5>$1</h5>"},{from:new h("====([^=]*)====",""),to:"<h4>$1</h4>"},{from:new h("===([^=]*)===",""),to:"<h3>$1</h3>"},{from:new h("==([^=]*)==",""),to:"<h2>$1</h2>"},{from:new h("\n\\* ?([^\n]*)",""),to:"<li>$1</li>"},{from:new h("<ref>[^<>]*</ref>",""),to:""},{from:new h("\n\r?\n\r?",""),to:"<br>"},{from:new h("\n",""),to:""},{from:new h("<br><br>",""),to:"<br>"},{from:new h("\x3c!--Interwiki links--\x3e.*",
""),to:""},{from:new h("\\[\\]",""),to:""}];A.sections=new h("'=(=*)([^=]*)=\\\\1\n\r?(.|\n|\n\r)*(\\\\1)?'","");A.IMAGES=new h("(File:|img=|Image:)([^\\.\\|\\]\\}\\{\\[<>=]*)\\.(gif|jpg|jpeg|bmp|png|webp|svg|raw)(\\|([^\\)]*))?","");e.Browser.window="undefined"!=typeof window?window:null;e.Browser.document="undefined"!=typeof window?window.document:null;C.images=new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)","");C.regex=[{from:new h("(\\*\\*|__)([^\\1\n]*?)\\1",""),to:"<b>$2</b>"},{from:new h("(\\*|_)([^\\1\n]*?)\\1",
""),to:"<em>$2</em>"},{from:new h("^[\\*|+|-] (.*)$","m"),to:"<ul><li>$1</li></ul>"},{from:new h("</ul><ul>",""),to:""},{from:new h("\n> ([^\n\r]*)",""),to:"<blockquote>$1</blockquote>"},{from:new h("</blockquote>\n?\r?<blockquote>$",""),to:""},{from:new h("~~([^~]*?)~~",""),to:"<del>$1</del>"},{from:new h("\\^([^\\^]+)",""),to:"<sup>$1</sup>"},{from:new h(':"([^:"]*?)":',""),to:"<q>$1</q>"},{from:C.images,to:""},{from:new h("\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",""),to:'<a href="$2">$1</a>'},{from:new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",
""),to:""},{from:new h("(.*)\n\r?(==+)\n",""),to:"<h2>$1</h2>"},{from:new h("(.*)\n\r?((-|#)+)\n",""),to:"<h3>$1</h3>"},{from:new h("(```*)([^`]+)\\1","m"),to:"<code>$2</code>"},{from:new h("<pre>(.*)\n\n(.*)</pre>",""),to:"<pre>$1\n$2</pre>"},{from:new h("\n\n+",""),to:"<br>\n"}];C.header=new h("^([#|=]+)([^#=]+)\\1?$","m");x=g.xml.Parser;E=new g.ds.StringMap;E.set("lt","<");E.set("gt",">");E.set("amp","&");E.set("quot",'"');E.set("apos","'");E.set("nbsp",String.fromCharCode(160));x.escapes=E;y.HTML_IMG=
new h('<img .*?src="([^"]*)"/?>',"");y.sites=[{regex:new h(".*\\.(jpeg|gif|jpg|bmp|png|webp)","i"),method:function(a,b){b([{url:"http://"+a.matched(0),caption:null,author:null}])}},{regex:new h("i?\\.?imgur.com/(a|gallery)/([^/]*)",""),method:function(a,b){var c=a.matched(2),d;switch(a.matched(1).toLowerCase()){case "a":d="album";break;case "gallery":d="gallery/album";break;default:d="album"}j.getJSON("https://api.imgur.com/3/"+d+"/"+c,function(a){var c=[];if(0>=a.images_count)c.push({url:"http://i.imgur.com/"+
a.id+".jpg",caption:a.title,author:a.account_url});else for(var d=0,e=a.images;d<e.length;){var g=e[d];++d;c.push({url:"http://i.imgur.com/"+g.id+".jpg",caption:g.title,author:a.account_url})}b(c)},"Client-ID cc1f254578d6c52")}},{regex:new h("imgur\\.com/(r/[^/]*/)?([a-zA-Z0-9,]*)",""),method:function(a,b){for(var c=(null==a.matched(1)||-1!=a.matched(1).indexOf("/")?a.matched(2):a.matched(1)).split(","),d=[],f=0;f<c.length;){var e=c[f];++f;d.push({url:"http://i.imgur.com/"+e+".jpg",caption:null,author:null})}b(d)}},
{regex:new h("(qkme\\.me|quickmeme\\.com/meme|m\\.quickmeme.com/meme)/([^/]*)",""),method:function(a,b){b([{url:"http://i.qkme.me/"+a.matched(2)+".jpg",caption:null,author:null}])}},{regex:new h("memecrunch.com/meme/([^/]*)/([^/]*)",""),method:function(a,b){b([{url:"http://"+a.matched(0)+"/image.png",caption:null,author:null}])}},{regex:new h("memegenerator\\.net/instance/([^/]*)",""),method:function(a,b){b([{url:"http://cdn.memegenerator.net/instances/400x/"+a.matched(1)+".jpg",caption:null,author:null}])}},
{regex:new h("imgflip\\.com/i/([^/]*)",""),method:function(a,b){b([{url:"http://i.imgflip.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("what-if.xkcd.com/([0-9]*)",""),method:function(){}},{regex:new h("xkcd.com/([0-9]*)",""),method:function(a,b){j.getJSON("http://www.xkcd.com/"+a.matched(1)+"/info.0.json",function(a){b([{url:a.img,caption:a.title,author:null}])})}},{regex:new h("explosm.net/comics/([0-9]*)",""),method:function(a,b){j.getText("http://www."+a.matched(0),function(c){var d=
new h('"http://www\\.explosm\\.net/db/files/Comics/([^"]*)"',"");if(d.match(c))b([{url:d.matched(0).substring(1,d.matched(0).length-1),caption:null,author:null}]);else throw""+u.string(d)+" not matched by "+a.matched(0)+" in "+c;},null,null,null)}},{regex:new h("livememe.com/([^/]*)",""),method:function(a,b){b([{url:"http://livememe.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("(([^\\.]*\\.)?deviantart\\.com/art|fav\\.me)/.*",""),method:function(a,b){j.getJSON("http://backend.deviantart.com/oembed?url="+
p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("flickr\\.com/photos/.*",""),method:function(a,b){j.getJSON("http://www.flickr.com/services/oembed/?url=http://www."+p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("ebay\\.([a-zA-Z\\.]*)/itm(/[^/]*)?/([0-9]*)",""),method:function(a,b){a.matched(1);var c="http://open.api.ebay.com/shopping?callname=GetSingleItem&responseencoding=JSON&appid=ThomasDa-1e6c-4d29-a156-85557acee70b&siteid=0&version=515&ItemID="+
a.matched(3)+"&IncludeSelector=TextDescription";j.getJSON(c,function(a){var c=a.Item.PictureURL.map(function(a){return{url:a,caption:null,author:null}});b({title:a.Item.Title,category:a.Item.PrimaryCategoryName,location:a.Item.Location+", "+a.Item.Country,description:y.filterHTML(a.Item.Description),images:c,price:j.formatPrice(a.Item.ConvertedCurrentPrice.Value)+" "+a.Item.ConvertedCurrentPrice.CurrencyID})})}},{regex:new h("([^\\.]*\\.wordpress\\.com|wp\\.me|techcrunch\\.com|news\\.blogs\\.cnn\\.com|snoopdogg\\.com|usainbolt\\.com|katiecouric\\.com|rollingstones\\.com|variety\\.com|bbcamerica\\.com)/(.*)?",
""),method:function(a,b){var c="http://"+a.matched(0);j.getJSON("http://public-api.wordpress.com/oembed/?url="+p.urlEncode(c)+"&for=Reditn",function(a){var c=[];null!=a.thumbnail_url&&c.push({caption:null,url:a.thumbnail_url,author:null});b({author:a.author_name,content:y.filterHTML(a.html),images:c})})}},{regex:new h("(.*)/wiki/([^#]*)(#.*)?",""),method:function(a,b){var c="http://"+a.matched(1),d=a.matched(2),f=a.matched(3);null!=f&&(f=p.trim(l.substr(f,1,null)));null!=f&&0==f.length&&(f=null);
var e=c;p.endsWith(e,".wikia.com")||(e+="/w");var g=null,g=function(a){j.getJSON(""+e+"/api.php?format=json&prop=revisions&action=query&titles="+a+"&rvprop=content",function(a){a=a.query.pages;for(var d=0,h=z.fields(a);d<h.length;){var m=h[d];++d;var m=[z.field(a,m)],k=[z.field(m[0].revisions[0],"*")];if(p.startsWith(k[0],"#REDIRECT [[")){g(k[0].substring(12,k[0].lastIndexOf("]]")));break}var n=[A.getAlbum(k[0])];null!=f&&(k[0]=A.trimTo(k[0],f));k[0]=A.parse(k[0],c);if(0<n[0].length)for(var r=[[]],
t=0;t<n[0].length;){var v=[n[0][t]];++t;j.getJSON(""+e+"/api.php?action=query&titles="+p.urlEncode(v[0].url)+"&prop=imageinfo&iiprop=url&format=json",function(a,c,d,f,e){return function(g){g=g.query.pages;for(var h=0,j=z.fields(g);h<j.length;){var m=j[h];++h;m=z.field(g,m);null!=m&&null!=m.imageinfo?c[0].push({url:m.imageinfo[0].url,caption:a[0].caption,author:null}):(console.log("Error whilst processing "+u.string(m)+" for "+a[0].url),l.remove(d[0],a[0]))}c[0].length>=d[0].length&&b({title:e[0].title,
content:f[0],author:null,images:c[0]})}}(v,r,n,k,m))}else b({title:m[0].title,content:k[0],author:null,images:null})}})};g(d)}},{regex:new h("github\\.com/([^/]*)/([^/]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2);j.getJSON("https://api.github.com/repos/"+c+"/"+d+"/readme?client_id=39d85b9ac427f1176763&client_secret=5117570b83363ca0c71a196edc5b348af150c25d",function(a){if(null!=a.content){a=a.content;a=p.replace(a,"\n","");a=p.trim(a);a=e.Browser.window.atob(a);for(var g=C.images,
h=[],j=a;g.match(j);){var k=g.matched(2);k.indexOf(".")==k.lastIndexOf(".")&&(p.startsWith(k,"/")&&(k=l.substr(k,1,null)),k="https://github.com/"+c+"/"+d+"/raw/master/"+k);h.push({url:k,caption:g.matched(1),author:c});j=l.substr(j,g.matchedPos().pos+g.matchedPos().len,null)}b({name:d,developers:[c],description:C.parse(a),url:"git://github.com/"+c+"/"+d+".git",album:h})}})}},{regex:new h("sourceforge.net/projects/([a-zA-Z-]*)",""),method:function(a,b){j.getJSON("http://sourceforge.net/api/project/name/"+
a.matched(1)+"/json",function(a){a=a.Project;for(var d=a.developers,f=a.name,e=a.description,g=[],h=0;h<d.length;)++h,g.push(a.name);for(var j=z.field(a,"download-page"),d=0,h=z.fields(a);d<h.length;){var k=h[d];++d;p.endsWith(k,"Repository")&&(j=l.substr(k,0,k.length-10).toLowerCase(),k=z.field(a,k).location,j=p.replace(k,"http:",""+j+":"))}b({name:f,description:e,developers:g,url:j,album:[]})})}},{regex:new h("(digitaltrends\\.com|webupd8\\.org|doctorwho\\.tv)/.*",""),method:function(a,b){j.getText("http://www."+
a.matched(0),function(a){var d=new h("<title>(.*)</title>","");d.match(a)&&(a=l.substr(a,a.indexOf("<article"),null),a=l.substr(a,a.indexOf(">")+1,null),a=l.substr(a,0,a.indexOf("</article>")),a=y.filterHTML(a),b({title:d.matched(1),content:a,author:null,images:[]}))},null,null,null)}},{regex:new h("([^\\.]*)\\.tumblr\\.com/(post|image)/([0-9]*)(/.*)?",""),method:function(a,b){var c=a.matched(1),d=a.matched(3);j.getJSON("http://api.tumblr.com/v2/blog/"+c+".tumblr.com/posts/json?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE&id="+
d,function(a){var c=a.posts[0];switch(c.type){case "text":for(var d=[];y.HTML_IMG.match(c.body);)d.push({url:y.HTML_IMG.matched(1),caption:null,author:a.blog.name}),c.body=y.HTML_IMG.replace(c.body,"");c.body=y.filterHTML(c.body);a={title:c.title,content:c.body,author:a.blog.name,images:d};break;case "quote":a={title:null,content:u.string(c.text)+"<br/><b>"+u.string(c.source)+"</b>",author:a.blog.name,images:[]};break;case "photo":for(var c=c.photos,d=[],e=0;e<c.length;){var g=c[e];++e;d.push({url:g.original_size.url,
caption:g.caption,author:a.blog.name})}a=d;break;default:a=null}b(a)})}},{regex:new h(".*\\.tumblr\\.com",""),method:function(a,b){j.getJSON("http://api.tumblr.com/v2/blog/"+p.urlEncode(a.matched(0))+"/info?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE",function(a){b({urls:new g.ds.StringMap,name:a.blog.title,description:y.filterHTML(a.blog.description),album:[]})})}},{regex:new h("twitter.com/.*/status/([0-9]*)",""),method:function(a,b){j.getJSON("https://api.twitter.com/1/statuses/oembed.json?id="+
a.matched(1),function(a){b({title:null,author:a.author_name,content:y.filterHTML(a.html),images:[]})})}},{regex:new h("amazon\\.[a-z\\.]*/gp/product/([0-9A-Z]*)",""),method:function(a){a=a.matched(1);j.getXML("http://webservices.amazon.com/onca/xml?AWSAccessKeyId=AKIAJMR3XPXGBMZJE6IA&Service=AWSECommerceService&Operation=ItemLookup&ItemId="+a,function(a){console.log(a)})}},{regex:new h("plus\\.google\\.com/([0-9]*)/posts/([a-zA-Z]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2),e=new h("<b>([^>]*)</b><br />",
""),g=null,g=function(h){j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"/activities/public?fields=items(id%2Curl)%2CnextPageToken&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o"+(null==h?"":"&requestToken="+h),function(c){var h=c.items;a.matched(0);for(var k=0;k<h.length;){var l=h[k];++k;if(-1!=l.url.indexOf(d)){j.getJSON("https://www.googleapis.com/plus/v1/activities/"+u.string(l.id)+"?fields=actor%2FdisplayName%2Cannotation%2Cobject(actor%2Cattachments%2Ccontent%2Cid%2CobjectType%2CoriginalContent%2Curl)&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",
function(a){var c=a.object.objectType,d=a.actor.actorName,g=a.object.content;e.match(g);switch(c){case "note":a=e.matched(1);g=e.replace(g,"");g=y.filterHTML(g);b({title:a,author:d,content:g,images:[]});break;default:d=a.object.attachments;g=[];for(c=0;c<d.length;){var h=d[c];++c;g.push({url:h.image.url,caption:0==h.content.length?a.object.content:h.content,author:null})}b(g)}});return}}0!=c.items.length&&g(c.requestToken)})};g()}},{regex:new h("facebook.com/photo\\.php\\?v=([0-9]*)",""),method:function(a,
b){a.matched(1);b([{caption:null,url:"http://graph.facebook.com/${id}/picture?type=small&access_token=CAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrCAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrf",author:null}])}},{regex:new h("facebook\\.com/([a-zA-Z0-9]*)",""),method:function(a,b){var c=
a.matched(1);b({album:[{url:"https://graph.facebook.com/"+c+"/picture?type=large",caption:null,author:null}],urls:new g.ds.StringMap})}},{regex:new h("plus\\.google.com/u?/?[0-9]*/([0-9]*)(/about)?",""),method:function(a,b){var c=a.matched(1);j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"?key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",function(a){var c=a.urls,e=new g.ds.StringMap;if(null!=c)for(var h=0;h<c.length;){var j=c[h];++h;e.set(j.label,j.value)}null!=a.urls&&(null!=a.displayName&&
null!=a.aboutMe)&&b({urls:e,name:a.displayName,description:a.aboutMe,album:[{url:a.image.url,caption:null,author:a.displayName}]})})}},{regex:new h("reddit\\.com/r/([a-zA-Z0-9]*)",""),method:function(a,b){j.getJSON("http://www."+a.matched(0)+"/about.json",function(a){b(a)})}},{regex:new h("gamejolt.com/games/[^/]*/[^/]*/([0-9]*)",""),method:function(a){a=a.matched(1);j.getJSON("http://gamejolt.com/service/games/"+a+"?format=json",function(a){console.log(a)})}},{regex:new h("(0rz\\.tw|1link\\.in|1url\\.com|2\\.gp|2big\\.at|2tu\\.us|3\\.ly|307\\.to|4ms\\.me|4sq\\.com|4url\\.cc|6url\\.com|7\\.ly|a\\.gg|a\\.nf|aa\\.cx|abcurl\\.net|ad\\.vu|adf\\.ly|adjix\\.com|afx\\.cc|all\\.fuseurl\\.com|alturl\\.com|amzn\\.to|ar\\.gy|arst\\.ch|atu\\.ca|azc\\.cc|b23\\.ru|b2l\\.me|bacn\\.me|bcool\\.bz|binged\\.it|bit\\.ly|bizj\\.us|bloat\\.me|bravo\\.ly|bsa\\.ly|budurl\\.com|canurl\\.com|chilp\\.it|chzb\\.gr|cl\\.lk|cl\\.ly|clck\\.ru|cli\\.gs|cliccami\\.info|clickthru\\.ca|clop\\.in|conta\\.cc|cort\\.as|cot\\.ag|crks\\.me|ctvr\\.us|cutt\\.us|dai\\.ly|decenturl\\.com|dfl8\\.me|digbig\\.com|digg\\.com|disq\\.us|dld\\.bz|dlvr\\.it|do\\.my|doiop\\.com|dopen\\.us|easyuri\\.com|easyurl\\.net|eepurl\\.com|eweri\\.com|fa\\.by|fav\\.me|fb\\.me|fbshare\\.me|ff\\.im|fff\\.to|fire\\.to|firsturl\\.de|firsturl\\.net|flic\\.kr|flq\\.us|fly2\\.ws|fon\\.gs|freak\\.to|fuseurl\\.com|fuzzy\\.to|fwd4\\.me|fwib\\.net|g\\.ro\\.lt|gizmo\\.do|gl\\.am|go\\.9nl\\.com|go\\.ign\\.com|go\\.usa\\.gov|goo\\.gl|goshrink\\.com|gurl\\.es|hex\\.io|hiderefer\\.com|hmm\\.ph|href\\.in|hsblinks\\.com|htxt\\.it|huff\\.to|hulu\\.com|hurl\\.me|hurl\\.ws|icanhaz\\.com|idek\\.net|ilix\\.in|is\\.gd|its\\.my|ix\\.lt|j\\.mp|jijr\\.com|kl\\.am|klck\\.me|korta\\.nu|krunchd\\.com|l9k\\.net|lat\\.ms|liip\\.to|liltext\\.com|linkbee\\.com|linkbun\\.ch|liurl\\.cn|ln-s\\.net|ln-s\\.ru|lnk\\.gd|lnk\\.ms|lnkd\\.in|lnkurl\\.com|lru\\.jp|lt\\.tl|lurl\\.no|macte\\.ch|mash\\.to|merky\\.de|migre\\.me|miniurl\\.com|minurl\\.fr|mke\\.me|moby\\.to|moourl\\.com|mrte\\.ch|myloc\\.me|myurl\\.in|n\\.pr|nbc\\.co|nblo\\.gs|nn\\.nf|not\\.my|notlong\\.com|nsfw\\.in|nutshellurl\\.com|nxy\\.in|nyti\\.ms|o-x\\.fr|oc1\\.us|om\\.ly|omf\\.gd|omoikane\\.net|on\\.cnn\\.com|on\\.mktw\\.net|onforb\\.es|orz\\.se|ow\\.ly|ping\\.fm|pli\\.gs|pnt\\.me|politi\\.co|post\\.ly|pp\\.gg|profile\\.to|ptiturl\\.com|pub\\.vitrue\\.com|qlnk\\.net|qte\\.me|qu\\.tc|qy\\.fi|r\\.im|rb6\\.me|read\\.bi|readthis\\.ca|reallytinyurl\\.com|redir\\.ec|redirects\\.ca|redirx\\.com|retwt\\.me|ri\\.ms|rickroll\\.it|riz\\.gd|rt\\.nu|ru\\.ly|rubyurl\\.com|rurl\\.org|rww\\.tw|s4c\\.in|s7y\\.us|safe\\.mn|sameurl\\.com|sdut\\.us|shar\\.es|shink\\.de|shorl\\.com|short\\.ie|short\\.to|shortlinks\\.co\\.uk|shorturl\\.com|shout\\.to|show\\.my|shrinkify\\.com|shrinkr\\.com|shrt\\.fr|shrt\\.st|shrten\\.com|shrunkin\\.com|simurl\\.com|slate\\.me|smallr\\.com|smsh\\.me|smurl\\.name|sn\\.im|snipr\\.com|snipurl\\.com|snurl\\.com|sp2\\.ro|spedr\\.com|srnk\\.net|srs\\.li|starturl\\.com|su\\.pr|surl\\.co\\.uk|surl\\.hu|t\\.cn|t\\.co|t\\.lh\\.com|ta\\.gd|tbd\\.ly|tcrn\\.ch|tgr\\.me|tgr\\.ph|tighturl\\.com|tiniuri\\.com|tiny\\.cc|tiny\\.ly|tiny\\.pl|tinylink\\.in|tinyuri\\.ca|tinyurl\\.com|tk\\.|tl\\.gd|tmi\\.me|tnij\\.org|tnw\\.to|tny\\.com|to\\.|to\\.ly|togoto\\.us|totc\\.us|toysr\\.us|tpm\\.ly|tr\\.im|tra\\.kz|trunc\\.it|twhub\\.com|twirl\\.at|twitclicks\\.com|twitterurl\\.net|twitterurl\\.org|twiturl\\.de|twurl\\.cc|twurl\\.nl|u\\.mavrev\\.com|u\\.nu|u76\\.org|ub0\\.cc|ulu\\.lu|updating\\.me|ur1\\.ca|url\\.az|url\\.co\\.uk|url\\.ie|url360\\.me|url4\\.eu|urlborg\\.com|urlbrief\\.com|urlcover\\.com|urlcut\\.com|urlenco\\.de|urli\\.nl|urls\\.im|urlshorteningservicefortwitter\\.com|urlx\\.ie|urlzen\\.com|usat\\.ly|use\\.my|vb\\.ly|vgn\\.am|vl\\.am|vm\\.lc|w55\\.de|wapo\\.st|wapurl\\.co\\.uk|wipi\\.es|wp\\.me|x\\.vu|xr\\.com|xrl\\.in|xrl\\.us|xurl\\.es|xurl\\.jp|y\\.ahoo\\.it|yatuc\\.com|ye\\.pe|yep\\.it|yfrog\\.com|yhoo\\.it|yiyd\\.com|youtu\\.be|yuarel\\.com|z0p\\.de|zi\\.ma|zi\\.mu|zipmyurl\\.com|zud\\.me|zurl\\.ws|zz\\.gd|zzang\\.kr|r\\.ebay\\.com)/.*",
""),method:function(a,b){var c=p.urlEncode("http://"+a.matched(0));j.getJSON("http://api.longurl.org/v2/expand?url="+c+"&format=json&User-Agent=Reditn",function(a){a=z.field(a,"long-url");a=y.resolve(a);null!=a&&a.method(a.regex,b)})}}];y.HTML_FILTERS=[y.HTML_IMG,new h("<meta[^>]*/>","g"),new h("<(h1|header)[^>]*>.*</\\1>","g"),new h("<table([^>]*)>(.|\n|\n\r)*</table>","gm"),new h('<div class="(seperator|ga-ads)"[^>]*>(.|\n|\n\r)*</div>',"g"),new h("<([^>]*)( [^>]*)?></\\1>","g"),new h("<script[^>/]*/>",
"g"),new h("<script[^>/]*>\x3c/script>","g"),new h('style ?= ?"[^"]*"',"g")];y.HTML_CLEANERS=[{from:new h('<blockquote class="twitter-tweet">(.*)</blockquote>',"g"),to:"$1"},{from:new h("(!|\\.|,|\\?)(^ \n\t\r)","g"),to:"$1 $2"},{from:new h("(!|\\.|,|\\?)( *)","g"),to:"$1 "},{from:new h("(<br></br>|<br/>|<br />)(<br></br>|<br/>|<br />)","g"),to:"<br/>"}];x=new g.ds.StringMap;x.set("adblock","Block advertisements and sponsors");x.set("userinfo","Show information about a user upon hover");x.set("subinfo",
"Show information about a subreddit upon hover");x.set("expand","Allow expansion of images, articles, etc");x.set("text-expand","Allow expansion of images, articles etc found in comments and posts for easy viewing");x.set("dup-hider","Hide duplicate links");x.set("user-tag","Tag users");x.set("sub-tag","Tag subreddits");x.set("preview","Preview comments and posts");x.set("keys","Keyboard shortcuts");x.set("nsfw-filter","Hide NSFW content");k.DESC=x;x=new g.ds.StringMap;x.set("adblock",!0);x.set("userinfo",
!0);x.set("subinfo",!0);x.set("expand",!0);x.set("dup-hider",!0);x.set("text-expand",!0);x.set("user-tag",!0);x.set("sub-tag",!0);x.set("preview",!0);x.set("keys",!0);x.set("nsfw-filter",!1);x.set("user-tags",new g.ds.StringMap);x.set("sub-tags",new g.ds.StringMap);k.DEFAULTS=x;k.data=new g.ds.StringMap;g.Serializer.USE_CACHE=!1;g.Serializer.USE_ENUM_INDEX=!1;g.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.Unserializer.DEFAULT_RESOLVER=B;g.Unserializer.BASE64=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.ds.ObjectMap.count=0;j.main()})();
(function(){var r={},G=function(){return e.Boot.__string_rec(this,"")},I=function(){};r.Adblock=I;I.__name__=["Adblock"];I.init=function(){I.hideAll(e.Browser.document.body.getElementsByClassName("promoted"));I.hideAll(e.Browser.document.body.getElementsByClassName("infobar"));I.hideAll(e.Browser.document.body.getElementsByClassName("goldvertisement"));var a=e.Browser.document.getElementById("spotlight-help");null!=a&&j.show(a.parentNode.parentNode,!1);a=e.Browser.document.getElementById("ad-frame");
null!=a&&j.show(a,!1)};I.hideAll=function(a){for(var b=0,c=a.length;b<c;){var d=b++;j.show(a[d],!1)}};var P=function(){};r.DuplicateHider=P;P.__name__=["DuplicateHider"];P.init=function(){for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&(Q.has(a,d.href)?j.show(d.parentElement.parentElement.parentElement,!1):a.push(d.href))}};var h=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};r.EReg=h;h.__name__=["EReg"];h.prototype={replace:function(a,b){return a.replace(this.r,
b)},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:l.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;a=b}else{if(c=this.match(0>c?l.substr(a,b,null):l.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;a=c}return a},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,
this.r.s.length-a)},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return this.r.s.substr(0,this.r.m.index)},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:h};var v=function(){};r.Expand=v;v.__name__=["Expand"];v.init=function(){v.toggled="#showall"==e.Browser.window.location.hash;var a=e.Browser.document.getElementsByClassName("tabmenu")[0],
b=e.Browser.document.createElement("li");v.button=e.Browser.document.createElement("a");v.button.href="javascript:void(0);";v.refresh();v.button.onclick=function(){v.toggle(!v.toggled);e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,v.toggled?"#showall":"#")};b.appendChild(v.button);null!=a&&a.appendChild(b);a=0;for(b=j.links;a<b.length;){var c=b[a];++a;if("a"==c.nodeName.toLowerCase()){var d=c.parentElement.parentElement.parentElement.getElementsByClassName("entry")[0],c=y.createButton(c.href,
d);if(null==c)v.defaultButton(d);else{for(var f=0,q=d.getElementsByClassName("expando");f<q.length;){var X=q[f];++f;X.parentNode.removeChild(X)}d.appendChild(c);d.insertBefore(c,d.getElementsByClassName("tagline")[0])}}}};v.defaultButton=function(a){var b=!1,c=0;for(a=a.getElementsByClassName("expando-button");c<a.length;){var d=a[c];++c;b?d.parentNode.removeChild(d):(null!=d&&(b=v.adaptButton(d),b.toggle(v.toggled,!1),v.buttons.push(b)),b=!0)}};v.adaptButton=function(a){var b=e.Boot.__cast(a.parentElement.getElementsByTagName("a")[0],
HTMLAnchorElement).href;a.style.width=a.style.height="23px";return{toggled:function(){return-1!=a.className.indexOf("expanded")},toggle:function(b,d){var f=-1!=a.className.indexOf("expanded");if(b!=f)a.onclick(null);v.queue++;g.Timer.delay(function(){0<a.parentElement.getElementsByClassName("error").length?(a.onclick(null),a.onclick(null)):v.queue--},1E3*v.queue);d&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:b,element:a}};v.refresh=function(){if(null!=v.button){v.button.innerHTML=
""+(v.toggled?"hide":"show")+" all";for(var a=e.Browser.document.body.getElementsByClassName("nextprev"),b=0;b<a.length;){var c=a[b];++b;var d;d=void 0;d=[];for(var f=0,c=c.getElementsByTagName("a");f<c.length;){var q=c[f];++f;d.push(q)}for(f=0;f<d.length;)c=d[f],++f,"a"==c.nodeName.toLowerCase()&&(v.toggled&&-1==c.href.indexOf("#")?c.href+="#showall":!v.toggled&&-1!=c.href.indexOf("#")&&(c.href=l.substr(c.href,0,c.href.indexOf("#"))))}}};v.toggle=function(a){v.toggled=a;for(var b=0,c=v.buttons;b<
c.length;){var d=c[b];++b;d.toggle(a,!1)}v.refresh()};v.loadImage=function(a){var b=e.Browser.document.createElement("img");b.src=a;b.className="resize";v.initResize(b);var c=new g.Timer(30);c.run=function(){if(0<b.width&&0<b.height){c.stop();if(b.width>(0.7*e.Browser.window.innerWidth|0)){var a=b.height/b.width;b.width=0.7*e.Browser.window.innerWidth|0;b.height=b.width*a|0}b.height>(0.6*e.Browser.window.innerHeight|0)&&(a=b.width/b.height,b.height=0.6*e.Browser.window.innerHeight|0,b.width=b.height*
a|0)}};return b};v.initResize=function(a){var b=0,c=0,d=0,f=!1;a.addEventListener("mousedown",function(q){if(!q.altKey&&!q.ctrlKey&&!q.metaKey){f=!0;var e=a.getBoundingClientRect(),m=q.clientY-e.top;b=a.offsetWidth/(q.clientX-e.left);c=a.offsetHeight/m;d=a.offsetWidth/a.offsetHeight;q.preventDefault()}});a.addEventListener("mousemove",function(q){if(f){var e=a.getBoundingClientRect(),m=(q.clientX-e.left)*b,g=m/d,e=(q.clientY-e.top)*c,j=e*d;a.width=(g>e||m>j?m:j)|0;a.height=(g>e||m>j?g:e)|0;q.preventDefault()}});
a.addEventListener("dblclick",function(){a.width=a.naturalWidth;a.height=a.naturalHeight});a.addEventListener("mouseup",function(a){f=!1;a.preventDefault()});a.addEventListener("mouseout",function(a){f=!1;a.preventDefault()})};var l=function(){};r.HxOverrides=l;l.__name__=["HxOverrides"];l.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),f=a.getMinutes(),q=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>f?"0"+f:""+
f)+":"+(10>q?"0"+q:""+q)};l.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};l.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};l.substr=function(a,b,c){if(null!=b&&
0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};l.remove=function(a,b){for(var c=0,d=a.length;c<d;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};l.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var t=function(){};r.Keyboard=t;t.__name__=["Keyboard"];t.init=function(){e.Browser.document.onkeydown=function(a){t.keyDown(a.keyCode)}};t.unhighlight=
function(){if(null!=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).style.border=""};t.highlight=function(a){t.unhighlight();null!=t.current&&t.current+a<j.links.length&&(t.current+=a);if(null==t.current||null==(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))t.current=0;(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:
null).style.border="3px solid grey";(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).scrollIntoViewIfNeeded(!0)};t.show=function(a){null==a&&(a=!0);for(var b=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).getElementsByClassName("expando-button")[0],c=0,d=v.buttons;c<d.length;){var f=d[c];++c;if(f.element==b){f.toggle(a,!0);(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:
null).scrollIntoViewIfNeeded(!0);break}}};t.keyDown=function(a){for(t.keys.push(a);t.keys.length>t.konami.length;)l.remove(t.keys,t.keys[0]);for(var b=t.keys.length>=t.konami.length,c=0,d=t.keys.length;c<d;){var f=c++;if(t.keys[f]!=t.konami[f]){b=!1;break}}b&&D.run();switch(a){case 39:t.show(!0);break;case 37:t.show(!1);break;case 38:t.highlight(-1);break;case 40:t.highlight(1)}};var D=function(){};r.Konami=D;D.__name__=["Konami"];D.translate=function(a){for(var b=0;D.filter.matchSub(a,b);)b=D.filter.matchedPos(),
a=D.words[u.random(D.words.length)],console.log(a),b=b.pos+a.length,a=D.filter.matchedLeft()+a+D.filter.matchedRight();return a};D.run=function(){e.Browser.document.title="Dubbit - the back page of the wubbanet";for(var a=0,b=j.links;a<b.length;){var c=b[a];++a;c.innerHTML=D.translate(c.innerHTML)}a=0;for(b=e.Browser.document.body.getElementsByClassName("author");a<b.length;)c=b[a],++a,c.innerHTML="dubstep";a=0;for(b=e.Browser.document.body.getElementsByClassName("subreddit");a<b.length;)c=b[a],++a,
c.innerHTML="people with brains";a=0;for(b=e.Browser.document.body.getElementsByClassName("score");a<b.length;)c=b[a],++a,c.innerHTML="-&infin;";a=0;for(b=e.Browser.document.body.getElementsByTagName("p");a<b.length;)c=b[a],++a,"parent"!=c.className&&(c.innerHTML=D.translate(c.innerHTML))};var Q=function(){};r.Lambda=Q;Q.__name__=["Lambda"];Q.has=function(a,b){var c;if(a instanceof Array)c=function(){return l.iter(a)};else if("function"==typeof a.iterator){c=a.iterator;var d=function(){return d.method.apply(d.scope,
arguments)};d.scope=a;d.method=c;c=d}else c=a.iterator;for(c=c();c.hasNext();)if(c.next()==b)return!0;return!1};var j=function(){};r.Reditn=j;for(var x="undefined"!=typeof window?window:exports,E=["Reditn"],V=0;V<E.length-1;++V){var W=E[V];"undefined"==typeof x[W]&&(x[W]={});x=x[W]}x[E[E.length-1]]=j;j.__name__=["Reditn"];j.main=function(){switch(e.Browser.document.readyState){case "complete":j.init();break;default:e.Browser.window.onload=function(){j.init()}}};j.init=function(){if(-1!=e.Browser.window.location.href.indexOf("reddit.")){j.fullPage=
0<e.Browser.document.getElementsByClassName("tabmenu").length;j.links=e.Browser.document.body.getElementsByClassName("title");for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&"parent"!=d.parentElement.className&&a.push(d)}j.links=a;j.wrap(k.init);j.wrap(I.init,"adblock");j.wrap(P.init,"dup-hider");j.wrap(R.init,"nsfw-filter");S.init();j.wrap(v.init,"expand");j.wrap(T.init,"text-expand");j.wrap(t.init,"keys");j.wrap(J.init,"preview");j.wrap(K.init,"subinfo");j.wrap(L.init,
"userinfo");j.wrap(M.init,"user-tag");j.wrap(N.init,"sub-tag");e.Browser.window.history.replaceState(g.Serializer.run(j.state()),null,v.toggled?"#showall":null);e.Browser.window.onpopstate=function(a){a=a.state;if(null!=a){a=g.Unserializer.run(a);a.allExpanded!=v.toggled&&v.toggle(a.allExpanded);for(var b=0,c=v.buttons;b<c.length;){var d=c[b];++b;var e=a.expanded;e.exists(d.url)&&d.toggle(e.get(d.url),!1)}}}}};j.state=function(){for(var a=new g.ds.StringMap,b=0,c=v.buttons;b<c.length;){var d=c[b];
++b;d.toggled()!=v.toggled&&a.set(d.url,d.toggled())}return{allExpanded:v.toggled,expanded:a}};j.wrap=function(a,b){var c=null==b?null:k.data.get(b);(null==b||c)&&a()};j.formatNumber=function(a){if(Math.isFinite(a)){var b=u.string(Math.abs(a)),c;-1!=b.indexOf(".")?(c=l.substr(b,b.indexOf("."),null),b=l.substr(b,0,b.indexOf("."))):c="";if(3<=b.length){for(var d="",f=0,q=b.length;f<q;){var e=f++,d=d+b.charAt(e);0==(b.length-(e+1))%3&&e<b.length-1&&(d+=",")}b=d}a=(0>a?"-"+b:b)+c}else a=u.string(a);return a};
j.formatPrice=function(a){var b=j.formatNumber(a|0);a=u.string(a);for(a=-1==a.indexOf(".")?".":l.substr(a,a.indexOf("."),null);3>a.length;)a+="0";return""+b+a};j.show=function(a,b){a.style.display=b?"":"none";if(-1!=a.className.indexOf("link")&&!b){var c=a.getElementsByClassName("entry")[0];l.remove(j.links,c.getElementsByTagName("a")[0])}};j.age=function(a){if(86400>a)return"less than a day";a=g.Timer.stamp()-a;var b=a/86400%30.4375|0,c=a/2629800%12|0;a=a/2629800/12|0;var d="";0<a&&(d+=""+a+" year"+
(1>=a?"":"s"));0<c&&(d+=", "+c+" month"+(1>=c?"":"s"));d+=", "+b+" day"+(1>=b?"":"s");for(p.startsWith(d,", ")&&(d=l.substr(d,2,null));-1!=d.indexOf(", , ");)d=p.replace(d,", , ",", ");return d};j.embedAlbum=function(a){var b=e.Browser.document.createElement("span");b.style.textAlign="center";for(var c=[],d=0;d<a.length;){var f=a[d];++d;c.push(function(){var a=v.loadImage(f.url);a.title=(null!=f.caption?f.caption+" ":"")+(null!=f.author?"by "+f.author:"");b.appendChild(a);j.show(a,!1);return a}(this))}var q=
null,g=e.Browser.document.createElement("span");g.style.fontWeight="bold";g.style.marginLeft="10px";var m=0,h=null,F=null,l=null;1<a.length&&(h=e.Browser.document.createElement("button"),h.innerHTML="Prev",b.appendChild(h),F=e.Browser.document.createElement("span"),F.style.textAlign="center",F.style.paddingLeft=F.style.paddingRight="5px",b.appendChild(F),l=e.Browser.document.createElement("button"),l.innerHTML="Next",b.appendChild(l));if(1<a.length||null!=a[0].caption&&0<a[0].caption.length)b.appendChild(g),
b.appendChild(e.Browser.document.createElement("br"));var k=function(d){if(!(0>d||d>=a.length)){var f=a[d],e=null;null!=q&&(j.show(q,!1),e=u.parseInt(q.style.height));q=c[d];q.style.display="block";if(null!=e){var m=q.width/q.height;q.style.height=e+"px";q.style.width=(e*m|0)+"px"}b.appendChild(q);null!=h&&(e=j.formatNumber(a.length),m=j.formatNumber(d+1),F.innerHTML=""+m+" of "+e,h.disabled=0>=d,l.disabled=d>=a.length-1);j.show(g,null!=f.caption);null!=f.caption&&(g.innerHTML=p.htmlEscape(f.caption),
null!=f.author&&(g.innerHTML+=" <em>by "+f.author+"</em>"))}};k(0);null!=h&&(h.onmousedown=function(){k(--m)},l.onmousedown=function(){k(++m)});return b};j.getData=function(a){for(;null!=a.data;)a=a.data;for(;null!=a.response;)a=a.response;return a};j.getText=function(a,b,c,d,f){a=new g.Http(a);null!=c&&a.setHeader("Authorization",c);null!=d&&a.setHeader("Content-Type",d);a.onData=b;null!=f&&a.setPostData(f);a.request(null!=f)};j.embedMap=function(a){for(var b=e.Browser.document.createElement("dl"),
c=a.keys();c.hasNext();){var d=c.next();if(null!=a.get(d)&&0<a.get(d).length){var f=e.Browser.document.createElement("dt");f.innerHTML=d;b.appendChild(f);f=e.Browser.document.createElement("dd");f.innerHTML=a.get(d);b.appendChild(f)}}b.className="md reditn-table";return b};j.getJSON=function(a,b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){p.startsWith(a,"jsonFlickrApi(")&&p.endsWith(a,")")&&(a=a.substring(14,a.length-1));b(j.getData(g.Json.parse(a)))},c,d,f)};j.getXML=function(a,
b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){b(j.getData(n.parse(a)))},c,d,f)};j.popUp=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);e.Browser.document.body.appendChild(b);b.className="popup";b.style.position="absolute";b.style.width=(0.25*e.Browser.window.innerWidth|0)+"px";b.style.left=""+c+"px";b.style.top=""+(d-30)+"px";a.onmouseout=b.onblur=function(){b.parentElement.removeChild(b);a.mouseover=!1};return b};j.fullPopUp=function(a,b){null==b&&(b=0);var c=e.Browser.document.getElementsByClassName("popup")[0];
null!=c&&c.parentElement.removeChild(c);e.Browser.document.body.appendChild(a);c=e.Browser.document.createElement("a");c.style.position="absolute";c.style.right=c.style.top="5px";c.innerHTML="<b>Close</b>";c.href="javascript:void(0);";c.onclick=a.onblur=function(){a.parentElement.removeChild(a)};a.appendChild(c);a.className="popup";0!=b&&(a.style.top=""+(b-e.Browser.window.scrollY)+"px");return a};var p=function(){};r.StringTools=p;p.__name__=["StringTools"];p.urlEncode=function(a){return encodeURIComponent(a)};
p.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};p.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};p.startsWith=function(a,b){return a.length>=b.length&&l.substr(a,0,b.length)==b};p.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&l.substr(a,d-c,c)==b};p.isSpace=function(a,b){var c=l.cca(a,b);return 8<c&&14>c||32==c};p.ltrim=function(a){for(var b=
a.length,c=0;c<b&&p.isSpace(a,c);)c++;return 0<c?l.substr(a,c,b-c):a};p.rtrim=function(a){for(var b=a.length,c=0;c<b&&p.isSpace(a,b-c-1);)c++;return 0<c?l.substr(a,0,b-c):a};p.trim=function(a){return p.ltrim(p.rtrim(a))};p.replace=function(a,b,c){return a.split(b).join(c)};var g={Json:function(){}};r["haxe.Json"]=g.Json;g.Json.__name__=["haxe","Json"];g.Json.parse=function(a){return(new g.Json).doParse(a)};g.Json.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,d=!c,f=48==a,e=!1,g=
!1,m=!1,j=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:f&&!e&&this.invalidNumber(b);c&&(c=!1,f=!0);d=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f&&!e&&this.invalidNumber(b);c&&(c=!1);d=!0;f=!1;break;case 46:(c||e)&&this.invalidNumber(b);d=!1;e=!0;break;case 101:case 69:(c||f||g)&&this.invalidNumber(b);d=!1;g=!0;break;case 43:case 45:(!g||m)&&this.invalidNumber(b);d=!1;m=!0;break;default:d||this.invalidNumber(b),this.pos--,j=!0}if(j)break}a=u.parseFloat(l.substr(this.str,
b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+l.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new H;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\b";break;case 102:b.b+="\f";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);
break;case 117:a=u.parseInt("0x"+l.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;
case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),
a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=
this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:g.Json};g.Http=function(a){this.url=a;this.headers=new g.ds.StringMap;
this.params=new g.ds.StringMap;this.async=!0};r["haxe.Http"]=g.Http;g.Http.__name__=["haxe","Http"];g.Http.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=this;b.responseData=null;var c=e.Browser.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(b.responseData=c.responseText);else if(null==a)b.onError("Failed to connect or resolve host");
else switch(a){case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var f=this.postData;if(null!=f)a=!0;else for(var q=this.params.keys();q.hasNext();)var g=q.next(),f=null==f?"":f+"&",f=f+(p.urlEncode(g)+"="+p.urlEncode(this.params.get(g)));try{if(a)c.open("POST",this.url,this.async);else if(null!=f){var m=1>=this.url.split("?").length;c.open("GET",
this.url+(m?"?":"&")+f,this.async);f=null}else c.open("GET",this.url,this.async)}catch(j){this.onError(j.toString());return}null==this.headers.get("Content-Type")&&(a&&null==this.postData)&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)q=a.next(),c.setRequestHeader(q,this.headers.get(q));c.send(f);this.async||d(null)},setPostData:function(a){this.postData=a;return this},setHeader:function(a,b){this.headers.set(a,b);return this},__class__:g.Http};
x=function(){};r.IMap=x;x.__name__=["IMap"];g.ds={};g.ds.StringMap=function(){this.h={}};r["haxe.ds.StringMap"]=g.ds.StringMap;g.ds.StringMap.__name__=["haxe","ds","StringMap"];g.ds.StringMap.__interfaces__=[x];g.ds.StringMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return l.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:g.ds.StringMap};var u=
function(){};r.Std=u;u.__name__=["Std"];u.string=function(a){return e.Boot.__string_rec(a,"")};u.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==l.cca(a,1)||88==l.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};u.parseFloat=function(a){return parseFloat(a)};u.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var e={Boot:function(){}};r["js.Boot"]=e.Boot;e.Boot.__name__=["js","Boot"];e.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;
if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,f=a.length;d<f;)var q=d++,c=2!=q?c+(","+e.Boot.__string_rec(a[q],b)):c+e.Boot.__string_rec(a[q],b);return c+")"}d=a.length;c="[";b+="\t";for(f=0;f<d;)q=f++,c+=(0<q?",":"")+e.Boot.__string_rec(a[q],b);return c+"]"}try{f=a.toString}catch(g){return"???"}if(null!=f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;
f=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(f in a)if(!d||a.hasOwnProperty(f))"prototype"==f||("__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f)||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+e.Boot.__string_rec(a[f],b));b=b.substring(1);return c+="\n"+b+"}";case "function":return"<function>";case "string":return a;default:return String(a)}};e.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var q=
d++,q=c[q];if(q==b||e.Boot.__interfLoop(q,b))return!0}return e.Boot.__interfLoop(a.__super__,b)};e.Boot.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(e.Boot.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case Y:return Math.ceil(a%2147483648)===a;case Z:return"number"==typeof a;case U:return!0===a||!1===a;case String:return"string"==typeof a;case $:return!0;default:if(null==a)return!1;if(b==aa&&null!=a.__name__)return!0;null;if(b==
ba&&null!=a.__ename__)return!0;null;return a.__enum__==b}};e.Boot.__cast=function(a,b){if(e.Boot.__instanceof(a,b))return a;throw"Cannot cast "+u.string(a)+" to "+u.string(b);};var z=function(){};r.Reflect=z;z.__name__=["Reflect"];z.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};z.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};z.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&c.call(a,d)&&b.push(d)}return b};
z.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};z.deleteField=function(a,b){if(!z.hasField(a,b))return!1;delete a[b];return!0};var A,C;A=function(){};r["parser.MediaWiki"]=A;A.__name__=["parser","MediaWiki"];A.parse=function(a,b){for(var c=0,d=A.regex;c<d.length;){var f=d[c];++c;for(var e=0;f.from.match(a)&&64>e++;)a=f.from.replace(a,f.to),f.from.matchedPos()}a=p.replace(a,"$BASE",b);p.startsWith(a,"<br>")&&(a=l.substr(a,4,null));a.split("{{").length<a.split("}}").length&&
(a=l.substr(a,a.indexOf("}}")+2,null));return a};A.trimTo=function(a,b){b=p.trim(p.replace(b,"_"," "));for(var c={pos:0,len:0},d=null;A.sections.matchSub(a,c.pos+c.len);)if(c=A.sections.matchedPos(),p.trim(A.sections.matched(2))==p.trim(b)){d=A.sections.matched(1).length;break}null!=d&&(a=l.substr(a,c.pos+c.len,null),a=l.substr(a,0,a.indexOf("<h"+d+">")));return a};A.getAlbum=function(a){for(var b=[];A.IMAGES.match(a);){var c=A.IMAGES.matchedPos();a=l.substr(a,c.pos+c.len,null);c=A.IMAGES.matched(2)+
"."+A.IMAGES.matched(3);p.startsWith(c,"File:")&&(c=l.substr(c,5,null));b.push({url:c,caption:null,author:null})}return b};e.Browser=function(){};r["js.Browser"]=e.Browser;e.Browser.__name__=["js","Browser"];e.Browser.getLocalStorage=function(){try{var a=e.Browser.window.localStorage;a.getItem("");return a}catch(b){return null}};e.Browser.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");
throw"Unable to create XMLHttpRequest object.";};C=function(){};r["parser.Markdown"]=C;C.__name__=["parser","Markdown"];C.parse=function(a){for(;C.header.match(a);)C.header.matchedPos(),a=1+C.header.matched(1).length,6<a&&(a=6),a=C.header.matchedLeft()+("<h"+a+">"+C.header.matched(2)+"</h"+a+">")+C.header.matchedRight();for(var b=0,c=C.regex;b<c.length;){var d=c[b];for(++b;d.from.match(a);)a=d.from.replace(a,d.to)}return a};var n=function(){};r.Xml=n;n.__name__=["Xml"];n.parse=function(a){return g.xml.Parser.parse(a)};
n.createElement=function(a){var b=new n;b.nodeType=n.Element;b._children=[];b._attributes=new g.ds.StringMap;b.set_nodeName(a);return b};n.createPCData=function(a){var b=new n;b.nodeType=n.PCData;b.set_nodeValue(a);return b};n.createCData=function(a){var b=new n;b.nodeType=n.CData;b.set_nodeValue(a);return b};n.createComment=function(a){var b=new n;b.nodeType=n.Comment;b.set_nodeValue(a);return b};n.createDocType=function(a){var b=new n;b.nodeType=n.DocType;b.set_nodeValue(a);return b};n.createProcessingInstruction=
function(a){var b=new n;b.nodeType=n.ProcessingInstruction;b.set_nodeValue(a);return b};n.createDocument=function(){var a=new n;a.nodeType=n.Document;a._children=[];return a};n.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&l.remove(a._parent._children,a);a._parent=this;this._children.push(a)},exists:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=n.Element)throw"bad nodeType";
this._attributes.set(a,b)},set_nodeValue:function(a){if(this.nodeType==n.Element||this.nodeType==n.Document)throw"bad nodeType";return this._nodeValue=a},set_nodeName:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName},__class__:n};g.xml={};g.xml.Parser=function(){};r["haxe.xml.Parser"]=g.xml.Parser;g.xml.Parser.__name__=["haxe","xml","Parser"];g.xml.Parser.parse=function(a){var b=
n.createDocument();g.xml.Parser.doParse(a,0,b);return b};g.xml.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,f=1,e=1,j=null,m=0,h=0,F=0,s=a.charCodeAt(b),p=new H;s==s;){switch(f){case 0:switch(s){case 10:case 13:case 9:case 32:break;default:f=e;continue}break;case 1:switch(s){case 60:f=0;e=2;break;default:m=b;f=13;continue}break;case 13:60==s?(f=n.createPCData(p.b+l.substr(a,m,b-m)),p=new H,c.addChild(f),h++,f=0,e=2):38==s&&(p.addSub(a,m,b-m),f=18,e=13,m=b+1);break;case 17:93==s&&(93==
a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(f=n.createCData(l.substr(a,m,b-m)),c.addChild(f),h++,b+=2,f=1);break;case 2:switch(s){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=l.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;f=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=l.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;f=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;f=15}m=b+1;break;case 63:f=14;m=b;break;
case 47:if(null==c)throw"Expected node name";m=b+1;f=0;e=10;break;default:f=3;m=b;continue}break;case 3:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(b==m)throw"Expected node name";d=n.createElement(l.substr(a,m,b-m));c.addChild(d);f=0;e=4;continue}break;case 4:switch(s){case 47:f=11;h++;break;case 62:f=9;h++;break;default:f=5;m=b;continue}break;case 5:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected attribute name";
j=l.substr(a,m,b-m);if(d.exists(j))throw"Duplicate attribute";f=0;e=6;continue}break;case 6:switch(s){case 61:f=0;e=7;break;default:throw"Expected =";}break;case 7:switch(s){case 34:case 39:f=8;m=b;break;default:throw'Expected "';}break;case 8:s==a.charCodeAt(m)&&(e=l.substr(a,m+1,b-m-1),d.set(j,e),f=0,e=4);break;case 9:m=b=g.xml.Parser.doParse(a,b,d);f=1;break;case 11:switch(s){case 62:f=1;break;default:throw"Expected >";}break;case 12:switch(s){case 62:return 0==h&&c.addChild(n.createPCData("")),
b;default:throw"Expected >";}case 10:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected node name";if(l.substr(a,m,b-m)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";f=0;e=12;continue}break;case 15:45==s&&(45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(c.addChild(n.createComment(l.substr(a,m,b-m))),b+=2,f=1);break;case 16:91==s?F++:93==s?F--:62==s&&0==F&&(c.addChild(n.createDocType(l.substr(a,m,b-m))),f=1);break;case 14:63==s&&62==a.charCodeAt(b+
1)&&(b++,f=l.substr(a,m+1,b-m-2),c.addChild(n.createProcessingInstruction(f)),f=1);break;case 18:59==s&&(m=l.substr(a,m,b-m),35==m.charCodeAt(0)?(m=120==m.charCodeAt(1)?u.parseInt("0"+l.substr(m,1,m.length-1)):u.parseInt(l.substr(m,1,m.length-1)),p.b+=u.string(String.fromCharCode(m))):p.b=g.xml.Parser.escapes.exists(m)?p.b+u.string(g.xml.Parser.escapes.get(m)):p.b+u.string("&"+m+";"),m=b+1,f=e)}s=a.charCodeAt(++b)}1==f&&(m=b,f=13);if(13==f)return(b!=m||0==h)&&c.addChild(n.createPCData(p.b+l.substr(a,
m,b-m))),b;throw"Unexpected end";};var H=function(){this.b=""};r.StringBuf=H;H.__name__=["StringBuf"];H.prototype={addSub:function(a,b,c){this.b+=null==c?l.substr(a,b,null):l.substr(a,b,c)},__class__:H};var y=function(){};r.Link=y;y.__name__=["Link"];y.resolve=function(a){a=y.trimURL(a);for(var b=0,c=y.sites;b<c.length;){var d=c[b];++b;try{if(d.regex.match(a)&&d.regex.matchedPos().len==a.length)return d}catch(f){console.log("Error "+u.string(f)+" whilst processing regex "+u.string(d.regex))}}return null};
y.trimURL=function(a){p.startsWith(a,"http://")?a=l.substr(a,7,null):p.startsWith(a,"https://")&&(a=l.substr(a,8,null));p.startsWith(a,"www.")?a=l.substr(a,4,null):p.startsWith(a,"m.")&&(a=l.substr(a,2,null));-1!=a.indexOf("&")&&(a=l.substr(a,0,a.indexOf("&")));-1!=a.indexOf("?")&&!p.startsWith(a,"facebook.com/")&&(a=l.substr(a,0,a.indexOf("?")));-1!=a.indexOf("#")&&-1==a.indexOf("/wiki/")&&(a=l.substr(a,0,a.indexOf("#")));p.endsWith(a,"/")&&(a=l.substr(a,0,a.length-1));return a};y.filterHTML=function(a){for(var b=
0,c=y.HTML_FILTERS;b<c.length;){var d=c[b];for(++b;d.match(a);)a=d.replace(a,"")}b=0;for(c=y.HTML_CLEANERS;b<c.length;)d=c[b],++b,a=d.from.replace(a,d.to);if(p.startsWith(a,"<br>")||p.startsWith(a,"<br />"))a=l.substr(a,a.indexOf(">")+1,null);p.endsWith(a,"<br>")&&(a=l.substr(a,0,a.length-4));return a};y.createButton=function(a,b,c){var d=y.resolve(a),f=null;if(null!=d){var q=e.Browser.document.createElement("div"),h="expando-button ",m=v.toggled,l=m?"expanded":"collapsed";q.className=""+h+" "+l;
f={toggled:function(){return m},toggle:function(a,b){m=a;q.className=h+(l=m?"expanded":"collapsed");for(var c=q.parentElement.getElementsByClassName("expando"),d=0;d<c.length;){var f=c[d];++d;j.show(f,a)}b&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:a,element:q};q.onclick=function(){f.toggle(!m,!0)};d.method(d.regex,function(d){var s="selftext",k;if(z.hasField(d,"urls")){var r=[];for(k=d.urls.keys();k.hasNext();){var n=k.next();r.push('<li><a href="'+d.urls.get(n)+
'">'+n+"</a></li>")}k=e.Browser.document.createElement("div");k.className="usertext";n=e.Browser.document.createElement("div");n.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Name",d.name);a.set("Description",d.description);a.set("Links",r.join(""));return a}(this)));0<d.album.length&&(n.appendChild(e.Browser.document.createElement("br")),n.appendChild(j.embedAlbum(d.album)));k.appendChild(n)}else if(z.hasField(d,"price"))k=e.Browser.document.createElement("div"),k.className="usertext",
s=e.Browser.document.createElement("div"),s.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Category",p.htmlEscape(d.category));a.set("Location",p.htmlEscape(d.location));a.set("Price",p.htmlEscape(d.price));a.set("Description",d.description);return a}(this))),s.appendChild(j.embedAlbum(d.images)),k.appendChild(s),s="item";else if(z.hasField(d,"subscribers"))k=e.Browser.document.createElement("div"),k.className="usertext",k.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;
a.set("Age",j.age(d.created_utc));a.set("Subscribers",j.formatNumber(d.subscribers));a.set("Active users",j.formatNumber(d.accounts_active));a.set("Description",C.parse(d.description));return a}(this)));else if(z.hasField(d,"content")){k=e.Browser.document.createElement("div");k.className="usertext";var n=e.Browser.document.createElement("div"),t=e.Browser.document.createElement("span");t.innerHTML=d.content;n.appendChild(t);null!=d.images&&0<d.images.length&&(n.appendChild(e.Browser.document.createElement("br")),
n.appendChild(j.embedAlbum(d.images)));n.className="md";k.appendChild(n)}else e.Boot.__instanceof(d,Array)&&z.hasField(d[0],"url")?(k=j.embedAlbum(d),s="image"):z.hasField(d,"developers")?(console.log(a),k=e.Browser.document.createElement("div"),k.className="usertext",n=e.Browser.document.createElement("div"),t=e.Browser.document.createElement("span"),t.innerHTML=""+u.string(d.description)+'<br><a href="'+u.string(d.url)+'"><b>Clone repo</b></a><br>',null!=d.album&&0<d.album.length&&t.appendChild(j.embedAlbum(d.album)),
n.appendChild(t),n.className="md",k.appendChild(n)):k=null;null!=k&&(n=e.Browser.document.createElement("div"),n.className="expando",n.appendChild(k),h+=""+s+" ",q.className=""+h+" "+l,v.buttons.push(f),j.show(n,m),null==c?b.appendChild(n):b.insertBefore(n,c.nextSibling),b.insertBefore(q,n))})}return null!=f?f.element:null};var O=function(){this.length=0};r.List=O;O.__name__=["List"];O.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==
this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:O};var R=function(){};r.NSFWFilter=R;R.__name__=["NSFWFilter"];R.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("nsfw-stamp"),b=0;b<a.length;){var c=a[b];++b;"li"==c.nodeName.toLowerCase()&&j.show(c.parentNode.parentNode.parentNode,!1)}};var J=function(){};r.Preview=J;J.__name__=["Preview"];J.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-edit"),
b=0;b<a.length;){var c=a[b];++b;J.preview(c)}};J.preview=function(a){var b=a.getElementsByTagName("textarea")[0];if(null!=b){var c=e.Browser.document.createElement("div");a.appendChild(c);c.className="md";var d=null;b.onfocus=function(){d=new g.Timer(100);d.run=function(){c.innerHTML=C.parse(b.value)}};b.onblur=function(){d.stop();d=null}}};var k=function(){};r.Settings=k;k.__name__=["Settings"];k.optimisedData=function(){for(var a=new g.ds.StringMap,b=k.data.keys();b.hasNext();){var c=b.next(),d=
k.data.get(c);k.DEFAULTS.get(c)!=d&&a.set(c,d)}return g.Serializer.run(a)};k.save=function(){g.Serializer.USE_CACHE=!1;e.Browser.getLocalStorage().setItem("reditn",k.optimisedData())};k.init=function(){var a=e.Browser.getLocalStorage().getItem("reditn");if(null!=a){var b;try{b=g.Unserializer.run(a)}catch(c){b=k.data}k.data=b}k.fixMissing();a=e.Browser.document.getElementById("header-bottom-right");b=a.getElementsByTagName("ul")[0];var d=e.Browser.document.createElement("a");d.innerHTML="reditn";d.className=
"pref-lang";d.href="javascript:void(0);";d.onclick=function(){k.settingsPopUp()};null==b?a.appendChild(d):a.insertBefore(d,b);d=e.Browser.document.createElement("span");d.innerHTML=" | ";d.className="seperator";d.style.fontWeight="none";a.insertBefore(d,b)};k.settingsPopUp=function(){var a=e.Browser.document.getElementById("reditn-config");null!=a&&a.parentElement.removeChild(a);var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("h1");b.innerHTML="Reditn settings";a.appendChild(b);
j.fullPopUp(a);var c=e.Browser.document.createElement("form");c.id="reditn-config";c.action="javascript:void(0);";c.onchange=function(){for(var a=c.childNodes,b=0;b<a.length;){var d=a[b];++b;if("button"!=d.type&&"input"==d.nodeName.toLowerCase()){var f=void 0;switch(d.type.toLowerCase()){case "checkbox":f=d.checked;break;default:f=d.value}k.data.set(d.name,f)}}k.save()};b=e.Browser.document.createElement("input");b.type="button";b.value="Restore default settings";b.onclick=function(){k.fixMissing(!0);
k.save();k.settingsPopUp()};c.appendChild(b);b=k.makeButton("Export settings to text",function(){e.Browser.window.alert(e.Browser.window.btoa(k.optimisedData()))});c.appendChild(b);b=k.makeButton("Import settings",function(){k.data=g.Unserializer.run(e.Browser.window.atob(e.Browser.window.prompt("Settings to import",e.Browser.window.btoa(k.optimisedData()))));k.fixMissing();k.save();k.settingsPopUp()});c.appendChild(b);c.appendChild(e.Browser.document.createElement("br"));for(b=k.data.keys();b.hasNext();){var d=
b.next(),f=k.data.get(d);if(!e.Boot.__instanceof(f,g.ds.StringMap)&&k.DESC.exists(d)){var q=k.DESC.get(d),h=e.Browser.document.createElement("label");h.setAttribute("for",d);h.style.position="absolute";h.style.width="46%";h.style.textAlign="right";h.innerHTML=""+q+" ";c.appendChild(h);q=e.Browser.document.createElement("input");q.style.position="absolute";q.style.left="54%";q.style.textAlign="left";q.style.width="46%";q.name=d;c.appendChild(q);c.appendChild(e.Browser.document.createElement("br"));
q.type=e.Boot.__instanceof(f,U)?"checkbox":e.Boot.__instanceof(f,String)?"text":e.Boot.__instanceof(f,Date)?"datetime":e.Boot.__instanceof(f,Y)?"number":null;e.Boot.__instanceof(f,U)?q.checked=k.data.get(d):q.value=k.data.get(d)}}b=e.Browser.document.createElement("div");b.style.fontWeight="bold";b.innerHTML="Close this dialog and refresh the page to see your changes in effect. Changes will be saved automatically.";c.appendChild(b);a.appendChild(c)};k.makeButton=function(a,b){var c=e.Browser.document.createElement("input");
c.type="button";c.value=a;c.onclick=b;return c};k.fixMissing=function(a){null==a&&(a=!1);for(var b=k.DEFAULTS.keys();b.hasNext();){var c=b.next();if(a||!k.data.exists(c))k.data.set(c,e.Boot.__instanceof(k.DEFAULTS.get(c),g.ds.StringMap)?new g.ds.StringMap:k.DEFAULTS.get(c))}};var S=function(){};r.Style=S;S.__name__=["Style"];S.init=function(){var a=e.Browser.document.createElement("style");a.innerHTML='.expando-button.image.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.collapsed {\n\tpadding: 0px;\n}\np .expando-button {\n\tdisplay: inline-block;\n\tfloat: none;\n\tmargin: 0px;\n\tpadding: 0px;\n}\ndl.reditn-table  {\n\tfloat: left;\n\twidth: 100%;\n\tpadding: 0;\n}\n.reditn-table dt {\n\tclear: left;\n\tfloat: left;\n\twidth: 16%;\n\tfont-weight: bold;\n\ttext-align: right;\n}\n.reditn-table dd {\n\tfloat: left;\n\ttext-align: left;\n}';
e.Browser.document.head.appendChild(a)};var K=function(){};r.SubredditInfo=K;K.__name__=["SubredditInfo"];K.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=K._onMouseOverSubreddit}};K._onMouseOverSubreddit=function(a){a=a.target;var b=a.innerHTML,c=e.Browser.document.createElement("div");j.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/r/"+b+"/about.json",function(a){var f=j.formatNumber(a.subscribers),
e=j.formatNumber(a.accounts_active),g=C.parse(a.public_description);a=j.age(a.created_utc);var m="<b>Name:</b> "+b+" <br>",h=k.data.get("sub-tags");h.exists(b)&&(m+="<b>Tag:</b> "+h.get(b)+"<br>");m=m+("<b>Subscribers:</b> "+f+" <br>")+("<b>Active Users:</b> "+e+" <br>");m+="<b>Description:</b> "+g+" <br>";m+="<b>Age:</b> "+a+" <br>";c.innerHTML=m})};var N=function(){};r.SubredditTagger=N;N.__name__=["SubredditTagger"];N.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),
b=0;b<a.length;){var c=a[b];++b;N.getTag(c)}};N.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("sub-tags").exists(c)?k.data.get("sub-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),
b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("sub-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};var T=function(){};r.TextExpand=
T;T.__name__=["TextExpand"];T.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-body"),b=0;b<a.length;){var c=a[b];++b;for(var c=e.Boot.__cast(c,Element).getElementsByClassName("md")[0].getElementsByTagName("a"),d=0;d<c.length;){var f=c[d];++d;y.createButton(f.href,f.parentElement,f)}}};var w=r.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};w.TNull=["TNull",0];w.TNull.toString=G;w.TNull.__enum__=
w;w.TInt=["TInt",1];w.TInt.toString=G;w.TInt.__enum__=w;w.TFloat=["TFloat",2];w.TFloat.toString=G;w.TFloat.__enum__=w;w.TBool=["TBool",3];w.TBool.toString=G;w.TBool.__enum__=w;w.TObject=["TObject",4];w.TObject.toString=G;w.TObject.__enum__=w;w.TFunction=["TFunction",5];w.TFunction.toString=G;w.TFunction.__enum__=w;w.TClass=function(a){a=["TClass",6,a];a.__enum__=w;a.toString=G;return a};w.TEnum=function(a){a=["TEnum",7,a];a.__enum__=w;a.toString=G;return a};w.TUnknown=["TUnknown",8];w.TUnknown.toString=
G;w.TUnknown.__enum__=w;var B=function(){};r.Type=B;B.__name__=["Type"];B.getClassName=function(a){return a.__name__.join(".")};B.getEnumName=function(a){return a.__ename__.join(".")};B.resolveClass=function(a){a=r[a];return null==a||!a.__name__?null:a};B.resolveEnum=function(a){a=r[a];return null==a||!a.__ename__?null:a};B.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};B.createEnum=function(a,b,c){var d=z.field(a,b);if(null==d)throw"No such constructor "+b;if(z.isFunction(d)){if(null==
c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};B.getEnumConstructs=function(a){return a.__constructs__.slice()};B["typeof"]=function(a){switch(typeof a){case "boolean":return w.TBool;case "string":return w.TClass(String);case "number":return Math.ceil(a)==a%2147483648?w.TInt:w.TFloat;case "object":if(null==a)return w.TNull;var b=a.__enum__;if(null!=b)return w.TEnum(b);a=a.__class__;return null!=a?w.TClass(a):
w.TObject;case "function":return a.__name__||a.__ename__?w.TObject:w.TFunction;case "undefined":return w.TNull;default:return w.TUnknown}};var L=function(){};r.UserInfo=L;L.__name__=["UserInfo"];L.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=L._onMouseOverUser}};L._onMouseOverUser=function(a){a=a.target;var b=a.innerHTML,b=l.substr(b,b.lastIndexOf("/")+1,null),c=e.Browser.document.createElement("div");j.popUp(a,c,
a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/user/"+b+"/about.json",function(a){var b=a.name,e=j.age(a.created_utc),g=j.formatNumber(a.link_karma),h=j.formatNumber(a.comment_karma),l="<b>User:</b> "+b+"<br>",p=k.data.get("user-tags");p.exists(b)&&(l+="<b>Tag:</b> "+p.get(b)+"<br>");l=l+("<b>Account age:</b> "+e+"<br>")+("<b>Karma:</b> "+g+" link karma, "+h+" comment karma");a.is_mod&&(l+="<br><b>Moderator</b>");a.is_gold&&(l+="<br><b>Gold</b>");c.innerHTML=l})};var M=function(){};r.UserTagger=
M;M.__name__=["UserTagger"];M.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;M.getTag(c)}};M.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("user-tags").exists(c)?k.data.get("user-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";
g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("user-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+
g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};r.XmlType={__ename__:["XmlType"],__constructs__:[]};g.Serializer=function(){this.buf=new H;this.cache=[];this.useCache=g.Serializer.USE_CACHE;this.useEnumIndex=g.Serializer.USE_ENUM_INDEX;this.shash=new g.ds.StringMap;this.scount=0};r["haxe.Serializer"]=g.Serializer;g.Serializer.__name__=["haxe","Serializer"];g.Serializer.run=function(a){var b=new g.Serializer;b.serialize(a);return b.toString()};g.Serializer.prototype={serialize:function(a){var b=
B["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=u.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=u.string(a)):this.buf.b+=u.string(0>a?"m":"p");break;case 3:this.buf.b+=u.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var d=a.length,f=0;f<d;)b=f++,
null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=u.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=u.string(c)));this.buf.b+="h";break;case O:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=u.string(l.dateStr(a));break;case g.ds.StringMap:this.buf.b+="b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));
this.buf.b+="h";break;case g.ds.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=u.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case g.ds.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=c.next(),d=z.field(b,"__id__"),z.deleteField(b,"__id__"),this.serialize(b),b.__id__=d,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case g.io.Bytes:b=0;c=a.length-2;d=new H;for(f=g.Serializer.BASE64;b<c;){var e=a.b[b++],h=a.b[b++],j=a.b[b++];d.b+=u.string(f.charAt(e>>
2));d.b+=u.string(f.charAt((e<<4|h>>4)&63));d.b+=u.string(f.charAt((h<<2|j>>6)&63));d.b+=u.string(f.charAt(j&63))}b==c?(e=a.b[b++],h=a.b[b++],d.b+=u.string(f.charAt(e>>2)),d.b+=u.string(f.charAt((e<<4|h>>4)&63)),d.b+=u.string(f.charAt(h<<2&63))):b==c+1&&(e=a.b[b++],d.b+=u.string(f.charAt(e>>2)),d.b+=u.string(f.charAt(e<<4&63)));b=d.b;this.buf.b+="s";this.buf.b+=u.string(b.length);this.buf.b+=":";this.buf.b+=u.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(B.getClassName(b)),
this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(B.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=u.string(this.useEnumIndex?"j":"w");this.serializeString(B.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=u.string(a[1])):this.serializeString(a[0]);
this.buf.b+=":";d=a.length;this.buf.b+=u.string(d-2);for(f=2;f<d;)b=f++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+u.string(a);}},serializeFields:function(a){for(var b=0,c=z.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(z.field(a,d))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var f=c++,e=this.cache[f];if(typeof e==b&&e==a)return this.buf.b+="r",
this.buf.b+=u.string(f),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=u.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=p.urlEncode(a),this.buf.b+=u.string(a.length),this.buf.b+=":",this.buf.b+=u.string(a))},toString:function(){return this.buf.b},__class__:g.Serializer};g.Timer=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};r["haxe.Timer"]=g.Timer;g.Timer.__name__=["haxe","Timer"];g.Timer.delay=
function(a,b){var c=new g.Timer(b);c.run=function(){c.stop();a()};return c};g.Timer.stamp=function(){return(new Date).getTime()/1E3};g.Timer.prototype={run:function(){console.log("run")},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:g.Timer};g.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=g.Unserializer.DEFAULT_RESOLVER;null==a&&(a=B,g.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};r["haxe.Unserializer"]=
g.Unserializer;g.Unserializer.__name__=["haxe","Unserializer"];g.Unserializer.initCodes=function(){for(var a=[],b=0,c=g.Unserializer.BASE64.length;b<c;){var d=b++;a[g.Unserializer.BASE64.charCodeAt(d)]=d}return a};g.Unserializer.run=function(a){return(new g.Unserializer(a)).unserialize()};g.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return u.parseFloat(l.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=l.substr(this.buf,this.pos,b);this.pos+=b;a=p.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=
this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();
a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=B.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+
b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new O;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new g.ds.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new g.ds.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);
if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new g.ds.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=l.strDate(l.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";d=g.Unserializer.CODES;null==d&&(d=g.Unserializer.initCodes(),g.Unserializer.CODES=
d);for(var a=this.pos,f=b&3,e=a+(b-f),h=g.io.Bytes.alloc(3*(b>>2)+(2<=f?f-1:0)),j=0;a<e;){var k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)];h.b[j++]=(k<<2|n>>4)&255;k=d[c.charCodeAt(a++)];h.b[j++]=(n<<4|k>>2)&255;n=d[c.charCodeAt(a++)];h.b[j++]=(k<<6|n)&255}2<=f&&(k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)],h.b[j++]=(k<<2|n>>4)&255,3==f&&(k=d[c.charCodeAt(a++)],h.b[j++]=(n<<4|k>>2)&255));this.pos+=b;this.cache.push(h);return h;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==
a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return B.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return B.createEnum(a,b,d)},unserializeObject:function(a){for(;;){if(this.pos>=
this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!e.Boot.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},
resolveEnum:function(){return null}}:a},__class__:g.Unserializer};g.ds.IntMap=function(){this.h={}};r["haxe.ds.IntMap"]=g.ds.IntMap;g.ds.IntMap.__name__=["haxe","ds","IntMap"];g.ds.IntMap.__interfaces__=[x];g.ds.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return l.iter(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:g.ds.IntMap};g.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};r["haxe.ds.ObjectMap"]=g.ds.ObjectMap;
g.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];g.ds.ObjectMap.__interfaces__=[x];g.ds.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return l.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=++g.ds.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:g.ds.ObjectMap};g.io={};g.io.Bytes=function(a,b){this.length=a;this.b=b};r["haxe.io.Bytes"]=g.io.Bytes;g.io.Bytes.__name__=["haxe","io","Bytes"];
g.io.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new g.io.Bytes(a,b)};g.io.Bytes.prototype={__class__:g.io.Bytes};Array.prototype.indexOf?l.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0}:null;"undefined"!=typeof JSON&&(g.Json=JSON);String.prototype.__class__=r.String=String;String.__name__=["String"];Array.prototype.__class__=r.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=r.Date=Date;Date.__name__=["Date"];var Y=r.Int={__name__:["Int"]},
$=r.Dynamic={__name__:["Dynamic"]},Z=r.Float=Number;Z.__name__=["Float"];var U=r.Bool=Boolean;U.__ename__=["Bool"];var aa=r.Class={__name__:["Class"]},ba={};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;r.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};n.Element="element";n.PCData="pcdata";n.CData="cdata";n.Comment="comment";n.DocType="doctype";n.ProcessingInstruction=
"processingInstruction";n.Document="document";v.buttons=[];v.queue=0;t.keys=[];t.konami=[38,38,40,40,37,39,37,39,66,65];D.words=["wubba","mcwubber","dubba","dadubber"];D.filter=new h("[a-zA-Z]*","");j.fullPage=!0;A.regex=[{from:new h("\\[\\[Category:([^\\]]*)\\]\\]",""),to:""},{from:new h("\\[\\[([^\\]\n]*)\\|([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$2</a>'},{from:new h("\\[\\[([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$1</a>'},{from:new h("<gallery>(.|\n|\n\r)*</gallery>",
""),to:""},{from:new h("\\[\\[File:([^\\]]*)\\]\\]",""),to:""},{from:new h("(=*) ?(References|Gallery) ?\\1.*\\1?",""),to:""},{from:new h("{{spaced ndash}}",""),to:" - "},{from:new h("\\{\\{convert\\|([0-9]*)\\|([^\\|]*)([^\\}]*)\\}\\}",""),to:"$1 $2"},{from:new h("\\{\\{([^\\}]*)\\}\\}",""),to:""},{from:new h("\\{\\|(.|\n|\n\r)*\\|\\}",""),to:""},{from:new h("\\[([^ \\[\\]]*) ([^\\[\\]]*)\\]",""),to:""},{from:new h("'''([^']*)'''",""),to:"<b>$1</b>"},{from:new h("''([^']*)''",""),to:"<em>$1</em>"},
{from:new h("======([^=]*)======",""),to:"<h6>$1</h6>"},{from:new h("=====([^=]*)=====",""),to:"<h5>$1</h5>"},{from:new h("====([^=]*)====",""),to:"<h4>$1</h4>"},{from:new h("===([^=]*)===",""),to:"<h3>$1</h3>"},{from:new h("==([^=]*)==",""),to:"<h2>$1</h2>"},{from:new h("\n\\* ?([^\n]*)",""),to:"<li>$1</li>"},{from:new h("<ref>[^<>]*</ref>",""),to:""},{from:new h("\n\r?\n\r?",""),to:"<br>"},{from:new h("\n",""),to:""},{from:new h("<br><br>",""),to:"<br>"},{from:new h("\x3c!--Interwiki links--\x3e.*",
""),to:""},{from:new h("\\[\\]",""),to:""}];A.sections=new h("'=(=*)([^=]*)=\\\\1\n\r?(.|\n|\n\r)*(\\\\1)?'","");A.IMAGES=new h("(File:|img=|Image:)([^\\.\\|\\]\\}\\{\\[<>=]*)\\.(gif|jpg|jpeg|bmp|png|webp|svg|raw)(\\|([^\\)]*))?","");e.Browser.window="undefined"!=typeof window?window:null;e.Browser.document="undefined"!=typeof window?window.document:null;C.images=new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)","");C.regex=[{from:new h("(\\*\\*|__)([^\\1\n]*?)\\1",""),to:"<b>$2</b>"},{from:new h("(\\*|_)([^\\1\n]*?)\\1",
""),to:"<em>$2</em>"},{from:new h("^[\\*|+|-] (.*)$","m"),to:"<ul><li>$1</li></ul>"},{from:new h("</ul><ul>",""),to:""},{from:new h("\n> ([^\n\r]*)",""),to:"<blockquote>$1</blockquote>"},{from:new h("</blockquote>\n?\r?<blockquote>$",""),to:""},{from:new h("~~([^~]*?)~~",""),to:"<del>$1</del>"},{from:new h("\\^([^\\^]+)",""),to:"<sup>$1</sup>"},{from:new h(':"([^:"]*?)":',""),to:"<q>$1</q>"},{from:C.images,to:""},{from:new h("\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",""),to:'<a href="$2">$1</a>'},{from:new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",
""),to:""},{from:new h("(.*)\n\r?(==+)\n",""),to:"<h2>$1</h2>"},{from:new h("(.*)\n\r?((-|#)+)\n",""),to:"<h3>$1</h3>"},{from:new h("(```*)([^`]+)\\1","m"),to:"<code>$2</code>"},{from:new h("<pre>(.*)\n\n(.*)</pre>",""),to:"<pre>$1\n$2</pre>"},{from:new h("\n\n+",""),to:"<br>\n"}];C.header=new h("^([#|=]+)([^#=]+)\\1?$","m");x=g.xml.Parser;E=new g.ds.StringMap;E.set("lt","<");E.set("gt",">");E.set("amp","&");E.set("quot",'"');E.set("apos","'");E.set("nbsp",String.fromCharCode(160));x.escapes=E;y.HTML_IMG=
new h('<img .*?src="([^"]*)"/?>',"");y.sites=[{regex:new h(".*\\.(jpeg|gif|jpg|bmp|png|webp)","i"),method:function(a,b){b([{url:"http://"+a.matched(0),caption:null,author:null}])}},{regex:new h("i?\\.?imgur.com/(a|gallery)/([^/]*)",""),method:function(a,b){var c=a.matched(2),d;switch(a.matched(1).toLowerCase()){case "a":d="album";break;case "gallery":d="gallery/album";break;default:d="album"}j.getJSON("https://api.imgur.com/3/"+d+"/"+c,function(a){var c=[];if(0>=a.images_count)c.push({url:"http://i.imgur.com/"+
a.id+".jpg",caption:a.title,author:a.account_url});else for(var d=0,e=a.images;d<e.length;){var g=e[d];++d;c.push({url:"http://i.imgur.com/"+g.id+".jpg",caption:g.title,author:a.account_url})}b(c)},"Client-ID cc1f254578d6c52")}},{regex:new h("imgur\\.com/(r/[^/]*/)?([a-zA-Z0-9,]*)",""),method:function(a,b){for(var c=(null==a.matched(1)||-1!=a.matched(1).indexOf("/")?a.matched(2):a.matched(1)).split(","),d=[],f=0;f<c.length;){var e=c[f];++f;d.push({url:"http://i.imgur.com/"+e+".jpg",caption:null,author:null})}b(d)}},
{regex:new h("(qkme\\.me|quickmeme\\.com/meme|m\\.quickmeme.com/meme)/([^/]*)",""),method:function(a,b){b([{url:"http://i.qkme.me/"+a.matched(2)+".jpg",caption:null,author:null}])}},{regex:new h("memecrunch.com/meme/([^/]*)/([^/]*)",""),method:function(a,b){b([{url:"http://"+a.matched(0)+"/image.png",caption:null,author:null}])}},{regex:new h("memegenerator\\.net/instance/([^/]*)",""),method:function(a,b){b([{url:"http://cdn.memegenerator.net/instances/400x/"+a.matched(1)+".jpg",caption:null,author:null}])}},
{regex:new h("imgflip\\.com/i/([^/]*)",""),method:function(a,b){b([{url:"http://i.imgflip.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("what-if.xkcd.com/([0-9]*)",""),method:function(){}},{regex:new h("xkcd.com/([0-9]*)",""),method:function(a,b){j.getJSON("http://www.xkcd.com/"+a.matched(1)+"/info.0.json",function(a){b([{url:a.img,caption:a.title,author:null}])})}},{regex:new h("explosm.net/comics/([0-9]*)",""),method:function(a,b){j.getText("http://www."+a.matched(0),function(c){var d=
new h('"http://www\\.explosm\\.net/db/files/Comics/([^"]*)"',"");if(d.match(c))b([{url:d.matched(0).substring(1,d.matched(0).length-1),caption:null,author:null}]);else throw""+u.string(d)+" not matched by "+a.matched(0)+" in "+c;},null,null,null)}},{regex:new h("livememe.com/([^/]*)",""),method:function(a,b){b([{url:"http://livememe.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("(([^\\.]*\\.)?deviantart\\.com/art|fav\\.me)/.*",""),method:function(a,b){j.getJSON("http://backend.deviantart.com/oembed?url="+
p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("flickr\\.com/photos/.*",""),method:function(a,b){j.getJSON("http://www.flickr.com/services/oembed/?url=http://www."+p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("ebay\\.([a-zA-Z\\.]*)/itm(/[^/]*)?/([0-9]*)",""),method:function(a,b){a.matched(1);var c="http://open.api.ebay.com/shopping?callname=GetSingleItem&responseencoding=JSON&appid=ThomasDa-1e6c-4d29-a156-85557acee70b&siteid=0&version=515&ItemID="+
a.matched(3)+"&IncludeSelector=TextDescription";j.getJSON(c,function(a){var c=a.Item.PictureURL.map(function(a){return{url:a,caption:null,author:null}});b({title:a.Item.Title,category:a.Item.PrimaryCategoryName,location:a.Item.Location+", "+a.Item.Country,description:y.filterHTML(a.Item.Description),images:c,price:j.formatPrice(a.Item.ConvertedCurrentPrice.Value)+" "+a.Item.ConvertedCurrentPrice.CurrencyID})})}},{regex:new h("([^\\.]*\\.wordpress\\.com|wp\\.me|techcrunch\\.com|news\\.blogs\\.cnn\\.com|snoopdogg\\.com|usainbolt\\.com|katiecouric\\.com|rollingstones\\.com|variety\\.com|bbcamerica\\.com)/(.*)?",
""),method:function(a,b){var c="http://"+a.matched(0);j.getJSON("http://public-api.wordpress.com/oembed/?url="+p.urlEncode(c)+"&for=Reditn",function(a){var c=[];null!=a.thumbnail_url&&c.push({caption:null,url:a.thumbnail_url,author:null});b({author:a.author_name,content:y.filterHTML(a.html),images:c})})}},{regex:new h("(.*)/wiki/([^#]*)(#.*)?",""),method:function(a,b){var c="http://"+a.matched(1),d=a.matched(2),f=a.matched(3);null!=f&&(f=p.trim(l.substr(f,1,null)));null!=f&&0==f.length&&(f=null);
var e=c;p.endsWith(e,".wikia.com")||(e+="/w");var g=null,g=function(a){j.getJSON(""+e+"/api.php?format=json&prop=revisions&action=query&titles="+a+"&rvprop=content",function(a){a=a.query.pages;for(var d=0,h=z.fields(a);d<h.length;){var m=h[d];++d;var m=[z.field(a,m)],k=[z.field(m[0].revisions[0],"*")];if(p.startsWith(k[0],"#REDIRECT [[")){g(k[0].substring(12,k[0].lastIndexOf("]]")));break}var n=[A.getAlbum(k[0])];null!=f&&(k[0]=A.trimTo(k[0],f));k[0]=A.parse(k[0],c);if(0<n[0].length)for(var r=[[]],
t=0;t<n[0].length;){var v=[n[0][t]];++t;j.getJSON(""+e+"/api.php?action=query&titles="+p.urlEncode(v[0].url)+"&prop=imageinfo&iiprop=url&format=json",function(a,c,d,f,e){return function(g){g=g.query.pages;for(var h=0,j=z.fields(g);h<j.length;){var m=j[h];++h;m=z.field(g,m);null!=m&&null!=m.imageinfo?c[0].push({url:m.imageinfo[0].url,caption:a[0].caption,author:null}):(console.log("Error whilst processing "+u.string(m)+" for "+a[0].url),l.remove(d[0],a[0]))}c[0].length>=d[0].length&&b({title:e[0].title,
content:f[0],author:null,images:c[0]})}}(v,r,n,k,m))}else b({title:m[0].title,content:k[0],author:null,images:null})}})};g(d)}},{regex:new h("github\\.com/([^/]*)/([^/]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2);j.getJSON("https://api.github.com/repos/"+c+"/"+d+"/readme?client_id=39d85b9ac427f1176763&client_secret=5117570b83363ca0c71a196edc5b348af150c25d",function(a){if(null!=a.content){a=a.content;a=p.replace(a,"\n","");a=p.trim(a);a=e.Browser.window.atob(a);for(var g=C.images,
h=[],j=a;g.match(j);){var k=g.matched(2);k.indexOf(".")==k.lastIndexOf(".")&&(p.startsWith(k,"/")&&(k=l.substr(k,1,null)),k="https://github.com/"+c+"/"+d+"/raw/master/"+k);h.push({url:k,caption:g.matched(1),author:c});j=l.substr(j,g.matchedPos().pos+g.matchedPos().len,null)}b({name:d,developers:[c],description:C.parse(a),url:"git://github.com/"+c+"/"+d+".git",album:h})}})}},{regex:new h("sourceforge.net/projects/([a-zA-Z-]*)",""),method:function(a,b){j.getJSON("http://sourceforge.net/api/project/name/"+
a.matched(1)+"/json",function(a){a=a.Project;for(var d=a.developers,f=a.name,e=a.description,g=[],h=0;h<d.length;)++h,g.push(a.name);for(var j=z.field(a,"download-page"),d=0,h=z.fields(a);d<h.length;){var k=h[d];++d;p.endsWith(k,"Repository")&&(j=l.substr(k,0,k.length-10).toLowerCase(),k=z.field(a,k).location,j=p.replace(k,"http:",""+j+":"))}b({name:f,description:e,developers:g,url:j,album:[]})})}},{regex:new h("(digitaltrends\\.com|webupd8\\.org|doctorwho\\.tv)/.*",""),method:function(a,b){j.getText("http://www."+
a.matched(0),function(a){var d=new h("<title>(.*)</title>","");d.match(a)&&(a=l.substr(a,a.indexOf("<article"),null),a=l.substr(a,a.indexOf(">")+1,null),a=l.substr(a,0,a.indexOf("</article>")),a=y.filterHTML(a),b({title:d.matched(1),content:a,author:null,images:[]}))},null,null,null)}},{regex:new h("([^\\.]*)\\.tumblr\\.com/(post|image)/([0-9]*)(/.*)?",""),method:function(a,b){var c=a.matched(1),d=a.matched(3);j.getJSON("http://api.tumblr.com/v2/blog/"+c+".tumblr.com/posts/json?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE&id="+
d,function(a){var c=a.posts[0];switch(c.type){case "text":for(var d=[];y.HTML_IMG.match(c.body);)d.push({url:y.HTML_IMG.matched(1),caption:null,author:a.blog.name}),c.body=y.HTML_IMG.replace(c.body,"");c.body=y.filterHTML(c.body);a={title:c.title,content:c.body,author:a.blog.name,images:d};break;case "quote":a={title:null,content:u.string(c.text)+"<br/><b>"+u.string(c.source)+"</b>",author:a.blog.name,images:[]};break;case "photo":for(var c=c.photos,d=[],e=0;e<c.length;){var g=c[e];++e;d.push({url:g.original_size.url,
caption:g.caption,author:a.blog.name})}a=d;break;default:a=null}b(a)})}},{regex:new h(".*\\.tumblr\\.com",""),method:function(a,b){j.getJSON("http://api.tumblr.com/v2/blog/"+p.urlEncode(a.matched(0))+"/info?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE",function(a){b({urls:new g.ds.StringMap,name:a.blog.title,description:y.filterHTML(a.blog.description),album:[]})})}},{regex:new h("twitter.com/.*/status/([0-9]*)",""),method:function(a,b){j.getJSON("https://api.twitter.com/1/statuses/oembed.json?id="+
a.matched(1),function(a){b({title:null,author:a.author_name,content:y.filterHTML(a.html),images:[]})})}},{regex:new h("amazon\\.[a-z\\.]*/gp/product/([0-9A-Z]*)",""),method:function(a){a=a.matched(1);j.getXML("http://webservices.amazon.com/onca/xml?AWSAccessKeyId=AKIAJMR3XPXGBMZJE6IA&Service=AWSECommerceService&Operation=ItemLookup&ItemId="+a,function(a){console.log(a)})}},{regex:new h("plus\\.google\\.com/([0-9]*)/posts/([a-zA-Z]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2),e=new h("<b>([^>]*)</b><br />",
""),g=null,g=function(h){j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"/activities/public?fields=items(id%2Curl)%2CnextPageToken&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o"+(null==h?"":"&requestToken="+h),function(c){var h=c.items;a.matched(0);for(var k=0;k<h.length;){var l=h[k];++k;if(-1!=l.url.indexOf(d)){j.getJSON("https://www.googleapis.com/plus/v1/activities/"+u.string(l.id)+"?fields=actor%2FdisplayName%2Cannotation%2Cobject(actor%2Cattachments%2Ccontent%2Cid%2CobjectType%2CoriginalContent%2Curl)&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",
function(a){var c=a.object.objectType,d=a.actor.actorName,g=a.object.content;e.match(g);switch(c){case "note":a=e.matched(1);g=e.replace(g,"");g=y.filterHTML(g);b({title:a,author:d,content:g,images:[]});break;default:d=a.object.attachments;g=[];for(c=0;c<d.length;){var h=d[c];++c;g.push({url:h.image.url,caption:0==h.content.length?a.object.content:h.content,author:null})}b(g)}});return}}0!=c.items.length&&g(c.requestToken)})};g()}},{regex:new h("facebook.com/photo\\.php\\?v=([0-9]*)",""),method:function(a,
b){a.matched(1);b([{caption:null,url:"http://graph.facebook.com/${id}/picture?type=small&access_token=CAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrCAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrf",author:null}])}},{regex:new h("facebook\\.com/([a-zA-Z0-9]*)",""),method:function(a,b){var c=
a.matched(1);b({album:[{url:"https://graph.facebook.com/"+c+"/picture?type=large",caption:null,author:null}],urls:new g.ds.StringMap})}},{regex:new h("plus\\.google.com/u?/?[0-9]*/([0-9]*)(/about)?",""),method:function(a,b){var c=a.matched(1);j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"?key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",function(a){var c=a.urls,e=new g.ds.StringMap;if(null!=c)for(var h=0;h<c.length;){var j=c[h];++h;e.set(j.label,j.value)}null!=a.urls&&(null!=a.displayName&&
null!=a.aboutMe)&&b({urls:e,name:a.displayName,description:a.aboutMe,album:[{url:a.image.url,caption:null,author:a.displayName}]})})}},{regex:new h("reddit\\.com/r/([a-zA-Z0-9]*)",""),method:function(a,b){j.getJSON("http://www."+a.matched(0)+"/about.json",function(a){b(a)})}},{regex:new h("gamejolt.com/games/[^/]*/[^/]*/([0-9]*)",""),method:function(a){a=a.matched(1);j.getJSON("http://gamejolt.com/service/games/"+a+"?format=json",function(a){console.log(a)})}},{regex:new h("(0rz\\.tw|1link\\.in|1url\\.com|2\\.gp|2big\\.at|2tu\\.us|3\\.ly|307\\.to|4ms\\.me|4sq\\.com|4url\\.cc|6url\\.com|7\\.ly|a\\.gg|a\\.nf|aa\\.cx|abcurl\\.net|ad\\.vu|adf\\.ly|adjix\\.com|afx\\.cc|all\\.fuseurl\\.com|alturl\\.com|amzn\\.to|ar\\.gy|arst\\.ch|atu\\.ca|azc\\.cc|b23\\.ru|b2l\\.me|bacn\\.me|bcool\\.bz|binged\\.it|bit\\.ly|bizj\\.us|bloat\\.me|bravo\\.ly|bsa\\.ly|budurl\\.com|canurl\\.com|chilp\\.it|chzb\\.gr|cl\\.lk|cl\\.ly|clck\\.ru|cli\\.gs|cliccami\\.info|clickthru\\.ca|clop\\.in|conta\\.cc|cort\\.as|cot\\.ag|crks\\.me|ctvr\\.us|cutt\\.us|dai\\.ly|decenturl\\.com|dfl8\\.me|digbig\\.com|digg\\.com|disq\\.us|dld\\.bz|dlvr\\.it|do\\.my|doiop\\.com|dopen\\.us|easyuri\\.com|easyurl\\.net|eepurl\\.com|eweri\\.com|fa\\.by|fav\\.me|fb\\.me|fbshare\\.me|ff\\.im|fff\\.to|fire\\.to|firsturl\\.de|firsturl\\.net|flic\\.kr|flq\\.us|fly2\\.ws|fon\\.gs|freak\\.to|fuseurl\\.com|fuzzy\\.to|fwd4\\.me|fwib\\.net|g\\.ro\\.lt|gizmo\\.do|gl\\.am|go\\.9nl\\.com|go\\.ign\\.com|go\\.usa\\.gov|goo\\.gl|goshrink\\.com|gurl\\.es|hex\\.io|hiderefer\\.com|hmm\\.ph|href\\.in|hsblinks\\.com|htxt\\.it|huff\\.to|hulu\\.com|hurl\\.me|hurl\\.ws|icanhaz\\.com|idek\\.net|ilix\\.in|is\\.gd|its\\.my|ix\\.lt|j\\.mp|jijr\\.com|kl\\.am|klck\\.me|korta\\.nu|krunchd\\.com|l9k\\.net|lat\\.ms|liip\\.to|liltext\\.com|linkbee\\.com|linkbun\\.ch|liurl\\.cn|ln-s\\.net|ln-s\\.ru|lnk\\.gd|lnk\\.ms|lnkd\\.in|lnkurl\\.com|lru\\.jp|lt\\.tl|lurl\\.no|macte\\.ch|mash\\.to|merky\\.de|migre\\.me|miniurl\\.com|minurl\\.fr|mke\\.me|moby\\.to|moourl\\.com|mrte\\.ch|myloc\\.me|myurl\\.in|n\\.pr|nbc\\.co|nblo\\.gs|nn\\.nf|not\\.my|notlong\\.com|nsfw\\.in|nutshellurl\\.com|nxy\\.in|nyti\\.ms|o-x\\.fr|oc1\\.us|om\\.ly|omf\\.gd|omoikane\\.net|on\\.cnn\\.com|on\\.mktw\\.net|onforb\\.es|orz\\.se|ow\\.ly|ping\\.fm|pli\\.gs|pnt\\.me|politi\\.co|post\\.ly|pp\\.gg|profile\\.to|ptiturl\\.com|pub\\.vitrue\\.com|qlnk\\.net|qte\\.me|qu\\.tc|qy\\.fi|r\\.im|rb6\\.me|read\\.bi|readthis\\.ca|reallytinyurl\\.com|redir\\.ec|redirects\\.ca|redirx\\.com|retwt\\.me|ri\\.ms|rickroll\\.it|riz\\.gd|rt\\.nu|ru\\.ly|rubyurl\\.com|rurl\\.org|rww\\.tw|s4c\\.in|s7y\\.us|safe\\.mn|sameurl\\.com|sdut\\.us|shar\\.es|shink\\.de|shorl\\.com|short\\.ie|short\\.to|shortlinks\\.co\\.uk|shorturl\\.com|shout\\.to|show\\.my|shrinkify\\.com|shrinkr\\.com|shrt\\.fr|shrt\\.st|shrten\\.com|shrunkin\\.com|simurl\\.com|slate\\.me|smallr\\.com|smsh\\.me|smurl\\.name|sn\\.im|snipr\\.com|snipurl\\.com|snurl\\.com|sp2\\.ro|spedr\\.com|srnk\\.net|srs\\.li|starturl\\.com|su\\.pr|surl\\.co\\.uk|surl\\.hu|t\\.cn|t\\.co|t\\.lh\\.com|ta\\.gd|tbd\\.ly|tcrn\\.ch|tgr\\.me|tgr\\.ph|tighturl\\.com|tiniuri\\.com|tiny\\.cc|tiny\\.ly|tiny\\.pl|tinylink\\.in|tinyuri\\.ca|tinyurl\\.com|tk\\.|tl\\.gd|tmi\\.me|tnij\\.org|tnw\\.to|tny\\.com|to\\.|to\\.ly|togoto\\.us|totc\\.us|toysr\\.us|tpm\\.ly|tr\\.im|tra\\.kz|trunc\\.it|twhub\\.com|twirl\\.at|twitclicks\\.com|twitterurl\\.net|twitterurl\\.org|twiturl\\.de|twurl\\.cc|twurl\\.nl|u\\.mavrev\\.com|u\\.nu|u76\\.org|ub0\\.cc|ulu\\.lu|updating\\.me|ur1\\.ca|url\\.az|url\\.co\\.uk|url\\.ie|url360\\.me|url4\\.eu|urlborg\\.com|urlbrief\\.com|urlcover\\.com|urlcut\\.com|urlenco\\.de|urli\\.nl|urls\\.im|urlshorteningservicefortwitter\\.com|urlx\\.ie|urlzen\\.com|usat\\.ly|use\\.my|vb\\.ly|vgn\\.am|vl\\.am|vm\\.lc|w55\\.de|wapo\\.st|wapurl\\.co\\.uk|wipi\\.es|wp\\.me|x\\.vu|xr\\.com|xrl\\.in|xrl\\.us|xurl\\.es|xurl\\.jp|y\\.ahoo\\.it|yatuc\\.com|ye\\.pe|yep\\.it|yfrog\\.com|yhoo\\.it|yiyd\\.com|youtu\\.be|yuarel\\.com|z0p\\.de|zi\\.ma|zi\\.mu|zipmyurl\\.com|zud\\.me|zurl\\.ws|zz\\.gd|zzang\\.kr|r\\.ebay\\.com)/.*",
""),method:function(a,b){var c=p.urlEncode("http://"+a.matched(0));j.getJSON("http://api.longurl.org/v2/expand?url="+c+"&format=json&User-Agent=Reditn",function(a){a=z.field(a,"long-url");a=y.resolve(a);null!=a&&a.method(a.regex,b)})}}];y.HTML_FILTERS=[y.HTML_IMG,new h("<meta[^>]*/>","g"),new h("<(h1|header)[^>]*>.*</\\1>","g"),new h("<table([^>]*)>(.|\n|\n\r)*</table>","gm"),new h('<div class="(seperator|ga-ads)"[^>]*>(.|\n|\n\r)*</div>',"g"),new h("<([^>]*)( [^>]*)?></\\1>","g"),new h("<script[^>/]*/>",
"g"),new h("<script[^>/]*>\x3c/script>","g"),new h('style ?= ?"[^"]*"',"g")];y.HTML_CLEANERS=[{from:new h('<blockquote class="twitter-tweet">(.*)</blockquote>',"g"),to:"$1"},{from:new h("(!|\\.|,|\\?)(^ \n\t\r)","g"),to:"$1 $2"},{from:new h("(!|\\.|,|\\?)( *)","g"),to:"$1 "},{from:new h("(<br></br>|<br/>|<br />)(<br></br>|<br/>|<br />)","g"),to:"<br/>"}];x=new g.ds.StringMap;x.set("adblock","Block advertisements and sponsors");x.set("userinfo","Show information about a user upon hover");x.set("subinfo",
"Show information about a subreddit upon hover");x.set("expand","Allow expansion of images, articles, etc");x.set("text-expand","Allow expansion of images, articles etc found in comments and posts for easy viewing");x.set("dup-hider","Hide duplicate links");x.set("user-tag","Tag users");x.set("sub-tag","Tag subreddits");x.set("preview","Preview comments and posts");x.set("keys","Keyboard shortcuts");x.set("nsfw-filter","Hide NSFW content");k.DESC=x;x=new g.ds.StringMap;x.set("adblock",!0);x.set("userinfo",
!0);x.set("subinfo",!0);x.set("expand",!0);x.set("dup-hider",!0);x.set("text-expand",!0);x.set("user-tag",!0);x.set("sub-tag",!0);x.set("preview",!0);x.set("keys",!0);x.set("nsfw-filter",!1);x.set("user-tags",new g.ds.StringMap);x.set("sub-tags",new g.ds.StringMap);k.DEFAULTS=x;k.data=new g.ds.StringMap;g.Serializer.USE_CACHE=!1;g.Serializer.USE_ENUM_INDEX=!1;g.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.Unserializer.DEFAULT_RESOLVER=B;g.Unserializer.BASE64=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.ds.ObjectMap.count=0;j.main()})();
(function(){var r={},G=function(){return e.Boot.__string_rec(this,"")},I=function(){};r.Adblock=I;I.__name__=["Adblock"];I.init=function(){I.hideAll(e.Browser.document.body.getElementsByClassName("promoted"));I.hideAll(e.Browser.document.body.getElementsByClassName("infobar"));I.hideAll(e.Browser.document.body.getElementsByClassName("goldvertisement"));var a=e.Browser.document.getElementById("spotlight-help");null!=a&&j.show(a.parentNode.parentNode,!1);a=e.Browser.document.getElementById("ad-frame");
null!=a&&j.show(a,!1)};I.hideAll=function(a){for(var b=0,c=a.length;b<c;){var d=b++;j.show(a[d],!1)}};var P=function(){};r.DuplicateHider=P;P.__name__=["DuplicateHider"];P.init=function(){for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&(Q.has(a,d.href)?j.show(d.parentElement.parentElement.parentElement,!1):a.push(d.href))}};var h=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};r.EReg=h;h.__name__=["EReg"];h.prototype={replace:function(a,b){return a.replace(this.r,
b)},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:l.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;a=b}else{if(c=this.match(0>c?l.substr(a,b,null):l.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;a=c}return a},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,
this.r.s.length-a)},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return this.r.s.substr(0,this.r.m.index)},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:h};var v=function(){};r.Expand=v;v.__name__=["Expand"];v.init=function(){v.toggled="#showall"==e.Browser.window.location.hash;var a=e.Browser.document.getElementsByClassName("tabmenu")[0],
b=e.Browser.document.createElement("li");v.button=e.Browser.document.createElement("a");v.button.href="javascript:void(0);";v.refresh();v.button.onclick=function(){v.toggle(!v.toggled);e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,v.toggled?"#showall":"#")};b.appendChild(v.button);null!=a&&a.appendChild(b);a=0;for(b=j.links;a<b.length;){var c=b[a];++a;if("a"==c.nodeName.toLowerCase()){var d=c.parentElement.parentElement.parentElement.getElementsByClassName("entry")[0],c=y.createButton(c.href,
d);if(null==c)v.defaultButton(d);else{for(var f=0,q=d.getElementsByClassName("expando");f<q.length;){var X=q[f];++f;X.parentNode.removeChild(X)}d.appendChild(c);d.insertBefore(c,d.getElementsByClassName("tagline")[0])}}}};v.defaultButton=function(a){var b=!1,c=0;for(a=a.getElementsByClassName("expando-button");c<a.length;){var d=a[c];++c;b?d.parentNode.removeChild(d):(null!=d&&(b=v.adaptButton(d),b.toggle(v.toggled,!1),v.buttons.push(b)),b=!0)}};v.adaptButton=function(a){var b=e.Boot.__cast(a.parentElement.getElementsByTagName("a")[0],
HTMLAnchorElement).href;a.style.width=a.style.height="23px";return{toggled:function(){return-1!=a.className.indexOf("expanded")},toggle:function(b,d){var f=-1!=a.className.indexOf("expanded");if(b!=f)a.onclick(null);v.queue++;g.Timer.delay(function(){0<a.parentElement.getElementsByClassName("error").length?(a.onclick(null),a.onclick(null)):v.queue--},1E3*v.queue);d&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:b,element:a}};v.refresh=function(){if(null!=v.button){v.button.innerHTML=
""+(v.toggled?"hide":"show")+" all";for(var a=e.Browser.document.body.getElementsByClassName("nextprev"),b=0;b<a.length;){var c=a[b];++b;var d;d=void 0;d=[];for(var f=0,c=c.getElementsByTagName("a");f<c.length;){var q=c[f];++f;d.push(q)}for(f=0;f<d.length;)c=d[f],++f,"a"==c.nodeName.toLowerCase()&&(v.toggled&&-1==c.href.indexOf("#")?c.href+="#showall":!v.toggled&&-1!=c.href.indexOf("#")&&(c.href=l.substr(c.href,0,c.href.indexOf("#"))))}}};v.toggle=function(a){v.toggled=a;for(var b=0,c=v.buttons;b<
c.length;){var d=c[b];++b;d.toggle(a,!1)}v.refresh()};v.loadImage=function(a){var b=e.Browser.document.createElement("img");b.src=a;b.className="resize";v.initResize(b);var c=new g.Timer(30);c.run=function(){if(0<b.width&&0<b.height){c.stop();if(b.width>(0.7*e.Browser.window.innerWidth|0)){var a=b.height/b.width;b.width=0.7*e.Browser.window.innerWidth|0;b.height=b.width*a|0}b.height>(0.6*e.Browser.window.innerHeight|0)&&(a=b.width/b.height,b.height=0.6*e.Browser.window.innerHeight|0,b.width=b.height*
a|0)}};return b};v.initResize=function(a){var b=0,c=0,d=0,f=!1;a.addEventListener("mousedown",function(q){if(!q.altKey&&!q.ctrlKey&&!q.metaKey){f=!0;var e=a.getBoundingClientRect(),m=q.clientY-e.top;b=a.offsetWidth/(q.clientX-e.left);c=a.offsetHeight/m;d=a.offsetWidth/a.offsetHeight;q.preventDefault()}});a.addEventListener("mousemove",function(q){if(f){var e=a.getBoundingClientRect(),m=(q.clientX-e.left)*b,g=m/d,e=(q.clientY-e.top)*c,j=e*d;a.width=(g>e||m>j?m:j)|0;a.height=(g>e||m>j?g:e)|0;q.preventDefault()}});
a.addEventListener("dblclick",function(){a.width=a.naturalWidth;a.height=a.naturalHeight});a.addEventListener("mouseup",function(a){f=!1;a.preventDefault()});a.addEventListener("mouseout",function(a){f=!1;a.preventDefault()})};var l=function(){};r.HxOverrides=l;l.__name__=["HxOverrides"];l.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),f=a.getMinutes(),q=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>f?"0"+f:""+
f)+":"+(10>q?"0"+q:""+q)};l.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};l.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};l.substr=function(a,b,c){if(null!=b&&
0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};l.remove=function(a,b){for(var c=0,d=a.length;c<d;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};l.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var t=function(){};r.Keyboard=t;t.__name__=["Keyboard"];t.init=function(){e.Browser.document.onkeydown=function(a){t.keyDown(a.keyCode)}};t.unhighlight=
function(){if(null!=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).style.border=""};t.highlight=function(a){t.unhighlight();null!=t.current&&t.current+a<j.links.length&&(t.current+=a);if(null==t.current||null==(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))t.current=0;(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:
null).style.border="3px solid grey";(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).scrollIntoViewIfNeeded(!0)};t.show=function(a){null==a&&(a=!0);for(var b=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).getElementsByClassName("expando-button")[0],c=0,d=v.buttons;c<d.length;){var f=d[c];++c;if(f.element==b){f.toggle(a,!0);(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:
null).scrollIntoViewIfNeeded(!0);break}}};t.keyDown=function(a){for(t.keys.push(a);t.keys.length>t.konami.length;)l.remove(t.keys,t.keys[0]);for(var b=t.keys.length>=t.konami.length,c=0,d=t.keys.length;c<d;){var f=c++;if(t.keys[f]!=t.konami[f]){b=!1;break}}b&&D.run();switch(a){case 39:t.show(!0);break;case 37:t.show(!1);break;case 38:t.highlight(-1);break;case 40:t.highlight(1)}};var D=function(){};r.Konami=D;D.__name__=["Konami"];D.translate=function(a){for(var b=0;D.filter.matchSub(a,b);)b=D.filter.matchedPos(),
a=D.words[u.random(D.words.length)],console.log(a),b=b.pos+a.length,a=D.filter.matchedLeft()+a+D.filter.matchedRight();return a};D.run=function(){e.Browser.document.title="Dubbit - the back page of the wubbanet";for(var a=0,b=j.links;a<b.length;){var c=b[a];++a;c.innerHTML=D.translate(c.innerHTML)}a=0;for(b=e.Browser.document.body.getElementsByClassName("author");a<b.length;)c=b[a],++a,c.innerHTML="dubstep";a=0;for(b=e.Browser.document.body.getElementsByClassName("subreddit");a<b.length;)c=b[a],++a,
c.innerHTML="people with brains";a=0;for(b=e.Browser.document.body.getElementsByClassName("score");a<b.length;)c=b[a],++a,c.innerHTML="-&infin;";a=0;for(b=e.Browser.document.body.getElementsByTagName("p");a<b.length;)c=b[a],++a,"parent"!=c.className&&(c.innerHTML=D.translate(c.innerHTML))};var Q=function(){};r.Lambda=Q;Q.__name__=["Lambda"];Q.has=function(a,b){var c;if(a instanceof Array)c=function(){return l.iter(a)};else if("function"==typeof a.iterator){c=a.iterator;var d=function(){return d.method.apply(d.scope,
arguments)};d.scope=a;d.method=c;c=d}else c=a.iterator;for(c=c();c.hasNext();)if(c.next()==b)return!0;return!1};var j=function(){};r.Reditn=j;for(var x="undefined"!=typeof window?window:exports,E=["Reditn"],V=0;V<E.length-1;++V){var W=E[V];"undefined"==typeof x[W]&&(x[W]={});x=x[W]}x[E[E.length-1]]=j;j.__name__=["Reditn"];j.main=function(){switch(e.Browser.document.readyState){case "complete":j.init();break;default:e.Browser.window.onload=function(){j.init()}}};j.init=function(){if(-1!=e.Browser.window.location.href.indexOf("reddit.")){j.fullPage=
0<e.Browser.document.getElementsByClassName("tabmenu").length;j.links=e.Browser.document.body.getElementsByClassName("title");for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&"parent"!=d.parentElement.className&&a.push(d)}j.links=a;j.wrap(k.init);j.wrap(I.init,"adblock");j.wrap(P.init,"dup-hider");j.wrap(R.init,"nsfw-filter");S.init();j.wrap(v.init,"expand");j.wrap(T.init,"text-expand");j.wrap(t.init,"keys");j.wrap(J.init,"preview");j.wrap(K.init,"subinfo");j.wrap(L.init,
"userinfo");j.wrap(M.init,"user-tag");j.wrap(N.init,"sub-tag");e.Browser.window.history.replaceState(g.Serializer.run(j.state()),null,v.toggled?"#showall":null);e.Browser.window.onpopstate=function(a){a=a.state;if(null!=a){a=g.Unserializer.run(a);a.allExpanded!=v.toggled&&v.toggle(a.allExpanded);for(var b=0,c=v.buttons;b<c.length;){var d=c[b];++b;var e=a.expanded;e.exists(d.url)&&d.toggle(e.get(d.url),!1)}}}}};j.state=function(){for(var a=new g.ds.StringMap,b=0,c=v.buttons;b<c.length;){var d=c[b];
++b;d.toggled()!=v.toggled&&a.set(d.url,d.toggled())}return{allExpanded:v.toggled,expanded:a}};j.wrap=function(a,b){var c=null==b?null:k.data.get(b);(null==b||c)&&a()};j.formatNumber=function(a){if(Math.isFinite(a)){var b=u.string(Math.abs(a)),c;-1!=b.indexOf(".")?(c=l.substr(b,b.indexOf("."),null),b=l.substr(b,0,b.indexOf("."))):c="";if(3<=b.length){for(var d="",f=0,q=b.length;f<q;){var e=f++,d=d+b.charAt(e);0==(b.length-(e+1))%3&&e<b.length-1&&(d+=",")}b=d}a=(0>a?"-"+b:b)+c}else a=u.string(a);return a};
j.formatPrice=function(a){var b=j.formatNumber(a|0);a=u.string(a);for(a=-1==a.indexOf(".")?".":l.substr(a,a.indexOf("."),null);3>a.length;)a+="0";return""+b+a};j.show=function(a,b){a.style.display=b?"":"none";if(-1!=a.className.indexOf("link")&&!b){var c=a.getElementsByClassName("entry")[0];l.remove(j.links,c.getElementsByTagName("a")[0])}};j.age=function(a){if(86400>a)return"less than a day";a=g.Timer.stamp()-a;var b=a/86400%30.4375|0,c=a/2629800%12|0;a=a/2629800/12|0;var d="";0<a&&(d+=""+a+" year"+
(1>=a?"":"s"));0<c&&(d+=", "+c+" month"+(1>=c?"":"s"));d+=", "+b+" day"+(1>=b?"":"s");for(p.startsWith(d,", ")&&(d=l.substr(d,2,null));-1!=d.indexOf(", , ");)d=p.replace(d,", , ",", ");return d};j.embedAlbum=function(a){var b=e.Browser.document.createElement("span");b.style.textAlign="center";for(var c=[],d=0;d<a.length;){var f=a[d];++d;c.push(function(){var a=v.loadImage(f.url);a.title=(null!=f.caption?f.caption+" ":"")+(null!=f.author?"by "+f.author:"");b.appendChild(a);j.show(a,!1);return a}(this))}var q=
null,g=e.Browser.document.createElement("span");g.style.fontWeight="bold";g.style.marginLeft="10px";var m=0,h=null,F=null,l=null;1<a.length&&(h=e.Browser.document.createElement("button"),h.innerHTML="Prev",b.appendChild(h),F=e.Browser.document.createElement("span"),F.style.textAlign="center",F.style.paddingLeft=F.style.paddingRight="5px",b.appendChild(F),l=e.Browser.document.createElement("button"),l.innerHTML="Next",b.appendChild(l));if(1<a.length||null!=a[0].caption&&0<a[0].caption.length)b.appendChild(g),
b.appendChild(e.Browser.document.createElement("br"));var k=function(d){if(!(0>d||d>=a.length)){var f=a[d],e=null;null!=q&&(j.show(q,!1),e=u.parseInt(q.style.height));q=c[d];q.style.display="block";if(null!=e){var m=q.width/q.height;q.style.height=e+"px";q.style.width=(e*m|0)+"px"}b.appendChild(q);null!=h&&(e=j.formatNumber(a.length),m=j.formatNumber(d+1),F.innerHTML=""+m+" of "+e,h.disabled=0>=d,l.disabled=d>=a.length-1);j.show(g,null!=f.caption);null!=f.caption&&(g.innerHTML=p.htmlEscape(f.caption),
null!=f.author&&(g.innerHTML+=" <em>by "+f.author+"</em>"))}};k(0);null!=h&&(h.onmousedown=function(){k(--m)},l.onmousedown=function(){k(++m)});return b};j.getData=function(a){for(;null!=a.data;)a=a.data;for(;null!=a.response;)a=a.response;return a};j.getText=function(a,b,c,d,f){a=new g.Http(a);null!=c&&a.setHeader("Authorization",c);null!=d&&a.setHeader("Content-Type",d);a.onData=b;null!=f&&a.setPostData(f);a.request(null!=f)};j.embedMap=function(a){for(var b=e.Browser.document.createElement("dl"),
c=a.keys();c.hasNext();){var d=c.next();if(null!=a.get(d)&&0<a.get(d).length){var f=e.Browser.document.createElement("dt");f.innerHTML=d;b.appendChild(f);f=e.Browser.document.createElement("dd");f.innerHTML=a.get(d);b.appendChild(f)}}b.className="md reditn-table";return b};j.getJSON=function(a,b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){p.startsWith(a,"jsonFlickrApi(")&&p.endsWith(a,")")&&(a=a.substring(14,a.length-1));b(j.getData(g.Json.parse(a)))},c,d,f)};j.getXML=function(a,
b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){b(j.getData(n.parse(a)))},c,d,f)};j.popUp=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);e.Browser.document.body.appendChild(b);b.className="popup";b.style.position="absolute";b.style.width=(0.25*e.Browser.window.innerWidth|0)+"px";b.style.left=""+c+"px";b.style.top=""+(d-30)+"px";a.onmouseout=b.onblur=function(){b.parentElement.removeChild(b);a.mouseover=!1};return b};j.fullPopUp=function(a,b){null==b&&(b=0);var c=e.Browser.document.getElementsByClassName("popup")[0];
null!=c&&c.parentElement.removeChild(c);e.Browser.document.body.appendChild(a);c=e.Browser.document.createElement("a");c.style.position="absolute";c.style.right=c.style.top="5px";c.innerHTML="<b>Close</b>";c.href="javascript:void(0);";c.onclick=a.onblur=function(){a.parentElement.removeChild(a)};a.appendChild(c);a.className="popup";0!=b&&(a.style.top=""+(b-e.Browser.window.scrollY)+"px");return a};var p=function(){};r.StringTools=p;p.__name__=["StringTools"];p.urlEncode=function(a){return encodeURIComponent(a)};
p.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};p.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};p.startsWith=function(a,b){return a.length>=b.length&&l.substr(a,0,b.length)==b};p.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&l.substr(a,d-c,c)==b};p.isSpace=function(a,b){var c=l.cca(a,b);return 8<c&&14>c||32==c};p.ltrim=function(a){for(var b=
a.length,c=0;c<b&&p.isSpace(a,c);)c++;return 0<c?l.substr(a,c,b-c):a};p.rtrim=function(a){for(var b=a.length,c=0;c<b&&p.isSpace(a,b-c-1);)c++;return 0<c?l.substr(a,0,b-c):a};p.trim=function(a){return p.ltrim(p.rtrim(a))};p.replace=function(a,b,c){return a.split(b).join(c)};var g={Json:function(){}};r["haxe.Json"]=g.Json;g.Json.__name__=["haxe","Json"];g.Json.parse=function(a){return(new g.Json).doParse(a)};g.Json.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,d=!c,f=48==a,e=!1,g=
!1,m=!1,j=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:f&&!e&&this.invalidNumber(b);c&&(c=!1,f=!0);d=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f&&!e&&this.invalidNumber(b);c&&(c=!1);d=!0;f=!1;break;case 46:(c||e)&&this.invalidNumber(b);d=!1;e=!0;break;case 101:case 69:(c||f||g)&&this.invalidNumber(b);d=!1;g=!0;break;case 43:case 45:(!g||m)&&this.invalidNumber(b);d=!1;m=!0;break;default:d||this.invalidNumber(b),this.pos--,j=!0}if(j)break}a=u.parseFloat(l.substr(this.str,
b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+l.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new H;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\b";break;case 102:b.b+="\f";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);
break;case 117:a=u.parseInt("0x"+l.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;
case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),
a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=
this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:g.Json};g.Http=function(a){this.url=a;this.headers=new g.ds.StringMap;
this.params=new g.ds.StringMap;this.async=!0};r["haxe.Http"]=g.Http;g.Http.__name__=["haxe","Http"];g.Http.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=this;b.responseData=null;var c=e.Browser.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(b.responseData=c.responseText);else if(null==a)b.onError("Failed to connect or resolve host");
else switch(a){case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var f=this.postData;if(null!=f)a=!0;else for(var q=this.params.keys();q.hasNext();)var g=q.next(),f=null==f?"":f+"&",f=f+(p.urlEncode(g)+"="+p.urlEncode(this.params.get(g)));try{if(a)c.open("POST",this.url,this.async);else if(null!=f){var m=1>=this.url.split("?").length;c.open("GET",
this.url+(m?"?":"&")+f,this.async);f=null}else c.open("GET",this.url,this.async)}catch(j){this.onError(j.toString());return}null==this.headers.get("Content-Type")&&(a&&null==this.postData)&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)q=a.next(),c.setRequestHeader(q,this.headers.get(q));c.send(f);this.async||d(null)},setPostData:function(a){this.postData=a;return this},setHeader:function(a,b){this.headers.set(a,b);return this},__class__:g.Http};
x=function(){};r.IMap=x;x.__name__=["IMap"];g.ds={};g.ds.StringMap=function(){this.h={}};r["haxe.ds.StringMap"]=g.ds.StringMap;g.ds.StringMap.__name__=["haxe","ds","StringMap"];g.ds.StringMap.__interfaces__=[x];g.ds.StringMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return l.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:g.ds.StringMap};var u=
function(){};r.Std=u;u.__name__=["Std"];u.string=function(a){return e.Boot.__string_rec(a,"")};u.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==l.cca(a,1)||88==l.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};u.parseFloat=function(a){return parseFloat(a)};u.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var e={Boot:function(){}};r["js.Boot"]=e.Boot;e.Boot.__name__=["js","Boot"];e.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;
if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,f=a.length;d<f;)var q=d++,c=2!=q?c+(","+e.Boot.__string_rec(a[q],b)):c+e.Boot.__string_rec(a[q],b);return c+")"}d=a.length;c="[";b+="\t";for(f=0;f<d;)q=f++,c+=(0<q?",":"")+e.Boot.__string_rec(a[q],b);return c+"]"}try{f=a.toString}catch(g){return"???"}if(null!=f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;
f=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(f in a)if(!d||a.hasOwnProperty(f))"prototype"==f||("__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f)||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+e.Boot.__string_rec(a[f],b));b=b.substring(1);return c+="\n"+b+"}";case "function":return"<function>";case "string":return a;default:return String(a)}};e.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var q=
d++,q=c[q];if(q==b||e.Boot.__interfLoop(q,b))return!0}return e.Boot.__interfLoop(a.__super__,b)};e.Boot.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(e.Boot.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case Y:return Math.ceil(a%2147483648)===a;case Z:return"number"==typeof a;case U:return!0===a||!1===a;case String:return"string"==typeof a;case $:return!0;default:if(null==a)return!1;if(b==aa&&null!=a.__name__)return!0;null;if(b==
ba&&null!=a.__ename__)return!0;null;return a.__enum__==b}};e.Boot.__cast=function(a,b){if(e.Boot.__instanceof(a,b))return a;throw"Cannot cast "+u.string(a)+" to "+u.string(b);};var z=function(){};r.Reflect=z;z.__name__=["Reflect"];z.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};z.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};z.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&c.call(a,d)&&b.push(d)}return b};
z.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};z.deleteField=function(a,b){if(!z.hasField(a,b))return!1;delete a[b];return!0};var A,C;A=function(){};r["parser.MediaWiki"]=A;A.__name__=["parser","MediaWiki"];A.parse=function(a,b){for(var c=0,d=A.regex;c<d.length;){var f=d[c];++c;for(var e=0;f.from.match(a)&&64>e++;)a=f.from.replace(a,f.to),f.from.matchedPos()}a=p.replace(a,"$BASE",b);p.startsWith(a,"<br>")&&(a=l.substr(a,4,null));a.split("{{").length<a.split("}}").length&&
(a=l.substr(a,a.indexOf("}}")+2,null));return a};A.trimTo=function(a,b){b=p.trim(p.replace(b,"_"," "));for(var c={pos:0,len:0},d=null;A.sections.matchSub(a,c.pos+c.len);)if(c=A.sections.matchedPos(),p.trim(A.sections.matched(2))==p.trim(b)){d=A.sections.matched(1).length;break}null!=d&&(a=l.substr(a,c.pos+c.len,null),a=l.substr(a,0,a.indexOf("<h"+d+">")));return a};A.getAlbum=function(a){for(var b=[];A.IMAGES.match(a);){var c=A.IMAGES.matchedPos();a=l.substr(a,c.pos+c.len,null);c=A.IMAGES.matched(2)+
"."+A.IMAGES.matched(3);p.startsWith(c,"File:")&&(c=l.substr(c,5,null));b.push({url:c,caption:null,author:null})}return b};e.Browser=function(){};r["js.Browser"]=e.Browser;e.Browser.__name__=["js","Browser"];e.Browser.getLocalStorage=function(){try{var a=e.Browser.window.localStorage;a.getItem("");return a}catch(b){return null}};e.Browser.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");
throw"Unable to create XMLHttpRequest object.";};C=function(){};r["parser.Markdown"]=C;C.__name__=["parser","Markdown"];C.parse=function(a){for(;C.header.match(a);)C.header.matchedPos(),a=1+C.header.matched(1).length,6<a&&(a=6),a=C.header.matchedLeft()+("<h"+a+">"+C.header.matched(2)+"</h"+a+">")+C.header.matchedRight();for(var b=0,c=C.regex;b<c.length;){var d=c[b];for(++b;d.from.match(a);)a=d.from.replace(a,d.to)}return a};var n=function(){};r.Xml=n;n.__name__=["Xml"];n.parse=function(a){return g.xml.Parser.parse(a)};
n.createElement=function(a){var b=new n;b.nodeType=n.Element;b._children=[];b._attributes=new g.ds.StringMap;b.set_nodeName(a);return b};n.createPCData=function(a){var b=new n;b.nodeType=n.PCData;b.set_nodeValue(a);return b};n.createCData=function(a){var b=new n;b.nodeType=n.CData;b.set_nodeValue(a);return b};n.createComment=function(a){var b=new n;b.nodeType=n.Comment;b.set_nodeValue(a);return b};n.createDocType=function(a){var b=new n;b.nodeType=n.DocType;b.set_nodeValue(a);return b};n.createProcessingInstruction=
function(a){var b=new n;b.nodeType=n.ProcessingInstruction;b.set_nodeValue(a);return b};n.createDocument=function(){var a=new n;a.nodeType=n.Document;a._children=[];return a};n.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&l.remove(a._parent._children,a);a._parent=this;this._children.push(a)},exists:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=n.Element)throw"bad nodeType";
this._attributes.set(a,b)},set_nodeValue:function(a){if(this.nodeType==n.Element||this.nodeType==n.Document)throw"bad nodeType";return this._nodeValue=a},set_nodeName:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName},__class__:n};g.xml={};g.xml.Parser=function(){};r["haxe.xml.Parser"]=g.xml.Parser;g.xml.Parser.__name__=["haxe","xml","Parser"];g.xml.Parser.parse=function(a){var b=
n.createDocument();g.xml.Parser.doParse(a,0,b);return b};g.xml.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,f=1,e=1,j=null,m=0,h=0,F=0,s=a.charCodeAt(b),p=new H;s==s;){switch(f){case 0:switch(s){case 10:case 13:case 9:case 32:break;default:f=e;continue}break;case 1:switch(s){case 60:f=0;e=2;break;default:m=b;f=13;continue}break;case 13:60==s?(f=n.createPCData(p.b+l.substr(a,m,b-m)),p=new H,c.addChild(f),h++,f=0,e=2):38==s&&(p.addSub(a,m,b-m),f=18,e=13,m=b+1);break;case 17:93==s&&(93==
a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(f=n.createCData(l.substr(a,m,b-m)),c.addChild(f),h++,b+=2,f=1);break;case 2:switch(s){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=l.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;f=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=l.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;f=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;f=15}m=b+1;break;case 63:f=14;m=b;break;
case 47:if(null==c)throw"Expected node name";m=b+1;f=0;e=10;break;default:f=3;m=b;continue}break;case 3:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(b==m)throw"Expected node name";d=n.createElement(l.substr(a,m,b-m));c.addChild(d);f=0;e=4;continue}break;case 4:switch(s){case 47:f=11;h++;break;case 62:f=9;h++;break;default:f=5;m=b;continue}break;case 5:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected attribute name";
j=l.substr(a,m,b-m);if(d.exists(j))throw"Duplicate attribute";f=0;e=6;continue}break;case 6:switch(s){case 61:f=0;e=7;break;default:throw"Expected =";}break;case 7:switch(s){case 34:case 39:f=8;m=b;break;default:throw'Expected "';}break;case 8:s==a.charCodeAt(m)&&(e=l.substr(a,m+1,b-m-1),d.set(j,e),f=0,e=4);break;case 9:m=b=g.xml.Parser.doParse(a,b,d);f=1;break;case 11:switch(s){case 62:f=1;break;default:throw"Expected >";}break;case 12:switch(s){case 62:return 0==h&&c.addChild(n.createPCData("")),
b;default:throw"Expected >";}case 10:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected node name";if(l.substr(a,m,b-m)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";f=0;e=12;continue}break;case 15:45==s&&(45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(c.addChild(n.createComment(l.substr(a,m,b-m))),b+=2,f=1);break;case 16:91==s?F++:93==s?F--:62==s&&0==F&&(c.addChild(n.createDocType(l.substr(a,m,b-m))),f=1);break;case 14:63==s&&62==a.charCodeAt(b+
1)&&(b++,f=l.substr(a,m+1,b-m-2),c.addChild(n.createProcessingInstruction(f)),f=1);break;case 18:59==s&&(m=l.substr(a,m,b-m),35==m.charCodeAt(0)?(m=120==m.charCodeAt(1)?u.parseInt("0"+l.substr(m,1,m.length-1)):u.parseInt(l.substr(m,1,m.length-1)),p.b+=u.string(String.fromCharCode(m))):p.b=g.xml.Parser.escapes.exists(m)?p.b+u.string(g.xml.Parser.escapes.get(m)):p.b+u.string("&"+m+";"),m=b+1,f=e)}s=a.charCodeAt(++b)}1==f&&(m=b,f=13);if(13==f)return(b!=m||0==h)&&c.addChild(n.createPCData(p.b+l.substr(a,
m,b-m))),b;throw"Unexpected end";};var H=function(){this.b=""};r.StringBuf=H;H.__name__=["StringBuf"];H.prototype={addSub:function(a,b,c){this.b+=null==c?l.substr(a,b,null):l.substr(a,b,c)},__class__:H};var y=function(){};r.Link=y;y.__name__=["Link"];y.resolve=function(a){a=y.trimURL(a);for(var b=0,c=y.sites;b<c.length;){var d=c[b];++b;try{if(d.regex.match(a)&&d.regex.matchedPos().len==a.length)return d}catch(f){console.log("Error "+u.string(f)+" whilst processing regex "+u.string(d.regex))}}return null};
y.trimURL=function(a){p.startsWith(a,"http://")?a=l.substr(a,7,null):p.startsWith(a,"https://")&&(a=l.substr(a,8,null));p.startsWith(a,"www.")?a=l.substr(a,4,null):p.startsWith(a,"m.")&&(a=l.substr(a,2,null));-1!=a.indexOf("&")&&(a=l.substr(a,0,a.indexOf("&")));-1!=a.indexOf("?")&&!p.startsWith(a,"facebook.com/")&&(a=l.substr(a,0,a.indexOf("?")));-1!=a.indexOf("#")&&-1==a.indexOf("/wiki/")&&(a=l.substr(a,0,a.indexOf("#")));p.endsWith(a,"/")&&(a=l.substr(a,0,a.length-1));return a};y.filterHTML=function(a){for(var b=
0,c=y.HTML_FILTERS;b<c.length;){var d=c[b];for(++b;d.match(a);)a=d.replace(a,"")}b=0;for(c=y.HTML_CLEANERS;b<c.length;)d=c[b],++b,a=d.from.replace(a,d.to);if(p.startsWith(a,"<br>")||p.startsWith(a,"<br />"))a=l.substr(a,a.indexOf(">")+1,null);p.endsWith(a,"<br>")&&(a=l.substr(a,0,a.length-4));return a};y.createButton=function(a,b,c){var d=y.resolve(a),f=null;if(null!=d){var q=e.Browser.document.createElement("div"),h="expando-button ",m=v.toggled,l=m?"expanded":"collapsed";q.className=""+h+" "+l;
f={toggled:function(){return m},toggle:function(a,b){m=a;q.className=h+(l=m?"expanded":"collapsed");for(var c=q.parentElement.getElementsByClassName("expando"),d=0;d<c.length;){var f=c[d];++d;j.show(f,a)}b&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:a,element:q};q.onclick=function(){f.toggle(!m,!0)};d.method(d.regex,function(d){var s="selftext",k;if(z.hasField(d,"urls")){var r=[];for(k=d.urls.keys();k.hasNext();){var n=k.next();r.push('<li><a href="'+d.urls.get(n)+
'">'+n+"</a></li>")}k=e.Browser.document.createElement("div");k.className="usertext";n=e.Browser.document.createElement("div");n.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Name",d.name);a.set("Description",d.description);a.set("Links",r.join(""));return a}(this)));0<d.album.length&&(n.appendChild(e.Browser.document.createElement("br")),n.appendChild(j.embedAlbum(d.album)));k.appendChild(n)}else if(z.hasField(d,"price"))console.log(d),k=e.Browser.document.createElement("div"),
k.className="usertext",s=e.Browser.document.createElement("div"),s.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Category",p.htmlEscape(d.category));a.set("Location",p.htmlEscape(d.location));a.set("Price",p.htmlEscape(d.price));a.set("Description",d.description);return a}(this))),s.appendChild(j.embedAlbum(d.images)),k.appendChild(s),s="item";else if(z.hasField(d,"subscribers"))k=e.Browser.document.createElement("div"),k.className="usertext",k.appendChild(j.embedMap(function(){var a=
new g.ds.StringMap;a.set("Age",j.age(d.created_utc));a.set("Subscribers",j.formatNumber(d.subscribers));a.set("Active users",j.formatNumber(d.accounts_active));a.set("Description",C.parse(d.description));return a}(this)));else if(z.hasField(d,"content")){k=e.Browser.document.createElement("div");k.className="usertext";var n=e.Browser.document.createElement("div"),t=e.Browser.document.createElement("span");t.innerHTML=d.content;n.appendChild(t);null!=d.images&&0<d.images.length&&(n.appendChild(e.Browser.document.createElement("br")),
n.appendChild(j.embedAlbum(d.images)));n.className="md";k.appendChild(n)}else e.Boot.__instanceof(d,Array)&&z.hasField(d[0],"url")?(k=j.embedAlbum(d),s="image"):z.hasField(d,"developers")?(console.log(a),k=e.Browser.document.createElement("div"),k.className="usertext",n=e.Browser.document.createElement("div"),t=e.Browser.document.createElement("span"),t.innerHTML=""+u.string(d.description)+'<br><a href="'+u.string(d.url)+'"><b>Clone repo</b></a><br>',null!=d.album&&0<d.album.length&&t.appendChild(j.embedAlbum(d.album)),
n.appendChild(t),n.className="md",k.appendChild(n)):k=null;null!=k&&(n=e.Browser.document.createElement("div"),n.className="expando",n.appendChild(k),h+=""+s+" ",q.className=""+h+" "+l,v.buttons.push(f),j.show(n,m),null==c?b.appendChild(n):b.insertBefore(n,c.nextSibling),b.insertBefore(q,n))})}return null!=f?f.element:null};var O=function(){this.length=0};r.List=O;O.__name__=["List"];O.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==
this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:O};var R=function(){};r.NSFWFilter=R;R.__name__=["NSFWFilter"];R.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("nsfw-stamp"),b=0;b<a.length;){var c=a[b];++b;"li"==c.nodeName.toLowerCase()&&j.show(c.parentNode.parentNode.parentNode,!1)}};var J=function(){};r.Preview=J;J.__name__=["Preview"];J.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-edit"),
b=0;b<a.length;){var c=a[b];++b;J.preview(c)}};J.preview=function(a){var b=a.getElementsByTagName("textarea")[0];if(null!=b){var c=e.Browser.document.createElement("div");a.appendChild(c);c.className="md";var d=null;b.onfocus=function(){d=new g.Timer(100);d.run=function(){c.innerHTML=C.parse(b.value)}};b.onblur=function(){d.stop();d=null}}};var k=function(){};r.Settings=k;k.__name__=["Settings"];k.optimisedData=function(){for(var a=new g.ds.StringMap,b=k.data.keys();b.hasNext();){var c=b.next(),d=
k.data.get(c);k.DEFAULTS.get(c)!=d&&a.set(c,d)}return g.Serializer.run(a)};k.save=function(){g.Serializer.USE_CACHE=!1;e.Browser.getLocalStorage().setItem("reditn",k.optimisedData())};k.init=function(){var a=e.Browser.getLocalStorage().getItem("reditn");if(null!=a){var b;try{b=g.Unserializer.run(a)}catch(c){b=k.data}k.data=b}k.fixMissing();a=e.Browser.document.getElementById("header-bottom-right");b=a.getElementsByTagName("ul")[0];var d=e.Browser.document.createElement("a");d.innerHTML="reditn";d.className=
"pref-lang";d.href="javascript:void(0);";d.onclick=function(){k.settingsPopUp()};null==b?a.appendChild(d):a.insertBefore(d,b);d=e.Browser.document.createElement("span");d.innerHTML=" | ";d.className="seperator";d.style.fontWeight="none";a.insertBefore(d,b)};k.settingsPopUp=function(){var a=e.Browser.document.getElementById("reditn-config");null!=a&&a.parentElement.removeChild(a);var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("h1");b.innerHTML="Reditn settings";a.appendChild(b);
j.fullPopUp(a);var c=e.Browser.document.createElement("form");c.id="reditn-config";c.action="javascript:void(0);";c.onchange=function(){for(var a=c.childNodes,b=0;b<a.length;){var d=a[b];++b;if("button"!=d.type&&"input"==d.nodeName.toLowerCase()){var f=void 0;switch(d.type.toLowerCase()){case "checkbox":f=d.checked;break;default:f=d.value}k.data.set(d.name,f)}}k.save()};b=e.Browser.document.createElement("input");b.type="button";b.value="Restore default settings";b.onclick=function(){k.fixMissing(!0);
k.save();k.settingsPopUp()};c.appendChild(b);b=k.makeButton("Export settings to text",function(){e.Browser.window.alert(e.Browser.window.btoa(k.optimisedData()))});c.appendChild(b);b=k.makeButton("Import settings",function(){k.data=g.Unserializer.run(e.Browser.window.atob(e.Browser.window.prompt("Settings to import",e.Browser.window.btoa(k.optimisedData()))));k.fixMissing();k.save();k.settingsPopUp()});c.appendChild(b);c.appendChild(e.Browser.document.createElement("br"));for(b=k.data.keys();b.hasNext();){var d=
b.next(),f=k.data.get(d);if(!e.Boot.__instanceof(f,g.ds.StringMap)&&k.DESC.exists(d)){var q=k.DESC.get(d),h=e.Browser.document.createElement("label");h.setAttribute("for",d);h.style.position="absolute";h.style.width="46%";h.style.textAlign="right";h.innerHTML=""+q+" ";c.appendChild(h);q=e.Browser.document.createElement("input");q.style.position="absolute";q.style.left="54%";q.style.textAlign="left";q.style.width="46%";q.name=d;c.appendChild(q);c.appendChild(e.Browser.document.createElement("br"));
q.type=e.Boot.__instanceof(f,U)?"checkbox":e.Boot.__instanceof(f,String)?"text":e.Boot.__instanceof(f,Date)?"datetime":e.Boot.__instanceof(f,Y)?"number":null;e.Boot.__instanceof(f,U)?q.checked=k.data.get(d):q.value=k.data.get(d)}}b=e.Browser.document.createElement("div");b.style.fontWeight="bold";b.innerHTML="Close this dialog and refresh the page to see your changes in effect. Changes will be saved automatically.";c.appendChild(b);a.appendChild(c)};k.makeButton=function(a,b){var c=e.Browser.document.createElement("input");
c.type="button";c.value=a;c.onclick=b;return c};k.fixMissing=function(a){null==a&&(a=!1);for(var b=k.DEFAULTS.keys();b.hasNext();){var c=b.next();if(a||!k.data.exists(c))k.data.set(c,e.Boot.__instanceof(k.DEFAULTS.get(c),g.ds.StringMap)?new g.ds.StringMap:k.DEFAULTS.get(c))}};var S=function(){};r.Style=S;S.__name__=["Style"];S.init=function(){var a=e.Browser.document.createElement("style");a.innerHTML='.expando-button.image.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.collapsed {\n\tpadding: 0px;\n}\np .expando-button {\n\tdisplay: inline-block;\n\tfloat: none;\n\tmargin: 0px;\n\tpadding: 0px;\n}\ndl.reditn-table  {\n\tfloat: left;\n\twidth: 100%;\n\tpadding: 0;\n}\n.reditn-table dt {\n\tclear: left;\n\tfloat: left;\n\twidth: 16%;\n\tfont-weight: bold;\n\ttext-align: right;\n}\n.reditn-table dd {\n\tfloat: left;\n\ttext-align: left;\n}';
e.Browser.document.head.appendChild(a)};var K=function(){};r.SubredditInfo=K;K.__name__=["SubredditInfo"];K.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=K._onMouseOverSubreddit}};K._onMouseOverSubreddit=function(a){a=a.target;var b=a.innerHTML,c=e.Browser.document.createElement("div");j.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/r/"+b+"/about.json",function(a){var f=j.formatNumber(a.subscribers),
e=j.formatNumber(a.accounts_active),g=C.parse(a.public_description);a=j.age(a.created_utc);var m="<b>Name:</b> "+b+" <br>",h=k.data.get("sub-tags");h.exists(b)&&(m+="<b>Tag:</b> "+h.get(b)+"<br>");m=m+("<b>Subscribers:</b> "+f+" <br>")+("<b>Active Users:</b> "+e+" <br>");m+="<b>Description:</b> "+g+" <br>";m+="<b>Age:</b> "+a+" <br>";c.innerHTML=m})};var N=function(){};r.SubredditTagger=N;N.__name__=["SubredditTagger"];N.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),
b=0;b<a.length;){var c=a[b];++b;N.getTag(c)}};N.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("sub-tags").exists(c)?k.data.get("sub-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),
b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("sub-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};var T=function(){};r.TextExpand=
T;T.__name__=["TextExpand"];T.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-body"),b=0;b<a.length;){var c=a[b];++b;for(var c=e.Boot.__cast(c,Element).getElementsByClassName("md")[0].getElementsByTagName("a"),d=0;d<c.length;){var f=c[d];++d;y.createButton(f.href,f.parentElement,f)}}};var w=r.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};w.TNull=["TNull",0];w.TNull.toString=G;w.TNull.__enum__=
w;w.TInt=["TInt",1];w.TInt.toString=G;w.TInt.__enum__=w;w.TFloat=["TFloat",2];w.TFloat.toString=G;w.TFloat.__enum__=w;w.TBool=["TBool",3];w.TBool.toString=G;w.TBool.__enum__=w;w.TObject=["TObject",4];w.TObject.toString=G;w.TObject.__enum__=w;w.TFunction=["TFunction",5];w.TFunction.toString=G;w.TFunction.__enum__=w;w.TClass=function(a){a=["TClass",6,a];a.__enum__=w;a.toString=G;return a};w.TEnum=function(a){a=["TEnum",7,a];a.__enum__=w;a.toString=G;return a};w.TUnknown=["TUnknown",8];w.TUnknown.toString=
G;w.TUnknown.__enum__=w;var B=function(){};r.Type=B;B.__name__=["Type"];B.getClassName=function(a){return a.__name__.join(".")};B.getEnumName=function(a){return a.__ename__.join(".")};B.resolveClass=function(a){a=r[a];return null==a||!a.__name__?null:a};B.resolveEnum=function(a){a=r[a];return null==a||!a.__ename__?null:a};B.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};B.createEnum=function(a,b,c){var d=z.field(a,b);if(null==d)throw"No such constructor "+b;if(z.isFunction(d)){if(null==
c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};B.getEnumConstructs=function(a){return a.__constructs__.slice()};B["typeof"]=function(a){switch(typeof a){case "boolean":return w.TBool;case "string":return w.TClass(String);case "number":return Math.ceil(a)==a%2147483648?w.TInt:w.TFloat;case "object":if(null==a)return w.TNull;var b=a.__enum__;if(null!=b)return w.TEnum(b);a=a.__class__;return null!=a?w.TClass(a):
w.TObject;case "function":return a.__name__||a.__ename__?w.TObject:w.TFunction;case "undefined":return w.TNull;default:return w.TUnknown}};var L=function(){};r.UserInfo=L;L.__name__=["UserInfo"];L.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=L._onMouseOverUser}};L._onMouseOverUser=function(a){a=a.target;var b=a.innerHTML,b=l.substr(b,b.lastIndexOf("/")+1,null),c=e.Browser.document.createElement("div");j.popUp(a,c,
a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/user/"+b+"/about.json",function(a){var b=a.name,e=j.age(a.created_utc),g=j.formatNumber(a.link_karma),h=j.formatNumber(a.comment_karma),l="<b>User:</b> "+b+"<br>",p=k.data.get("user-tags");p.exists(b)&&(l+="<b>Tag:</b> "+p.get(b)+"<br>");l=l+("<b>Account age:</b> "+e+"<br>")+("<b>Karma:</b> "+g+" link karma, "+h+" comment karma");a.is_mod&&(l+="<br><b>Moderator</b>");a.is_gold&&(l+="<br><b>Gold</b>");c.innerHTML=l})};var M=function(){};r.UserTagger=
M;M.__name__=["UserTagger"];M.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;M.getTag(c)}};M.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("user-tags").exists(c)?k.data.get("user-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";
g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("user-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+
g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};r.XmlType={__ename__:["XmlType"],__constructs__:[]};g.Serializer=function(){this.buf=new H;this.cache=[];this.useCache=g.Serializer.USE_CACHE;this.useEnumIndex=g.Serializer.USE_ENUM_INDEX;this.shash=new g.ds.StringMap;this.scount=0};r["haxe.Serializer"]=g.Serializer;g.Serializer.__name__=["haxe","Serializer"];g.Serializer.run=function(a){var b=new g.Serializer;b.serialize(a);return b.toString()};g.Serializer.prototype={serialize:function(a){var b=
B["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=u.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=u.string(a)):this.buf.b+=u.string(0>a?"m":"p");break;case 3:this.buf.b+=u.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var d=a.length,f=0;f<d;)b=f++,
null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=u.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=u.string(c)));this.buf.b+="h";break;case O:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=u.string(l.dateStr(a));break;case g.ds.StringMap:this.buf.b+="b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));
this.buf.b+="h";break;case g.ds.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=u.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case g.ds.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=c.next(),d=z.field(b,"__id__"),z.deleteField(b,"__id__"),this.serialize(b),b.__id__=d,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case g.io.Bytes:b=0;c=a.length-2;d=new H;for(f=g.Serializer.BASE64;b<c;){var e=a.b[b++],h=a.b[b++],j=a.b[b++];d.b+=u.string(f.charAt(e>>
2));d.b+=u.string(f.charAt((e<<4|h>>4)&63));d.b+=u.string(f.charAt((h<<2|j>>6)&63));d.b+=u.string(f.charAt(j&63))}b==c?(e=a.b[b++],h=a.b[b++],d.b+=u.string(f.charAt(e>>2)),d.b+=u.string(f.charAt((e<<4|h>>4)&63)),d.b+=u.string(f.charAt(h<<2&63))):b==c+1&&(e=a.b[b++],d.b+=u.string(f.charAt(e>>2)),d.b+=u.string(f.charAt(e<<4&63)));b=d.b;this.buf.b+="s";this.buf.b+=u.string(b.length);this.buf.b+=":";this.buf.b+=u.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(B.getClassName(b)),
this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(B.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=u.string(this.useEnumIndex?"j":"w");this.serializeString(B.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=u.string(a[1])):this.serializeString(a[0]);
this.buf.b+=":";d=a.length;this.buf.b+=u.string(d-2);for(f=2;f<d;)b=f++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+u.string(a);}},serializeFields:function(a){for(var b=0,c=z.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(z.field(a,d))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var f=c++,e=this.cache[f];if(typeof e==b&&e==a)return this.buf.b+="r",
this.buf.b+=u.string(f),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=u.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=p.urlEncode(a),this.buf.b+=u.string(a.length),this.buf.b+=":",this.buf.b+=u.string(a))},toString:function(){return this.buf.b},__class__:g.Serializer};g.Timer=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};r["haxe.Timer"]=g.Timer;g.Timer.__name__=["haxe","Timer"];g.Timer.delay=
function(a,b){var c=new g.Timer(b);c.run=function(){c.stop();a()};return c};g.Timer.stamp=function(){return(new Date).getTime()/1E3};g.Timer.prototype={run:function(){console.log("run")},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:g.Timer};g.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=g.Unserializer.DEFAULT_RESOLVER;null==a&&(a=B,g.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};r["haxe.Unserializer"]=
g.Unserializer;g.Unserializer.__name__=["haxe","Unserializer"];g.Unserializer.initCodes=function(){for(var a=[],b=0,c=g.Unserializer.BASE64.length;b<c;){var d=b++;a[g.Unserializer.BASE64.charCodeAt(d)]=d}return a};g.Unserializer.run=function(a){return(new g.Unserializer(a)).unserialize()};g.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return u.parseFloat(l.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=l.substr(this.buf,this.pos,b);this.pos+=b;a=p.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=
this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();
a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=B.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+
b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new O;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new g.ds.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new g.ds.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);
if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new g.ds.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=l.strDate(l.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";d=g.Unserializer.CODES;null==d&&(d=g.Unserializer.initCodes(),g.Unserializer.CODES=
d);for(var a=this.pos,f=b&3,e=a+(b-f),h=g.io.Bytes.alloc(3*(b>>2)+(2<=f?f-1:0)),j=0;a<e;){var k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)];h.b[j++]=(k<<2|n>>4)&255;k=d[c.charCodeAt(a++)];h.b[j++]=(n<<4|k>>2)&255;n=d[c.charCodeAt(a++)];h.b[j++]=(k<<6|n)&255}2<=f&&(k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)],h.b[j++]=(k<<2|n>>4)&255,3==f&&(k=d[c.charCodeAt(a++)],h.b[j++]=(n<<4|k>>2)&255));this.pos+=b;this.cache.push(h);return h;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==
a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return B.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return B.createEnum(a,b,d)},unserializeObject:function(a){for(;;){if(this.pos>=
this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!e.Boot.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},
resolveEnum:function(){return null}}:a},__class__:g.Unserializer};g.ds.IntMap=function(){this.h={}};r["haxe.ds.IntMap"]=g.ds.IntMap;g.ds.IntMap.__name__=["haxe","ds","IntMap"];g.ds.IntMap.__interfaces__=[x];g.ds.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return l.iter(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:g.ds.IntMap};g.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};r["haxe.ds.ObjectMap"]=g.ds.ObjectMap;
g.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];g.ds.ObjectMap.__interfaces__=[x];g.ds.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return l.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=++g.ds.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:g.ds.ObjectMap};g.io={};g.io.Bytes=function(a,b){this.length=a;this.b=b};r["haxe.io.Bytes"]=g.io.Bytes;g.io.Bytes.__name__=["haxe","io","Bytes"];
g.io.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new g.io.Bytes(a,b)};g.io.Bytes.prototype={__class__:g.io.Bytes};Array.prototype.indexOf?l.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0}:null;"undefined"!=typeof JSON&&(g.Json=JSON);String.prototype.__class__=r.String=String;String.__name__=["String"];Array.prototype.__class__=r.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=r.Date=Date;Date.__name__=["Date"];var Y=r.Int={__name__:["Int"]},
$=r.Dynamic={__name__:["Dynamic"]},Z=r.Float=Number;Z.__name__=["Float"];var U=r.Bool=Boolean;U.__ename__=["Bool"];var aa=r.Class={__name__:["Class"]},ba={};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;r.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};n.Element="element";n.PCData="pcdata";n.CData="cdata";n.Comment="comment";n.DocType="doctype";n.ProcessingInstruction=
"processingInstruction";n.Document="document";v.buttons=[];v.queue=0;t.keys=[];t.konami=[38,38,40,40,37,39,37,39,66,65];D.words=["wubba","mcwubber","dubba","dadubber"];D.filter=new h("[a-zA-Z]*","");j.fullPage=!0;A.regex=[{from:new h("\\[\\[Category:([^\\]]*)\\]\\]",""),to:""},{from:new h("\\[\\[([^\\]\n]*)\\|([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$2</a>'},{from:new h("\\[\\[([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$1</a>'},{from:new h("<gallery>(.|\n|\n\r)*</gallery>",
""),to:""},{from:new h("\\[\\[File:([^\\]]*)\\]\\]",""),to:""},{from:new h("(=*) ?(References|Gallery) ?\\1.*\\1?",""),to:""},{from:new h("{{spaced ndash}}",""),to:" - "},{from:new h("\\{\\{convert\\|([0-9]*)\\|([^\\|]*)([^\\}]*)\\}\\}",""),to:"$1 $2"},{from:new h("\\{\\{([^\\}]*)\\}\\}",""),to:""},{from:new h("\\{\\|(.|\n|\n\r)*\\|\\}",""),to:""},{from:new h("\\[([^ \\[\\]]*) ([^\\[\\]]*)\\]",""),to:""},{from:new h("'''([^']*)'''",""),to:"<b>$1</b>"},{from:new h("''([^']*)''",""),to:"<em>$1</em>"},
{from:new h("======([^=]*)======",""),to:"<h6>$1</h6>"},{from:new h("=====([^=]*)=====",""),to:"<h5>$1</h5>"},{from:new h("====([^=]*)====",""),to:"<h4>$1</h4>"},{from:new h("===([^=]*)===",""),to:"<h3>$1</h3>"},{from:new h("==([^=]*)==",""),to:"<h2>$1</h2>"},{from:new h("\n\\* ?([^\n]*)",""),to:"<li>$1</li>"},{from:new h("<ref>[^<>]*</ref>",""),to:""},{from:new h("\n\r?\n\r?",""),to:"<br>"},{from:new h("\n",""),to:""},{from:new h("<br><br>",""),to:"<br>"},{from:new h("\x3c!--Interwiki links--\x3e.*",
""),to:""},{from:new h("\\[\\]",""),to:""}];A.sections=new h("'=(=*)([^=]*)=\\\\1\n\r?(.|\n|\n\r)*(\\\\1)?'","");A.IMAGES=new h("(File:|img=|Image:)([^\\.\\|\\]\\}\\{\\[<>=]*)\\.(gif|jpg|jpeg|bmp|png|webp|svg|raw)(\\|([^\\)]*))?","");e.Browser.window="undefined"!=typeof window?window:null;e.Browser.document="undefined"!=typeof window?window.document:null;C.images=new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)","");C.regex=[{from:new h("(\\*\\*|__)([^\\1\n]*?)\\1",""),to:"<b>$2</b>"},{from:new h("(\\*|_)([^\\1\n]*?)\\1",
""),to:"<em>$2</em>"},{from:new h("^[\\*|+|-] (.*)$","m"),to:"<ul><li>$1</li></ul>"},{from:new h("</ul><ul>",""),to:""},{from:new h("\n> ([^\n\r]*)",""),to:"<blockquote>$1</blockquote>"},{from:new h("</blockquote>\n?\r?<blockquote>$",""),to:""},{from:new h("~~([^~]*?)~~",""),to:"<del>$1</del>"},{from:new h("\\^([^\\^]+)",""),to:"<sup>$1</sup>"},{from:new h(':"([^:"]*?)":',""),to:"<q>$1</q>"},{from:C.images,to:""},{from:new h("\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",""),to:'<a href="$2">$1</a>'},{from:new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",
""),to:""},{from:new h("(.*)\n\r?(==+)\n",""),to:"<h2>$1</h2>"},{from:new h("(.*)\n\r?((-|#)+)\n",""),to:"<h3>$1</h3>"},{from:new h("(```*)([^`]+)\\1","m"),to:"<code>$2</code>"},{from:new h("<pre>(.*)\n\n(.*)</pre>",""),to:"<pre>$1\n$2</pre>"},{from:new h("\n\n+",""),to:"<br>\n"}];C.header=new h("^([#|=]+)([^#=]+)\\1?$","m");x=g.xml.Parser;E=new g.ds.StringMap;E.set("lt","<");E.set("gt",">");E.set("amp","&");E.set("quot",'"');E.set("apos","'");E.set("nbsp",String.fromCharCode(160));x.escapes=E;y.HTML_IMG=
new h('<img .*?src="([^"]*)"/?>',"");y.sites=[{regex:new h(".*\\.(jpeg|gif|jpg|bmp|png|webp)","i"),method:function(a,b){b([{url:"http://"+a.matched(0),caption:null,author:null}])}},{regex:new h("i?\\.?imgur.com/(a|gallery)/([^/]*)",""),method:function(a,b){var c=a.matched(2),d;switch(a.matched(1).toLowerCase()){case "a":d="album";break;case "gallery":d="gallery/album";break;default:d="album"}j.getJSON("https://api.imgur.com/3/"+d+"/"+c,function(a){var c=[];if(0>=a.images_count)c.push({url:"http://i.imgur.com/"+
a.id+".jpg",caption:a.title,author:a.account_url});else for(var d=0,e=a.images;d<e.length;){var g=e[d];++d;c.push({url:"http://i.imgur.com/"+g.id+".jpg",caption:g.title,author:a.account_url})}b(c)},"Client-ID cc1f254578d6c52")}},{regex:new h("imgur\\.com/(r/[^/]*/)?([a-zA-Z0-9,]*)",""),method:function(a,b){for(var c=(null==a.matched(1)||-1!=a.matched(1).indexOf("/")?a.matched(2):a.matched(1)).split(","),d=[],f=0;f<c.length;){var e=c[f];++f;d.push({url:"http://i.imgur.com/"+e+".jpg",caption:null,author:null})}b(d)}},
{regex:new h("(qkme\\.me|quickmeme\\.com/meme|m\\.quickmeme.com/meme)/([^/]*)",""),method:function(a,b){b([{url:"http://i.qkme.me/"+a.matched(2)+".jpg",caption:null,author:null}])}},{regex:new h("memecrunch.com/meme/([^/]*)/([^/]*)",""),method:function(a,b){b([{url:"http://"+a.matched(0)+"/image.png",caption:null,author:null}])}},{regex:new h("memegenerator\\.net/instance/([^/]*)",""),method:function(a,b){b([{url:"http://cdn.memegenerator.net/instances/400x/"+a.matched(1)+".jpg",caption:null,author:null}])}},
{regex:new h("imgflip\\.com/i/([^/]*)",""),method:function(a,b){b([{url:"http://i.imgflip.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("what-if.xkcd.com/([0-9]*)",""),method:function(){}},{regex:new h("xkcd.com/([0-9]*)",""),method:function(a,b){j.getJSON("http://www.xkcd.com/"+a.matched(1)+"/info.0.json",function(a){b([{url:a.img,caption:a.title,author:null}])})}},{regex:new h("explosm.net/comics/([0-9]*)",""),method:function(a,b){j.getText("http://www."+a.matched(0),function(c){var d=
new h('"http://www\\.explosm\\.net/db/files/Comics/([^"]*)"',"");if(d.match(c))b([{url:d.matched(0).substring(1,d.matched(0).length-1),caption:null,author:null}]);else throw""+u.string(d)+" not matched by "+a.matched(0)+" in "+c;},null,null,null)}},{regex:new h("livememe.com/([^/]*)",""),method:function(a,b){b([{url:"http://livememe.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("(([^\\.]*\\.)?deviantart\\.com/art|fav\\.me)/.*",""),method:function(a,b){j.getJSON("http://backend.deviantart.com/oembed?url="+
p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("flickr\\.com/photos/.*",""),method:function(a,b){j.getJSON("http://www.flickr.com/services/oembed/?url=http://www."+p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("ebay\\.([a-zA-Z\\.]*)/itm(/[^/]*)?/([0-9]*)",""),method:function(a,b){a.matched(1);var c="http://open.api.ebay.com/shopping?callname=GetSingleItem&responseencoding=JSON&appid=ThomasDa-1e6c-4d29-a156-85557acee70b&siteid=0&version=515&ItemID="+
a.matched(3)+"&IncludeSelector=TextDescription";j.getJSON(c,function(a){var c=a.Item.PictureURL.map(function(a){return{url:a,caption:null,author:null}});b({title:a.Item.Title,category:a.Item.PrimaryCategoryName,location:a.Item.Location+", "+a.Item.Country,description:y.filterHTML(a.Item.Description),images:c,price:j.formatPrice(a.Item.ConvertedCurrentPrice.Value)+" "+a.Item.ConvertedCurrentPrice.CurrencyID})})}},{regex:new h("([^\\.]*\\.wordpress\\.com|wp\\.me|techcrunch\\.com|news\\.blogs\\.cnn\\.com|snoopdogg\\.com|usainbolt\\.com|katiecouric\\.com|rollingstones\\.com|variety\\.com|bbcamerica\\.com)/(.*)?",
""),method:function(a,b){var c="http://"+a.matched(0);j.getJSON("http://public-api.wordpress.com/oembed/?url="+p.urlEncode(c)+"&for=Reditn",function(a){var c=[];null!=a.thumbnail_url&&c.push({caption:null,url:a.thumbnail_url,author:null});b({author:a.author_name,content:y.filterHTML(a.html),images:c})})}},{regex:new h("(.*)/wiki/([^#]*)(#.*)?",""),method:function(a,b){var c="http://"+a.matched(1),d=a.matched(2),f=a.matched(3);null!=f&&(f=p.trim(l.substr(f,1,null)));null!=f&&0==f.length&&(f=null);
var e=c;p.endsWith(e,".wikia.com")||(e+="/w");var g=null,g=function(a){j.getJSON(""+e+"/api.php?format=json&prop=revisions&action=query&titles="+a+"&rvprop=content",function(a){a=a.query.pages;for(var d=0,h=z.fields(a);d<h.length;){var m=h[d];++d;var m=[z.field(a,m)],k=[z.field(m[0].revisions[0],"*")];if(p.startsWith(k[0],"#REDIRECT [[")){g(k[0].substring(12,k[0].lastIndexOf("]]")));break}var n=[A.getAlbum(k[0])];null!=f&&(k[0]=A.trimTo(k[0],f));k[0]=A.parse(k[0],c);if(0<n[0].length)for(var r=[[]],
t=0;t<n[0].length;){var v=[n[0][t]];++t;j.getJSON(""+e+"/api.php?action=query&titles="+p.urlEncode(v[0].url)+"&prop=imageinfo&iiprop=url&format=json",function(a,c,d,f,e){return function(g){g=g.query.pages;for(var h=0,j=z.fields(g);h<j.length;){var m=j[h];++h;m=z.field(g,m);null!=m&&null!=m.imageinfo?c[0].push({url:m.imageinfo[0].url,caption:a[0].caption,author:null}):(console.log("Error whilst processing "+u.string(m)+" for "+a[0].url),l.remove(d[0],a[0]))}c[0].length>=d[0].length&&b({title:e[0].title,
content:f[0],author:null,images:c[0]})}}(v,r,n,k,m))}else b({title:m[0].title,content:k[0],author:null,images:null})}})};g(d)}},{regex:new h("github\\.com/([^/]*)/([^/]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2);j.getJSON("https://api.github.com/repos/"+c+"/"+d+"/readme?client_id=39d85b9ac427f1176763&client_secret=5117570b83363ca0c71a196edc5b348af150c25d",function(a){if(null!=a.content){a=a.content;a=p.replace(a,"\n","");a=p.trim(a);a=e.Browser.window.atob(a);for(var g=C.images,
h=[],j=a;g.match(j);){var k=g.matched(2);k.indexOf(".")==k.lastIndexOf(".")&&(p.startsWith(k,"/")&&(k=l.substr(k,1,null)),k="https://github.com/"+c+"/"+d+"/raw/master/"+k);h.push({url:k,caption:g.matched(1),author:c});j=l.substr(j,g.matchedPos().pos+g.matchedPos().len,null)}b({name:d,developers:[c],description:C.parse(a),url:"git://github.com/"+c+"/"+d+".git",album:h})}})}},{regex:new h("sourceforge.net/projects/([a-zA-Z-]*)",""),method:function(a,b){j.getJSON("http://sourceforge.net/api/project/name/"+
a.matched(1)+"/json",function(a){a=a.Project;for(var d=a.developers,f=a.name,e=a.description,g=[],h=0;h<d.length;)++h,g.push(a.name);for(var j=z.field(a,"download-page"),d=0,h=z.fields(a);d<h.length;){var k=h[d];++d;p.endsWith(k,"Repository")&&(j=l.substr(k,0,k.length-10).toLowerCase(),k=z.field(a,k).location,j=p.replace(k,"http:",""+j+":"))}b({name:f,description:e,developers:g,url:j,album:[]})})}},{regex:new h("(digitaltrends\\.com|webupd8\\.org|doctorwho\\.tv)/.*",""),method:function(a,b){j.getText("http://www."+
a.matched(0),function(a){var d=new h("<title>(.*)</title>","");d.match(a)&&(a=l.substr(a,a.indexOf("<article"),null),a=l.substr(a,a.indexOf(">")+1,null),a=l.substr(a,0,a.indexOf("</article>")),a=y.filterHTML(a),b({title:d.matched(1),content:a,author:null,images:[]}))},null,null,null)}},{regex:new h("([^\\.]*)\\.tumblr\\.com/(post|image)/([0-9]*)(/.*)?",""),method:function(a,b){var c=a.matched(1),d=a.matched(3);j.getJSON("http://api.tumblr.com/v2/blog/"+c+".tumblr.com/posts/json?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE&id="+
d,function(a){var c=a.posts[0];switch(c.type){case "text":for(var d=[];y.HTML_IMG.match(c.body);)d.push({url:y.HTML_IMG.matched(1),caption:null,author:a.blog.name}),c.body=y.HTML_IMG.replace(c.body,"");c.body=y.filterHTML(c.body);a={title:c.title,content:c.body,author:a.blog.name,images:d};break;case "quote":a={title:null,content:u.string(c.text)+"<br/><b>"+u.string(c.source)+"</b>",author:a.blog.name,images:[]};break;case "photo":for(var c=c.photos,d=[],e=0;e<c.length;){var g=c[e];++e;d.push({url:g.original_size.url,
caption:g.caption,author:a.blog.name})}a=d;break;default:a=null}b(a)})}},{regex:new h(".*\\.tumblr\\.com",""),method:function(a,b){j.getJSON("http://api.tumblr.com/v2/blog/"+p.urlEncode(a.matched(0))+"/info?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE",function(a){b({urls:new g.ds.StringMap,name:a.blog.title,description:y.filterHTML(a.blog.description),album:[]})})}},{regex:new h("twitter.com/.*/status/([0-9]*)",""),method:function(a,b){j.getJSON("https://api.twitter.com/1/statuses/oembed.json?id="+
a.matched(1),function(a){b({title:null,author:a.author_name,content:y.filterHTML(a.html),images:[]})})}},{regex:new h("amazon\\.[a-z\\.]*/gp/product/([0-9A-Z]*)",""),method:function(a){a=a.matched(1);j.getXML("http://webservices.amazon.com/onca/xml?AWSAccessKeyId=AKIAJMR3XPXGBMZJE6IA&Service=AWSECommerceService&Operation=ItemLookup&ItemId="+a,function(a){console.log(a)})}},{regex:new h("plus\\.google\\.com/([0-9]*)/posts/([a-zA-Z]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2),e=new h("<b>([^>]*)</b><br />",
""),g=null,g=function(h){j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"/activities/public?fields=items(id%2Curl)%2CnextPageToken&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o"+(null==h?"":"&requestToken="+h),function(c){var h=c.items;a.matched(0);for(var k=0;k<h.length;){var l=h[k];++k;if(-1!=l.url.indexOf(d)){j.getJSON("https://www.googleapis.com/plus/v1/activities/"+u.string(l.id)+"?fields=actor%2FdisplayName%2Cannotation%2Cobject(actor%2Cattachments%2Ccontent%2Cid%2CobjectType%2CoriginalContent%2Curl)&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",
function(a){var c=a.object.objectType,d=a.actor.actorName,g=a.object.content;e.match(g);switch(c){case "note":a=e.matched(1);g=e.replace(g,"");g=y.filterHTML(g);b({title:a,author:d,content:g,images:[]});break;default:d=a.object.attachments;g=[];for(c=0;c<d.length;){var h=d[c];++c;g.push({url:h.image.url,caption:0==h.content.length?a.object.content:h.content,author:null})}b(g)}});return}}0!=c.items.length&&g(c.requestToken)})};g()}},{regex:new h("facebook.com/photo\\.php\\?v=([0-9]*)",""),method:function(a,
b){a.matched(1);b([{caption:null,url:"http://graph.facebook.com/${id}/picture?type=small&access_token=CAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrCAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrf",author:null}])}},{regex:new h("facebook\\.com/([a-zA-Z0-9]*)",""),method:function(a,b){var c=
a.matched(1);b({album:[{url:"https://graph.facebook.com/"+c+"/picture?type=large",caption:null,author:null}],urls:new g.ds.StringMap})}},{regex:new h("plus\\.google.com/u?/?[0-9]*/([0-9]*)(/about)?",""),method:function(a,b){var c=a.matched(1);j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"?key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",function(a){var c=a.urls,e=new g.ds.StringMap;if(null!=c)for(var h=0;h<c.length;){var j=c[h];++h;e.set(j.label,j.value)}null!=a.urls&&(null!=a.displayName&&
null!=a.aboutMe)&&b({urls:e,name:a.displayName,description:a.aboutMe,album:[{url:a.image.url,caption:null,author:a.displayName}]})})}},{regex:new h("reddit\\.com/r/([a-zA-Z0-9]*)",""),method:function(a,b){j.getJSON("http://www."+a.matched(0)+"/about.json",function(a){b(a)})}},{regex:new h("gamejolt.com/games/[^/]*/[^/]*/([0-9]*)",""),method:function(a){a=a.matched(1);j.getJSON("http://gamejolt.com/service/games/"+a+"?format=json",function(a){console.log(a)})}},{regex:new h("(0rz\\.tw|1link\\.in|1url\\.com|2\\.gp|2big\\.at|2tu\\.us|3\\.ly|307\\.to|4ms\\.me|4sq\\.com|4url\\.cc|6url\\.com|7\\.ly|a\\.gg|a\\.nf|aa\\.cx|abcurl\\.net|ad\\.vu|adf\\.ly|adjix\\.com|afx\\.cc|all\\.fuseurl\\.com|alturl\\.com|amzn\\.to|ar\\.gy|arst\\.ch|atu\\.ca|azc\\.cc|b23\\.ru|b2l\\.me|bacn\\.me|bcool\\.bz|binged\\.it|bit\\.ly|bizj\\.us|bloat\\.me|bravo\\.ly|bsa\\.ly|budurl\\.com|canurl\\.com|chilp\\.it|chzb\\.gr|cl\\.lk|cl\\.ly|clck\\.ru|cli\\.gs|cliccami\\.info|clickthru\\.ca|clop\\.in|conta\\.cc|cort\\.as|cot\\.ag|crks\\.me|ctvr\\.us|cutt\\.us|dai\\.ly|decenturl\\.com|dfl8\\.me|digbig\\.com|digg\\.com|disq\\.us|dld\\.bz|dlvr\\.it|do\\.my|doiop\\.com|dopen\\.us|easyuri\\.com|easyurl\\.net|eepurl\\.com|eweri\\.com|fa\\.by|fav\\.me|fb\\.me|fbshare\\.me|ff\\.im|fff\\.to|fire\\.to|firsturl\\.de|firsturl\\.net|flic\\.kr|flq\\.us|fly2\\.ws|fon\\.gs|freak\\.to|fuseurl\\.com|fuzzy\\.to|fwd4\\.me|fwib\\.net|g\\.ro\\.lt|gizmo\\.do|gl\\.am|go\\.9nl\\.com|go\\.ign\\.com|go\\.usa\\.gov|goo\\.gl|goshrink\\.com|gurl\\.es|hex\\.io|hiderefer\\.com|hmm\\.ph|href\\.in|hsblinks\\.com|htxt\\.it|huff\\.to|hulu\\.com|hurl\\.me|hurl\\.ws|icanhaz\\.com|idek\\.net|ilix\\.in|is\\.gd|its\\.my|ix\\.lt|j\\.mp|jijr\\.com|kl\\.am|klck\\.me|korta\\.nu|krunchd\\.com|l9k\\.net|lat\\.ms|liip\\.to|liltext\\.com|linkbee\\.com|linkbun\\.ch|liurl\\.cn|ln-s\\.net|ln-s\\.ru|lnk\\.gd|lnk\\.ms|lnkd\\.in|lnkurl\\.com|lru\\.jp|lt\\.tl|lurl\\.no|macte\\.ch|mash\\.to|merky\\.de|migre\\.me|miniurl\\.com|minurl\\.fr|mke\\.me|moby\\.to|moourl\\.com|mrte\\.ch|myloc\\.me|myurl\\.in|n\\.pr|nbc\\.co|nblo\\.gs|nn\\.nf|not\\.my|notlong\\.com|nsfw\\.in|nutshellurl\\.com|nxy\\.in|nyti\\.ms|o-x\\.fr|oc1\\.us|om\\.ly|omf\\.gd|omoikane\\.net|on\\.cnn\\.com|on\\.mktw\\.net|onforb\\.es|orz\\.se|ow\\.ly|ping\\.fm|pli\\.gs|pnt\\.me|politi\\.co|post\\.ly|pp\\.gg|profile\\.to|ptiturl\\.com|pub\\.vitrue\\.com|qlnk\\.net|qte\\.me|qu\\.tc|qy\\.fi|r\\.im|rb6\\.me|read\\.bi|readthis\\.ca|reallytinyurl\\.com|redir\\.ec|redirects\\.ca|redirx\\.com|retwt\\.me|ri\\.ms|rickroll\\.it|riz\\.gd|rt\\.nu|ru\\.ly|rubyurl\\.com|rurl\\.org|rww\\.tw|s4c\\.in|s7y\\.us|safe\\.mn|sameurl\\.com|sdut\\.us|shar\\.es|shink\\.de|shorl\\.com|short\\.ie|short\\.to|shortlinks\\.co\\.uk|shorturl\\.com|shout\\.to|show\\.my|shrinkify\\.com|shrinkr\\.com|shrt\\.fr|shrt\\.st|shrten\\.com|shrunkin\\.com|simurl\\.com|slate\\.me|smallr\\.com|smsh\\.me|smurl\\.name|sn\\.im|snipr\\.com|snipurl\\.com|snurl\\.com|sp2\\.ro|spedr\\.com|srnk\\.net|srs\\.li|starturl\\.com|su\\.pr|surl\\.co\\.uk|surl\\.hu|t\\.cn|t\\.co|t\\.lh\\.com|ta\\.gd|tbd\\.ly|tcrn\\.ch|tgr\\.me|tgr\\.ph|tighturl\\.com|tiniuri\\.com|tiny\\.cc|tiny\\.ly|tiny\\.pl|tinylink\\.in|tinyuri\\.ca|tinyurl\\.com|tk\\.|tl\\.gd|tmi\\.me|tnij\\.org|tnw\\.to|tny\\.com|to\\.|to\\.ly|togoto\\.us|totc\\.us|toysr\\.us|tpm\\.ly|tr\\.im|tra\\.kz|trunc\\.it|twhub\\.com|twirl\\.at|twitclicks\\.com|twitterurl\\.net|twitterurl\\.org|twiturl\\.de|twurl\\.cc|twurl\\.nl|u\\.mavrev\\.com|u\\.nu|u76\\.org|ub0\\.cc|ulu\\.lu|updating\\.me|ur1\\.ca|url\\.az|url\\.co\\.uk|url\\.ie|url360\\.me|url4\\.eu|urlborg\\.com|urlbrief\\.com|urlcover\\.com|urlcut\\.com|urlenco\\.de|urli\\.nl|urls\\.im|urlshorteningservicefortwitter\\.com|urlx\\.ie|urlzen\\.com|usat\\.ly|use\\.my|vb\\.ly|vgn\\.am|vl\\.am|vm\\.lc|w55\\.de|wapo\\.st|wapurl\\.co\\.uk|wipi\\.es|wp\\.me|x\\.vu|xr\\.com|xrl\\.in|xrl\\.us|xurl\\.es|xurl\\.jp|y\\.ahoo\\.it|yatuc\\.com|ye\\.pe|yep\\.it|yfrog\\.com|yhoo\\.it|yiyd\\.com|youtu\\.be|yuarel\\.com|z0p\\.de|zi\\.ma|zi\\.mu|zipmyurl\\.com|zud\\.me|zurl\\.ws|zz\\.gd|zzang\\.kr|r\\.ebay\\.com)/.*",
""),method:function(a,b){var c=p.urlEncode("http://"+a.matched(0));j.getJSON("http://api.longurl.org/v2/expand?url="+c+"&format=json&User-Agent=Reditn",function(a){a=z.field(a,"long-url");a=y.resolve(a);null!=a&&a.method(a.regex,b)})}}];y.HTML_FILTERS=[y.HTML_IMG,new h("<meta[^>]*/>","g"),new h("<(h1|header)[^>]*>.*</\\1>","g"),new h("<table([^>]*)>(.|\n|\n\r)*</table>","gm"),new h('<div class="(seperator|ga-ads)"[^>]*>(.|\n|\n\r)*</div>',"g"),new h("<([^>]*)( [^>]*)?></\\1>","g"),new h("<script[^>/]*/>",
"g"),new h("<script[^>/]*>\x3c/script>","g"),new h('style ?= ?"[^"]*"',"g")];y.HTML_CLEANERS=[{from:new h('<blockquote class="twitter-tweet">(.*)</blockquote>',"g"),to:"$1"},{from:new h("(!|\\.|,|\\?)(^ \n\t\r)","g"),to:"$1 $2"},{from:new h("(!|\\.|,|\\?)( *)","g"),to:"$1 "},{from:new h("(<br></br>|<br/>|<br />)(<br></br>|<br/>|<br />)","g"),to:"<br/>"}];x=new g.ds.StringMap;x.set("adblock","Block advertisements and sponsors");x.set("userinfo","Show information about a user upon hover");x.set("subinfo",
"Show information about a subreddit upon hover");x.set("expand","Allow expansion of images, articles, etc");x.set("text-expand","Allow expansion of images, articles etc found in comments and posts for easy viewing");x.set("dup-hider","Hide duplicate links");x.set("user-tag","Tag users");x.set("sub-tag","Tag subreddits");x.set("preview","Preview comments and posts");x.set("keys","Keyboard shortcuts");x.set("nsfw-filter","Hide NSFW content");k.DESC=x;x=new g.ds.StringMap;x.set("adblock",!0);x.set("userinfo",
!0);x.set("subinfo",!0);x.set("expand",!0);x.set("dup-hider",!0);x.set("text-expand",!0);x.set("user-tag",!0);x.set("sub-tag",!0);x.set("preview",!0);x.set("keys",!0);x.set("nsfw-filter",!1);x.set("user-tags",new g.ds.StringMap);x.set("sub-tags",new g.ds.StringMap);k.DEFAULTS=x;k.data=new g.ds.StringMap;g.Serializer.USE_CACHE=!1;g.Serializer.USE_ENUM_INDEX=!1;g.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.Unserializer.DEFAULT_RESOLVER=B;g.Unserializer.BASE64=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.ds.ObjectMap.count=0;j.main()})();
(function(){var r={},G=function(){return e.Boot.__string_rec(this,"")},I=function(){};r.Adblock=I;I.__name__=["Adblock"];I.init=function(){I.hideAll(e.Browser.document.body.getElementsByClassName("promoted"));I.hideAll(e.Browser.document.body.getElementsByClassName("infobar"));I.hideAll(e.Browser.document.body.getElementsByClassName("goldvertisement"));var a=e.Browser.document.getElementById("spotlight-help");null!=a&&j.show(a.parentNode.parentNode,!1);a=e.Browser.document.getElementById("ad-frame");
null!=a&&j.show(a,!1)};I.hideAll=function(a){for(var b=0,c=a.length;b<c;){var d=b++;j.show(a[d],!1)}};var P=function(){};r.DuplicateHider=P;P.__name__=["DuplicateHider"];P.init=function(){for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&(Q.has(a,d.href)?j.show(d.parentElement.parentElement.parentElement,!1):a.push(d.href))}};var h=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};r.EReg=h;h.__name__=["EReg"];h.prototype={replace:function(a,b){return a.replace(this.r,
b)},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:l.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;a=b}else{if(c=this.match(0>c?l.substr(a,b,null):l.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;a=c}return a},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,
this.r.s.length-a)},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return this.r.s.substr(0,this.r.m.index)},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:h};var v=function(){};r.Expand=v;v.__name__=["Expand"];v.init=function(){v.toggled="#showall"==e.Browser.window.location.hash;var a=e.Browser.document.getElementsByClassName("tabmenu")[0],
b=e.Browser.document.createElement("li");v.button=e.Browser.document.createElement("a");v.button.href="javascript:void(0);";v.refresh();v.button.onclick=function(){v.toggle(!v.toggled);e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,v.toggled?"#showall":"#")};b.appendChild(v.button);null!=a&&a.appendChild(b);a=0;for(b=j.links;a<b.length;){var c=b[a];++a;if("a"==c.nodeName.toLowerCase()){var d=c.parentElement.parentElement.parentElement.getElementsByClassName("entry")[0],c=y.createButton(c.href,
d);if(null==c)v.defaultButton(d);else{for(var f=0,q=d.getElementsByClassName("expando");f<q.length;){var X=q[f];++f;X.parentNode.removeChild(X)}d.appendChild(c);d.insertBefore(c,d.getElementsByClassName("tagline")[0])}}}};v.defaultButton=function(a){var b=!1,c=0;for(a=a.getElementsByClassName("expando-button");c<a.length;){var d=a[c];++c;b?d.parentNode.removeChild(d):(null!=d&&(b=v.adaptButton(d),b.toggle(v.toggled,!1),v.buttons.push(b)),b=!0)}};v.adaptButton=function(a){var b=e.Boot.__cast(a.parentElement.getElementsByTagName("a")[0],
HTMLAnchorElement).href;a.style.width=a.style.height="23px";return{toggled:function(){return-1!=a.className.indexOf("expanded")},toggle:function(b,d){var f=-1!=a.className.indexOf("expanded");if(b!=f)a.onclick(null);v.queue++;g.Timer.delay(function(){0<a.parentElement.getElementsByClassName("error").length?(a.onclick(null),a.onclick(null)):v.queue--},1E3*v.queue);d&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:b,element:a}};v.refresh=function(){if(null!=v.button){v.button.innerHTML=
""+(v.toggled?"hide":"show")+" all";for(var a=e.Browser.document.body.getElementsByClassName("nextprev"),b=0;b<a.length;){var c=a[b];++b;var d;d=void 0;d=[];for(var f=0,c=c.getElementsByTagName("a");f<c.length;){var q=c[f];++f;d.push(q)}for(f=0;f<d.length;)c=d[f],++f,"a"==c.nodeName.toLowerCase()&&(v.toggled&&-1==c.href.indexOf("#")?c.href+="#showall":!v.toggled&&-1!=c.href.indexOf("#")&&(c.href=l.substr(c.href,0,c.href.indexOf("#"))))}}};v.toggle=function(a){v.toggled=a;for(var b=0,c=v.buttons;b<
c.length;){var d=c[b];++b;d.toggle(a,!1)}v.refresh()};v.loadImage=function(a){var b=e.Browser.document.createElement("img");b.src=a;b.className="resize";v.initResize(b);var c=new g.Timer(30);c.run=function(){if(0<b.width&&0<b.height){c.stop();if(b.width>(0.7*e.Browser.window.innerWidth|0)){var a=b.height/b.width;b.width=0.7*e.Browser.window.innerWidth|0;b.height=b.width*a|0}b.height>(0.6*e.Browser.window.innerHeight|0)&&(a=b.width/b.height,b.height=0.6*e.Browser.window.innerHeight|0,b.width=b.height*
a|0)}};return b};v.initResize=function(a){var b=0,c=0,d=0,f=!1;a.addEventListener("mousedown",function(q){if(!q.altKey&&!q.ctrlKey&&!q.metaKey){f=!0;var e=a.getBoundingClientRect(),m=q.clientY-e.top;b=a.offsetWidth/(q.clientX-e.left);c=a.offsetHeight/m;d=a.offsetWidth/a.offsetHeight;q.preventDefault()}});a.addEventListener("mousemove",function(q){if(f){var e=a.getBoundingClientRect(),m=(q.clientX-e.left)*b,g=m/d,e=(q.clientY-e.top)*c,j=e*d;a.width=(g>e||m>j?m:j)|0;a.height=(g>e||m>j?g:e)|0;q.preventDefault()}});
a.addEventListener("dblclick",function(){a.width=a.naturalWidth;a.height=a.naturalHeight});a.addEventListener("mouseup",function(a){f=!1;a.preventDefault()});a.addEventListener("mouseout",function(a){f=!1;a.preventDefault()})};var l=function(){};r.HxOverrides=l;l.__name__=["HxOverrides"];l.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),f=a.getMinutes(),q=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>f?"0"+f:""+
f)+":"+(10>q?"0"+q:""+q)};l.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};l.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};l.substr=function(a,b,c){if(null!=b&&
0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};l.remove=function(a,b){for(var c=0,d=a.length;c<d;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};l.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var t=function(){};r.Keyboard=t;t.__name__=["Keyboard"];t.init=function(){e.Browser.document.onkeydown=function(a){t.keyDown(a.keyCode)}};t.unhighlight=
function(){if(null!=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).style.border=""};t.highlight=function(a){t.unhighlight();null!=t.current&&t.current+a<j.links.length&&(t.current+=a);if(null==t.current||null==(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null))t.current=0;(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:
null).style.border="3px solid grey";(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).scrollIntoViewIfNeeded(!0)};t.show=function(a){null==a&&(a=!0);for(var b=(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:null).getElementsByClassName("expando-button")[0],c=0,d=v.buttons;c<d.length;){var f=d[c];++c;if(f.element==b){f.toggle(a,!0);(null!=j.links[t.current]?j.links[t.current].parentElement.parentElement.parentElement:
null).scrollIntoViewIfNeeded(!0);break}}};t.keyDown=function(a){for(t.keys.push(a);t.keys.length>t.konami.length;)l.remove(t.keys,t.keys[0]);for(var b=t.keys.length>=t.konami.length,c=0,d=t.keys.length;c<d;){var f=c++;if(t.keys[f]!=t.konami[f]){b=!1;break}}b&&D.run();switch(a){case 39:t.show(!0);break;case 37:t.show(!1);break;case 38:t.highlight(-1);break;case 40:t.highlight(1)}};var D=function(){};r.Konami=D;D.__name__=["Konami"];D.translate=function(a){for(var b=0;D.filter.matchSub(a,b);)b=D.filter.matchedPos(),
a=D.words[u.random(D.words.length)],console.log(a),b=b.pos+a.length,a=D.filter.matchedLeft()+a+D.filter.matchedRight();return a};D.run=function(){e.Browser.document.title="Dubbit - the back page of the wubbanet";for(var a=0,b=j.links;a<b.length;){var c=b[a];++a;c.innerHTML=D.translate(c.innerHTML)}a=0;for(b=e.Browser.document.body.getElementsByClassName("author");a<b.length;)c=b[a],++a,c.innerHTML="dubstep";a=0;for(b=e.Browser.document.body.getElementsByClassName("subreddit");a<b.length;)c=b[a],++a,
c.innerHTML="people with brains";a=0;for(b=e.Browser.document.body.getElementsByClassName("score");a<b.length;)c=b[a],++a,c.innerHTML="-&infin;";a=0;for(b=e.Browser.document.body.getElementsByTagName("p");a<b.length;)c=b[a],++a,"parent"!=c.className&&(c.innerHTML=D.translate(c.innerHTML))};var Q=function(){};r.Lambda=Q;Q.__name__=["Lambda"];Q.has=function(a,b){var c;if(a instanceof Array)c=function(){return l.iter(a)};else if("function"==typeof a.iterator){c=a.iterator;var d=function(){return d.method.apply(d.scope,
arguments)};d.scope=a;d.method=c;c=d}else c=a.iterator;for(c=c();c.hasNext();)if(c.next()==b)return!0;return!1};var j=function(){};r.Reditn=j;for(var x="undefined"!=typeof window?window:exports,E=["Reditn"],V=0;V<E.length-1;++V){var W=E[V];"undefined"==typeof x[W]&&(x[W]={});x=x[W]}x[E[E.length-1]]=j;j.__name__=["Reditn"];j.main=function(){switch(e.Browser.document.readyState){case "complete":j.init();break;default:e.Browser.window.onload=function(){j.init()}}};j.init=function(){if(-1!=e.Browser.window.location.href.indexOf("reddit.")){j.fullPage=
0<e.Browser.document.getElementsByClassName("tabmenu").length;j.links=e.Browser.document.body.getElementsByClassName("title");for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&"parent"!=d.parentElement.className&&a.push(d)}j.links=a;j.wrap(k.init);j.wrap(I.init,"adblock");j.wrap(P.init,"dup-hider");j.wrap(R.init,"nsfw-filter");S.init();j.wrap(v.init,"expand");j.wrap(T.init,"text-expand");j.wrap(t.init,"keys");j.wrap(J.init,"preview");j.wrap(K.init,"subinfo");j.wrap(L.init,
"userinfo");j.wrap(M.init,"user-tag");j.wrap(N.init,"sub-tag");e.Browser.window.history.replaceState(g.Serializer.run(j.state()),null,v.toggled?"#showall":null);e.Browser.window.onpopstate=function(a){a=a.state;if(null!=a){a=g.Unserializer.run(a);a.allExpanded!=v.toggled&&v.toggle(a.allExpanded);for(var b=0,c=v.buttons;b<c.length;){var d=c[b];++b;var e=a.expanded;e.exists(d.url)&&d.toggle(e.get(d.url),!1)}}}}};j.state=function(){for(var a=new g.ds.StringMap,b=0,c=v.buttons;b<c.length;){var d=c[b];
++b;d.toggled()!=v.toggled&&a.set(d.url,d.toggled())}return{allExpanded:v.toggled,expanded:a}};j.wrap=function(a,b){var c=null==b?null:k.data.get(b);(null==b||c)&&a()};j.formatNumber=function(a){if(Math.isFinite(a)){var b=u.string(Math.abs(a)),c;-1!=b.indexOf(".")?(c=l.substr(b,b.indexOf("."),null),b=l.substr(b,0,b.indexOf("."))):c="";if(3<=b.length){for(var d="",f=0,q=b.length;f<q;){var e=f++,d=d+b.charAt(e);0==(b.length-(e+1))%3&&e<b.length-1&&(d+=",")}b=d}a=(0>a?"-"+b:b)+c}else a=u.string(a);return a};
j.formatPrice=function(a){var b=j.formatNumber(a|0);a=u.string(a);for(a=-1==a.indexOf(".")?".":l.substr(a,a.indexOf("."),null);3>a.length;)a+="0";return""+b+a};j.show=function(a,b){a.style.display=b?"":"none";if(-1!=a.className.indexOf("link")&&!b){var c=a.getElementsByClassName("entry")[0];l.remove(j.links,c.getElementsByTagName("a")[0])}};j.age=function(a){if(86400>a)return"less than a day";a=g.Timer.stamp()-a;var b=a/86400%30.4375|0,c=a/2629800%12|0;a=a/2629800/12|0;var d="";0<a&&(d+=""+a+" year"+
(1>=a?"":"s"));0<c&&(d+=", "+c+" month"+(1>=c?"":"s"));d+=", "+b+" day"+(1>=b?"":"s");for(p.startsWith(d,", ")&&(d=l.substr(d,2,null));-1!=d.indexOf(", , ");)d=p.replace(d,", , ",", ");return d};j.embedAlbum=function(a){var b=e.Browser.document.createElement("span");b.style.textAlign="center";for(var c=[],d=0;d<a.length;){var f=a[d];++d;c.push(function(){var a=v.loadImage(f.url);a.title=(null!=f.caption?f.caption+" ":"")+(null!=f.author?"by "+f.author:"");b.appendChild(a);j.show(a,!1);return a}(this))}var q=
null,g=e.Browser.document.createElement("span");g.style.fontWeight="bold";g.style.marginLeft="10px";var m=0,h=null,F=null,l=null;1<a.length&&(h=e.Browser.document.createElement("button"),h.innerHTML="Prev",b.appendChild(h),F=e.Browser.document.createElement("span"),F.style.textAlign="center",F.style.paddingLeft=F.style.paddingRight="5px",b.appendChild(F),l=e.Browser.document.createElement("button"),l.innerHTML="Next",b.appendChild(l));if(1<a.length||null!=a[0].caption&&0<a[0].caption.length)b.appendChild(g),
b.appendChild(e.Browser.document.createElement("br"));var k=function(d){if(!(0>d||d>=a.length)){var f=a[d],e=null;null!=q&&(j.show(q,!1),e=u.parseInt(q.style.height));q=c[d];q.style.display="block";if(null!=e){var m=q.width/q.height;q.style.height=e+"px";q.style.width=(e*m|0)+"px"}b.appendChild(q);null!=h&&(e=j.formatNumber(a.length),m=j.formatNumber(d+1),F.innerHTML=""+m+" of "+e,h.disabled=0>=d,l.disabled=d>=a.length-1);j.show(g,null!=f.caption);null!=f.caption&&(g.innerHTML=p.htmlEscape(f.caption),
null!=f.author&&(g.innerHTML+=" <em>by "+f.author+"</em>"))}};k(0);null!=h&&(h.onmousedown=function(){k(--m)},l.onmousedown=function(){k(++m)});return b};j.getData=function(a){for(;null!=a.data;)a=a.data;for(;null!=a.response;)a=a.response;return a};j.getText=function(a,b,c,d,f){a=new g.Http(a);null!=c&&a.setHeader("Authorization",c);null!=d&&a.setHeader("Content-Type",d);a.onData=b;null!=f&&a.setPostData(f);a.request(null!=f)};j.embedMap=function(a){for(var b=e.Browser.document.createElement("dl"),
c=a.keys();c.hasNext();){var d=c.next();if(null!=a.get(d)&&0<a.get(d).length){var f=e.Browser.document.createElement("dt");f.innerHTML=d;b.appendChild(f);f=e.Browser.document.createElement("dd");f.innerHTML=a.get(d);b.appendChild(f)}}b.className="md reditn-table";return b};j.getJSON=function(a,b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){p.startsWith(a,"jsonFlickrApi(")&&p.endsWith(a,")")&&(a=a.substring(14,a.length-1));b(j.getData(g.Json.parse(a)))},c,d,f)};j.getXML=function(a,
b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){b(j.getData(n.parse(a)))},c,d,f)};j.popUp=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);e.Browser.document.body.appendChild(b);b.className="popup";b.style.position="absolute";b.style.width=(0.25*e.Browser.window.innerWidth|0)+"px";b.style.left=""+c+"px";b.style.top=""+(d-30)+"px";a.onmouseout=b.onblur=function(){b.parentElement.removeChild(b);a.mouseover=!1};return b};j.fullPopUp=function(a,b){null==b&&(b=0);var c=e.Browser.document.getElementsByClassName("popup")[0];
null!=c&&c.parentElement.removeChild(c);e.Browser.document.body.appendChild(a);c=e.Browser.document.createElement("a");c.style.position="absolute";c.style.right=c.style.top="5px";c.innerHTML="<b>Close</b>";c.href="javascript:void(0);";c.onclick=a.onblur=function(){a.parentElement.removeChild(a)};a.appendChild(c);a.className="popup";0!=b&&(a.style.top=""+(b-e.Browser.window.scrollY)+"px");return a};var p=function(){};r.StringTools=p;p.__name__=["StringTools"];p.urlEncode=function(a){return encodeURIComponent(a)};
p.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};p.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};p.startsWith=function(a,b){return a.length>=b.length&&l.substr(a,0,b.length)==b};p.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&l.substr(a,d-c,c)==b};p.isSpace=function(a,b){var c=l.cca(a,b);return 8<c&&14>c||32==c};p.ltrim=function(a){for(var b=
a.length,c=0;c<b&&p.isSpace(a,c);)c++;return 0<c?l.substr(a,c,b-c):a};p.rtrim=function(a){for(var b=a.length,c=0;c<b&&p.isSpace(a,b-c-1);)c++;return 0<c?l.substr(a,0,b-c):a};p.trim=function(a){return p.ltrim(p.rtrim(a))};p.replace=function(a,b,c){return a.split(b).join(c)};var g={Json:function(){}};r["haxe.Json"]=g.Json;g.Json.__name__=["haxe","Json"];g.Json.parse=function(a){return(new g.Json).doParse(a)};g.Json.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,d=!c,f=48==a,e=!1,g=
!1,m=!1,j=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:f&&!e&&this.invalidNumber(b);c&&(c=!1,f=!0);d=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f&&!e&&this.invalidNumber(b);c&&(c=!1);d=!0;f=!1;break;case 46:(c||e)&&this.invalidNumber(b);d=!1;e=!0;break;case 101:case 69:(c||f||g)&&this.invalidNumber(b);d=!1;g=!0;break;case 43:case 45:(!g||m)&&this.invalidNumber(b);d=!1;m=!0;break;default:d||this.invalidNumber(b),this.pos--,j=!0}if(j)break}a=u.parseFloat(l.substr(this.str,
b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+l.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new H;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\b";break;case 102:b.b+="\f";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);
break;case 117:a=u.parseInt("0x"+l.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;
case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),
a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=
this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:g.Json};g.Http=function(a){this.url=a;this.headers=new g.ds.StringMap;
this.params=new g.ds.StringMap;this.async=!0};r["haxe.Http"]=g.Http;g.Http.__name__=["haxe","Http"];g.Http.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=this;b.responseData=null;var c=e.Browser.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(b.responseData=c.responseText);else if(null==a)b.onError("Failed to connect or resolve host");
else switch(a){case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var f=this.postData;if(null!=f)a=!0;else for(var q=this.params.keys();q.hasNext();)var g=q.next(),f=null==f?"":f+"&",f=f+(p.urlEncode(g)+"="+p.urlEncode(this.params.get(g)));try{if(a)c.open("POST",this.url,this.async);else if(null!=f){var m=1>=this.url.split("?").length;c.open("GET",
this.url+(m?"?":"&")+f,this.async);f=null}else c.open("GET",this.url,this.async)}catch(j){this.onError(j.toString());return}null==this.headers.get("Content-Type")&&(a&&null==this.postData)&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)q=a.next(),c.setRequestHeader(q,this.headers.get(q));c.send(f);this.async||d(null)},setPostData:function(a){this.postData=a;return this},setHeader:function(a,b){this.headers.set(a,b);return this},__class__:g.Http};
x=function(){};r.IMap=x;x.__name__=["IMap"];g.ds={};g.ds.StringMap=function(){this.h={}};r["haxe.ds.StringMap"]=g.ds.StringMap;g.ds.StringMap.__name__=["haxe","ds","StringMap"];g.ds.StringMap.__interfaces__=[x];g.ds.StringMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return l.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:g.ds.StringMap};var u=
function(){};r.Std=u;u.__name__=["Std"];u.string=function(a){return e.Boot.__string_rec(a,"")};u.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==l.cca(a,1)||88==l.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};u.parseFloat=function(a){return parseFloat(a)};u.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var e={Boot:function(){}};r["js.Boot"]=e.Boot;e.Boot.__name__=["js","Boot"];e.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;
if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,f=a.length;d<f;)var q=d++,c=2!=q?c+(","+e.Boot.__string_rec(a[q],b)):c+e.Boot.__string_rec(a[q],b);return c+")"}d=a.length;c="[";b+="\t";for(f=0;f<d;)q=f++,c+=(0<q?",":"")+e.Boot.__string_rec(a[q],b);return c+"]"}try{f=a.toString}catch(g){return"???"}if(null!=f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;
f=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(f in a)if(!d||a.hasOwnProperty(f))"prototype"==f||("__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f)||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+e.Boot.__string_rec(a[f],b));b=b.substring(1);return c+="\n"+b+"}";case "function":return"<function>";case "string":return a;default:return String(a)}};e.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var q=
d++,q=c[q];if(q==b||e.Boot.__interfLoop(q,b))return!0}return e.Boot.__interfLoop(a.__super__,b)};e.Boot.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(e.Boot.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case Y:return Math.ceil(a%2147483648)===a;case Z:return"number"==typeof a;case U:return!0===a||!1===a;case String:return"string"==typeof a;case $:return!0;default:if(null==a)return!1;if(b==aa&&null!=a.__name__)return!0;null;if(b==
ba&&null!=a.__ename__)return!0;null;return a.__enum__==b}};e.Boot.__cast=function(a,b){if(e.Boot.__instanceof(a,b))return a;throw"Cannot cast "+u.string(a)+" to "+u.string(b);};var z=function(){};r.Reflect=z;z.__name__=["Reflect"];z.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};z.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};z.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&c.call(a,d)&&b.push(d)}return b};
z.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};z.deleteField=function(a,b){if(!z.hasField(a,b))return!1;delete a[b];return!0};var A,C;A=function(){};r["parser.MediaWiki"]=A;A.__name__=["parser","MediaWiki"];A.parse=function(a,b){for(var c=0,d=A.regex;c<d.length;){var f=d[c];++c;for(var e=0;f.from.match(a)&&64>e++;)a=f.from.replace(a,f.to),f.from.matchedPos()}a=p.replace(a,"$BASE",b);p.startsWith(a,"<br>")&&(a=l.substr(a,4,null));a.split("{{").length<a.split("}}").length&&
(a=l.substr(a,a.indexOf("}}")+2,null));return a};A.trimTo=function(a,b){b=p.trim(p.replace(b,"_"," "));for(var c={pos:0,len:0},d=null;A.sections.matchSub(a,c.pos+c.len);)if(c=A.sections.matchedPos(),p.trim(A.sections.matched(2))==p.trim(b)){d=A.sections.matched(1).length;break}null!=d&&(a=l.substr(a,c.pos+c.len,null),a=l.substr(a,0,a.indexOf("<h"+d+">")));return a};A.getAlbum=function(a){for(var b=[];A.IMAGES.match(a);){var c=A.IMAGES.matchedPos();a=l.substr(a,c.pos+c.len,null);c=A.IMAGES.matched(2)+
"."+A.IMAGES.matched(3);p.startsWith(c,"File:")&&(c=l.substr(c,5,null));b.push({url:c,caption:null,author:null})}return b};e.Browser=function(){};r["js.Browser"]=e.Browser;e.Browser.__name__=["js","Browser"];e.Browser.getLocalStorage=function(){try{var a=e.Browser.window.localStorage;a.getItem("");return a}catch(b){return null}};e.Browser.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");
throw"Unable to create XMLHttpRequest object.";};C=function(){};r["parser.Markdown"]=C;C.__name__=["parser","Markdown"];C.parse=function(a){for(;C.header.match(a);)C.header.matchedPos(),a=1+C.header.matched(1).length,6<a&&(a=6),a=C.header.matchedLeft()+("<h"+a+">"+C.header.matched(2)+"</h"+a+">")+C.header.matchedRight();for(var b=0,c=C.regex;b<c.length;){var d=c[b];for(++b;d.from.match(a);)a=d.from.replace(a,d.to)}return a};var n=function(){};r.Xml=n;n.__name__=["Xml"];n.parse=function(a){return g.xml.Parser.parse(a)};
n.createElement=function(a){var b=new n;b.nodeType=n.Element;b._children=[];b._attributes=new g.ds.StringMap;b.set_nodeName(a);return b};n.createPCData=function(a){var b=new n;b.nodeType=n.PCData;b.set_nodeValue(a);return b};n.createCData=function(a){var b=new n;b.nodeType=n.CData;b.set_nodeValue(a);return b};n.createComment=function(a){var b=new n;b.nodeType=n.Comment;b.set_nodeValue(a);return b};n.createDocType=function(a){var b=new n;b.nodeType=n.DocType;b.set_nodeValue(a);return b};n.createProcessingInstruction=
function(a){var b=new n;b.nodeType=n.ProcessingInstruction;b.set_nodeValue(a);return b};n.createDocument=function(){var a=new n;a.nodeType=n.Document;a._children=[];return a};n.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&l.remove(a._parent._children,a);a._parent=this;this._children.push(a)},exists:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=n.Element)throw"bad nodeType";
this._attributes.set(a,b)},set_nodeValue:function(a){if(this.nodeType==n.Element||this.nodeType==n.Document)throw"bad nodeType";return this._nodeValue=a},set_nodeName:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName},__class__:n};g.xml={};g.xml.Parser=function(){};r["haxe.xml.Parser"]=g.xml.Parser;g.xml.Parser.__name__=["haxe","xml","Parser"];g.xml.Parser.parse=function(a){var b=
n.createDocument();g.xml.Parser.doParse(a,0,b);return b};g.xml.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,f=1,e=1,j=null,m=0,h=0,F=0,s=a.charCodeAt(b),p=new H;s==s;){switch(f){case 0:switch(s){case 10:case 13:case 9:case 32:break;default:f=e;continue}break;case 1:switch(s){case 60:f=0;e=2;break;default:m=b;f=13;continue}break;case 13:60==s?(f=n.createPCData(p.b+l.substr(a,m,b-m)),p=new H,c.addChild(f),h++,f=0,e=2):38==s&&(p.addSub(a,m,b-m),f=18,e=13,m=b+1);break;case 17:93==s&&(93==
a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(f=n.createCData(l.substr(a,m,b-m)),c.addChild(f),h++,b+=2,f=1);break;case 2:switch(s){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=l.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;f=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=l.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;f=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;f=15}m=b+1;break;case 63:f=14;m=b;break;
case 47:if(null==c)throw"Expected node name";m=b+1;f=0;e=10;break;default:f=3;m=b;continue}break;case 3:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(b==m)throw"Expected node name";d=n.createElement(l.substr(a,m,b-m));c.addChild(d);f=0;e=4;continue}break;case 4:switch(s){case 47:f=11;h++;break;case 62:f=9;h++;break;default:f=5;m=b;continue}break;case 5:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected attribute name";
j=l.substr(a,m,b-m);if(d.exists(j))throw"Duplicate attribute";f=0;e=6;continue}break;case 6:switch(s){case 61:f=0;e=7;break;default:throw"Expected =";}break;case 7:switch(s){case 34:case 39:f=8;m=b;break;default:throw'Expected "';}break;case 8:s==a.charCodeAt(m)&&(e=l.substr(a,m+1,b-m-1),d.set(j,e),f=0,e=4);break;case 9:m=b=g.xml.Parser.doParse(a,b,d);f=1;break;case 11:switch(s){case 62:f=1;break;default:throw"Expected >";}break;case 12:switch(s){case 62:return 0==h&&c.addChild(n.createPCData("")),
b;default:throw"Expected >";}case 10:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected node name";if(l.substr(a,m,b-m)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";f=0;e=12;continue}break;case 15:45==s&&(45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(c.addChild(n.createComment(l.substr(a,m,b-m))),b+=2,f=1);break;case 16:91==s?F++:93==s?F--:62==s&&0==F&&(c.addChild(n.createDocType(l.substr(a,m,b-m))),f=1);break;case 14:63==s&&62==a.charCodeAt(b+
1)&&(b++,f=l.substr(a,m+1,b-m-2),c.addChild(n.createProcessingInstruction(f)),f=1);break;case 18:59==s&&(m=l.substr(a,m,b-m),35==m.charCodeAt(0)?(m=120==m.charCodeAt(1)?u.parseInt("0"+l.substr(m,1,m.length-1)):u.parseInt(l.substr(m,1,m.length-1)),p.b+=u.string(String.fromCharCode(m))):p.b=g.xml.Parser.escapes.exists(m)?p.b+u.string(g.xml.Parser.escapes.get(m)):p.b+u.string("&"+m+";"),m=b+1,f=e)}s=a.charCodeAt(++b)}1==f&&(m=b,f=13);if(13==f)return(b!=m||0==h)&&c.addChild(n.createPCData(p.b+l.substr(a,
m,b-m))),b;throw"Unexpected end";};var H=function(){this.b=""};r.StringBuf=H;H.__name__=["StringBuf"];H.prototype={addSub:function(a,b,c){this.b+=null==c?l.substr(a,b,null):l.substr(a,b,c)},__class__:H};var y=function(){};r.Link=y;y.__name__=["Link"];y.resolve=function(a){a=y.trimURL(a);for(var b=0,c=y.sites;b<c.length;){var d=c[b];++b;try{if(d.regex.match(a)&&d.regex.matchedPos().len==a.length)return d}catch(f){console.log("Error "+u.string(f)+" whilst processing regex "+u.string(d.regex))}}return null};
y.trimURL=function(a){p.startsWith(a,"http://")?a=l.substr(a,7,null):p.startsWith(a,"https://")&&(a=l.substr(a,8,null));p.startsWith(a,"www.")?a=l.substr(a,4,null):p.startsWith(a,"m.")&&(a=l.substr(a,2,null));-1!=a.indexOf("&")&&(a=l.substr(a,0,a.indexOf("&")));-1!=a.indexOf("?")&&!p.startsWith(a,"facebook.com/")&&(a=l.substr(a,0,a.indexOf("?")));-1!=a.indexOf("#")&&-1==a.indexOf("/wiki/")&&(a=l.substr(a,0,a.indexOf("#")));p.endsWith(a,"/")&&(a=l.substr(a,0,a.length-1));return a};y.filterHTML=function(a){for(var b=
0,c=y.HTML_FILTERS;b<c.length;){var d=c[b];for(++b;d.match(a);)a=d.replace(a,"")}b=0;for(c=y.HTML_CLEANERS;b<c.length;)d=c[b],++b,a=d.from.replace(a,d.to);if(p.startsWith(a,"<br>")||p.startsWith(a,"<br />"))a=l.substr(a,a.indexOf(">")+1,null);p.endsWith(a,"<br>")&&(a=l.substr(a,0,a.length-4));return a};y.createButton=function(a,b,c){var d=y.resolve(a),f=null;if(null!=d){var q=e.Browser.document.createElement("div"),h="expando-button ",m=v.toggled,l=m?"expanded":"collapsed";q.className=""+h+" "+l;
f={toggled:function(){return m},toggle:function(a,b){m=a;q.className=h+(l=m?"expanded":"collapsed");for(var c=q.parentElement.getElementsByClassName("expando"),d=0;d<c.length;){var f=c[d];++d;j.show(f,a)}b&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:a,element:q};q.onclick=function(){f.toggle(!m,!0)};d.method(d.regex,function(d){var s="selftext",k;if(z.hasField(d,"urls")){var r=[];for(k=d.urls.keys();k.hasNext();){var n=k.next();r.push('<li><a href="'+d.urls.get(n)+
'">'+n+"</a></li>")}k=e.Browser.document.createElement("div");k.className="usertext";n=e.Browser.document.createElement("div");n.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Name",d.name);a.set("Description",d.description);a.set("Links",r.join(""));return a}(this)));0<d.album.length&&(n.appendChild(e.Browser.document.createElement("br")),n.appendChild(j.embedAlbum(d.album)));k.appendChild(n)}else if(z.hasField(d,"price"))console.log(d),k=e.Browser.document.createElement("div"),
k.className="usertext",s=e.Browser.document.createElement("div"),s.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Category",p.htmlEscape(d.category));a.set("Location",p.htmlEscape(d.location));a.set("Price",p.htmlEscape(d.price));a.set("Description",d.description);return a}(this))),s.appendChild(j.embedAlbum(d.images)),k.appendChild(s),s="item";else if(z.hasField(d,"subscribers"))k=e.Browser.document.createElement("div"),k.className="usertext",k.appendChild(j.embedMap(function(){var a=
new g.ds.StringMap;a.set("Age",j.age(d.created_utc));a.set("Subscribers",j.formatNumber(d.subscribers));a.set("Active users",j.formatNumber(d.accounts_active));a.set("Description",C.parse(d.description));return a}(this)));else if(z.hasField(d,"content")){k=e.Browser.document.createElement("div");k.className="usertext";var n=e.Browser.document.createElement("div"),t=e.Browser.document.createElement("span");t.innerHTML=d.content;n.appendChild(t);null!=d.images&&0<d.images.length&&(n.appendChild(e.Browser.document.createElement("br")),
n.appendChild(j.embedAlbum(d.images)));n.className="md";k.appendChild(n)}else e.Boot.__instanceof(d,Array)&&z.hasField(d[0],"url")?(k=j.embedAlbum(d),s="image"):z.hasField(d,"developers")?(console.log(a),k=e.Browser.document.createElement("div"),k.className="usertext",n=e.Browser.document.createElement("div"),t=e.Browser.document.createElement("span"),t.innerHTML=""+u.string(d.description)+'<br><a href="'+u.string(d.url)+'"><b>Clone repo</b></a><br>',null!=d.album&&0<d.album.length&&t.appendChild(j.embedAlbum(d.album)),
n.appendChild(t),n.className="md",k.appendChild(n)):k=null;null!=k&&(n=e.Browser.document.createElement("div"),n.className="expando",n.appendChild(k),h+=""+s+" ",q.className=""+h+" "+l,v.buttons.push(f),j.show(n,m),null==c?b.appendChild(n):b.insertBefore(n,c.nextSibling),b.insertBefore(q,n))})}return null!=f?f.element:null};var O=function(){this.length=0};r.List=O;O.__name__=["List"];O.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==
this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:O};var R=function(){};r.NSFWFilter=R;R.__name__=["NSFWFilter"];R.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("nsfw-stamp"),b=0;b<a.length;){var c=a[b];++b;"li"==c.nodeName.toLowerCase()&&j.show(c.parentNode.parentNode.parentNode,!1)}};var J=function(){};r.Preview=J;J.__name__=["Preview"];J.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-edit"),
b=0;b<a.length;){var c=a[b];++b;J.preview(c)}};J.preview=function(a){var b=a.getElementsByTagName("textarea")[0];if(null!=b){var c=e.Browser.document.createElement("div");a.appendChild(c);c.className="md";var d=null;b.onfocus=function(){d=new g.Timer(100);d.run=function(){c.innerHTML=C.parse(b.value)}};b.onblur=function(){d.stop();d=null}}};var k=function(){};r.Settings=k;k.__name__=["Settings"];k.optimisedData=function(){for(var a=new g.ds.StringMap,b=k.data.keys();b.hasNext();){var c=b.next(),d=
k.data.get(c);k.DEFAULTS.get(c)!=d&&a.set(c,d)}return g.Serializer.run(a)};k.save=function(){g.Serializer.USE_CACHE=!1;e.Browser.getLocalStorage().setItem("reditn",k.optimisedData())};k.init=function(){var a=e.Browser.getLocalStorage().getItem("reditn");if(null!=a){var b;try{b=g.Unserializer.run(a)}catch(c){b=k.data}k.data=b}k.fixMissing();a=e.Browser.document.getElementById("header-bottom-right");b=a.getElementsByTagName("ul")[0];var d=e.Browser.document.createElement("a");d.innerHTML="reditn";d.className=
"pref-lang";d.href="javascript:void(0);";d.onclick=function(){k.settingsPopUp()};null==b?a.appendChild(d):a.insertBefore(d,b);d=e.Browser.document.createElement("span");d.innerHTML=" | ";d.className="seperator";d.style.fontWeight="none";a.insertBefore(d,b)};k.settingsPopUp=function(){var a=e.Browser.document.getElementById("reditn-config");null!=a&&a.parentElement.removeChild(a);var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("h1");b.innerHTML="Reditn settings";a.appendChild(b);
j.fullPopUp(a);var c=e.Browser.document.createElement("form");c.id="reditn-config";c.action="javascript:void(0);";c.onchange=function(){for(var a=c.childNodes,b=0;b<a.length;){var d=a[b];++b;if("button"!=d.type&&"input"==d.nodeName.toLowerCase()){var f=void 0;switch(d.type.toLowerCase()){case "checkbox":f=d.checked;break;default:f=d.value}k.data.set(d.name,f)}}k.save()};b=e.Browser.document.createElement("input");b.type="button";b.value="Restore default settings";b.onclick=function(){k.fixMissing(!0);
k.save();k.settingsPopUp()};c.appendChild(b);b=k.makeButton("Export settings to text",function(){e.Browser.window.alert(e.Browser.window.btoa(k.optimisedData()))});c.appendChild(b);b=k.makeButton("Import settings",function(){k.data=g.Unserializer.run(e.Browser.window.atob(e.Browser.window.prompt("Settings to import",e.Browser.window.btoa(k.optimisedData()))));k.fixMissing();k.save();k.settingsPopUp()});c.appendChild(b);c.appendChild(e.Browser.document.createElement("br"));for(b=k.data.keys();b.hasNext();){var d=
b.next(),f=k.data.get(d);if(!e.Boot.__instanceof(f,g.ds.StringMap)&&k.DESC.exists(d)){var q=k.DESC.get(d),h=e.Browser.document.createElement("label");h.setAttribute("for",d);h.style.position="absolute";h.style.width="46%";h.style.textAlign="right";h.innerHTML=""+q+" ";c.appendChild(h);q=e.Browser.document.createElement("input");q.style.position="absolute";q.style.left="54%";q.style.textAlign="left";q.style.width="46%";q.name=d;c.appendChild(q);c.appendChild(e.Browser.document.createElement("br"));
q.type=e.Boot.__instanceof(f,U)?"checkbox":e.Boot.__instanceof(f,String)?"text":e.Boot.__instanceof(f,Date)?"datetime":e.Boot.__instanceof(f,Y)?"number":null;e.Boot.__instanceof(f,U)?q.checked=k.data.get(d):q.value=k.data.get(d)}}b=e.Browser.document.createElement("div");b.style.fontWeight="bold";b.innerHTML="Close this dialog and refresh the page to see your changes in effect. Changes will be saved automatically.";c.appendChild(b);a.appendChild(c)};k.makeButton=function(a,b){var c=e.Browser.document.createElement("input");
c.type="button";c.value=a;c.onclick=b;return c};k.fixMissing=function(a){null==a&&(a=!1);for(var b=k.DEFAULTS.keys();b.hasNext();){var c=b.next();if(a||!k.data.exists(c))k.data.set(c,e.Boot.__instanceof(k.DEFAULTS.get(c),g.ds.StringMap)?new g.ds.StringMap:k.DEFAULTS.get(c))}};var S=function(){};r.Style=S;S.__name__=["Style"];S.init=function(){var a=e.Browser.document.createElement("style");a.innerHTML='.expando-button.image.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.collapsed {\n\tpadding: 0px;\n}\np .expando-button {\n\tdisplay: inline-block;\n\tfloat: none;\n\tmargin: 0px;\n\tpadding: 0px;\n}\ndl.reditn-table  {\n\tfloat: left;\n\twidth: 100%;\n\tpadding: 0;\n}\n.reditn-table dt {\n\tclear: left;\n\tfloat: left;\n\twidth: 16%;\n\tfont-weight: bold;\n\ttext-align: right;\n}\n.reditn-table dd {\n\tfloat: left;\n\ttext-align: left;\n}';
e.Browser.document.head.appendChild(a)};var K=function(){};r.SubredditInfo=K;K.__name__=["SubredditInfo"];K.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=K._onMouseOverSubreddit}};K._onMouseOverSubreddit=function(a){a=a.target;var b=a.innerHTML,c=e.Browser.document.createElement("div");j.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/r/"+b+"/about.json",function(a){var f=j.formatNumber(a.subscribers),
e=j.formatNumber(a.accounts_active),g=C.parse(a.public_description);a=j.age(a.created_utc);var m="<b>Name:</b> "+b+" <br>",h=k.data.get("sub-tags");h.exists(b)&&(m+="<b>Tag:</b> "+h.get(b)+"<br>");m=m+("<b>Subscribers:</b> "+f+" <br>")+("<b>Active Users:</b> "+e+" <br>");m+="<b>Description:</b> "+g+" <br>";m+="<b>Age:</b> "+a+" <br>";c.innerHTML=m})};var N=function(){};r.SubredditTagger=N;N.__name__=["SubredditTagger"];N.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),
b=0;b<a.length;){var c=a[b];++b;N.getTag(c)}};N.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("sub-tags").exists(c)?k.data.get("sub-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),
b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("sub-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};var T=function(){};r.TextExpand=
T;T.__name__=["TextExpand"];T.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-body"),b=0;b<a.length;){var c=a[b];++b;for(var c=e.Boot.__cast(c,Element).getElementsByClassName("md")[0].getElementsByTagName("a"),d=0;d<c.length;){var f=c[d];++d;y.createButton(f.href,f.parentElement,f)}}};var w=r.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};w.TNull=["TNull",0];w.TNull.toString=G;w.TNull.__enum__=
w;w.TInt=["TInt",1];w.TInt.toString=G;w.TInt.__enum__=w;w.TFloat=["TFloat",2];w.TFloat.toString=G;w.TFloat.__enum__=w;w.TBool=["TBool",3];w.TBool.toString=G;w.TBool.__enum__=w;w.TObject=["TObject",4];w.TObject.toString=G;w.TObject.__enum__=w;w.TFunction=["TFunction",5];w.TFunction.toString=G;w.TFunction.__enum__=w;w.TClass=function(a){a=["TClass",6,a];a.__enum__=w;a.toString=G;return a};w.TEnum=function(a){a=["TEnum",7,a];a.__enum__=w;a.toString=G;return a};w.TUnknown=["TUnknown",8];w.TUnknown.toString=
G;w.TUnknown.__enum__=w;var B=function(){};r.Type=B;B.__name__=["Type"];B.getClassName=function(a){return a.__name__.join(".")};B.getEnumName=function(a){return a.__ename__.join(".")};B.resolveClass=function(a){a=r[a];return null==a||!a.__name__?null:a};B.resolveEnum=function(a){a=r[a];return null==a||!a.__ename__?null:a};B.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};B.createEnum=function(a,b,c){var d=z.field(a,b);if(null==d)throw"No such constructor "+b;if(z.isFunction(d)){if(null==
c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};B.getEnumConstructs=function(a){return a.__constructs__.slice()};B["typeof"]=function(a){switch(typeof a){case "boolean":return w.TBool;case "string":return w.TClass(String);case "number":return Math.ceil(a)==a%2147483648?w.TInt:w.TFloat;case "object":if(null==a)return w.TNull;var b=a.__enum__;if(null!=b)return w.TEnum(b);a=a.__class__;return null!=a?w.TClass(a):
w.TObject;case "function":return a.__name__||a.__ename__?w.TObject:w.TFunction;case "undefined":return w.TNull;default:return w.TUnknown}};var L=function(){};r.UserInfo=L;L.__name__=["UserInfo"];L.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=L._onMouseOverUser}};L._onMouseOverUser=function(a){a=a.target;var b=a.innerHTML,b=l.substr(b,b.lastIndexOf("/")+1,null),c=e.Browser.document.createElement("div");j.popUp(a,c,
a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/user/"+b+"/about.json",function(a){var b=a.name,e=j.age(a.created_utc),g=j.formatNumber(a.link_karma),h=j.formatNumber(a.comment_karma),l="<b>User:</b> "+b+"<br>",p=k.data.get("user-tags");p.exists(b)&&(l+="<b>Tag:</b> "+p.get(b)+"<br>");l=l+("<b>Account age:</b> "+e+"<br>")+("<b>Karma:</b> "+g+" link karma, "+h+" comment karma");a.is_mod&&(l+="<br><b>Moderator</b>");a.is_gold&&(l+="<br><b>Gold</b>");c.innerHTML=l})};var M=function(){};r.UserTagger=
M;M.__name__=["UserTagger"];M.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;M.getTag(c)}};M.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("user-tags").exists(c)?k.data.get("user-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";
g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("user-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+
g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};r.XmlType={__ename__:["XmlType"],__constructs__:[]};g.Serializer=function(){this.buf=new H;this.cache=[];this.useCache=g.Serializer.USE_CACHE;this.useEnumIndex=g.Serializer.USE_ENUM_INDEX;this.shash=new g.ds.StringMap;this.scount=0};r["haxe.Serializer"]=g.Serializer;g.Serializer.__name__=["haxe","Serializer"];g.Serializer.run=function(a){var b=new g.Serializer;b.serialize(a);return b.toString()};g.Serializer.prototype={serialize:function(a){var b=
B["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=u.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=u.string(a)):this.buf.b+=u.string(0>a?"m":"p");break;case 3:this.buf.b+=u.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var d=a.length,f=0;f<d;)b=f++,
null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=u.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=u.string(c)));this.buf.b+="h";break;case O:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=u.string(l.dateStr(a));break;case g.ds.StringMap:this.buf.b+="b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));
this.buf.b+="h";break;case g.ds.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=u.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case g.ds.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=c.next(),d=z.field(b,"__id__"),z.deleteField(b,"__id__"),this.serialize(b),b.__id__=d,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case g.io.Bytes:b=0;c=a.length-2;d=new H;for(f=g.Serializer.BASE64;b<c;){var e=a.b[b++],h=a.b[b++],j=a.b[b++];d.b+=u.string(f.charAt(e>>
2));d.b+=u.string(f.charAt((e<<4|h>>4)&63));d.b+=u.string(f.charAt((h<<2|j>>6)&63));d.b+=u.string(f.charAt(j&63))}b==c?(e=a.b[b++],h=a.b[b++],d.b+=u.string(f.charAt(e>>2)),d.b+=u.string(f.charAt((e<<4|h>>4)&63)),d.b+=u.string(f.charAt(h<<2&63))):b==c+1&&(e=a.b[b++],d.b+=u.string(f.charAt(e>>2)),d.b+=u.string(f.charAt(e<<4&63)));b=d.b;this.buf.b+="s";this.buf.b+=u.string(b.length);this.buf.b+=":";this.buf.b+=u.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(B.getClassName(b)),
this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(B.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=u.string(this.useEnumIndex?"j":"w");this.serializeString(B.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=u.string(a[1])):this.serializeString(a[0]);
this.buf.b+=":";d=a.length;this.buf.b+=u.string(d-2);for(f=2;f<d;)b=f++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+u.string(a);}},serializeFields:function(a){for(var b=0,c=z.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(z.field(a,d))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var f=c++,e=this.cache[f];if(typeof e==b&&e==a)return this.buf.b+="r",
this.buf.b+=u.string(f),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=u.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=p.urlEncode(a),this.buf.b+=u.string(a.length),this.buf.b+=":",this.buf.b+=u.string(a))},toString:function(){return this.buf.b},__class__:g.Serializer};g.Timer=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};r["haxe.Timer"]=g.Timer;g.Timer.__name__=["haxe","Timer"];g.Timer.delay=
function(a,b){var c=new g.Timer(b);c.run=function(){c.stop();a()};return c};g.Timer.stamp=function(){return(new Date).getTime()/1E3};g.Timer.prototype={run:function(){console.log("run")},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:g.Timer};g.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=g.Unserializer.DEFAULT_RESOLVER;null==a&&(a=B,g.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};r["haxe.Unserializer"]=
g.Unserializer;g.Unserializer.__name__=["haxe","Unserializer"];g.Unserializer.initCodes=function(){for(var a=[],b=0,c=g.Unserializer.BASE64.length;b<c;){var d=b++;a[g.Unserializer.BASE64.charCodeAt(d)]=d}return a};g.Unserializer.run=function(a){return(new g.Unserializer(a)).unserialize()};g.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return u.parseFloat(l.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=l.substr(this.buf,this.pos,b);this.pos+=b;a=p.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=
this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();
a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=B.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+
b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new O;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new g.ds.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new g.ds.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);
if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new g.ds.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=l.strDate(l.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";d=g.Unserializer.CODES;null==d&&(d=g.Unserializer.initCodes(),g.Unserializer.CODES=
d);for(var a=this.pos,f=b&3,e=a+(b-f),h=g.io.Bytes.alloc(3*(b>>2)+(2<=f?f-1:0)),j=0;a<e;){var k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)];h.b[j++]=(k<<2|n>>4)&255;k=d[c.charCodeAt(a++)];h.b[j++]=(n<<4|k>>2)&255;n=d[c.charCodeAt(a++)];h.b[j++]=(k<<6|n)&255}2<=f&&(k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)],h.b[j++]=(k<<2|n>>4)&255,3==f&&(k=d[c.charCodeAt(a++)],h.b[j++]=(n<<4|k>>2)&255));this.pos+=b;this.cache.push(h);return h;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==
a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return B.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return B.createEnum(a,b,d)},unserializeObject:function(a){for(;;){if(this.pos>=
this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!e.Boot.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},
resolveEnum:function(){return null}}:a},__class__:g.Unserializer};g.ds.IntMap=function(){this.h={}};r["haxe.ds.IntMap"]=g.ds.IntMap;g.ds.IntMap.__name__=["haxe","ds","IntMap"];g.ds.IntMap.__interfaces__=[x];g.ds.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return l.iter(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:g.ds.IntMap};g.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};r["haxe.ds.ObjectMap"]=g.ds.ObjectMap;
g.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];g.ds.ObjectMap.__interfaces__=[x];g.ds.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return l.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=++g.ds.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:g.ds.ObjectMap};g.io={};g.io.Bytes=function(a,b){this.length=a;this.b=b};r["haxe.io.Bytes"]=g.io.Bytes;g.io.Bytes.__name__=["haxe","io","Bytes"];
g.io.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new g.io.Bytes(a,b)};g.io.Bytes.prototype={__class__:g.io.Bytes};Array.prototype.indexOf?l.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0}:null;"undefined"!=typeof JSON&&(g.Json=JSON);String.prototype.__class__=r.String=String;String.__name__=["String"];Array.prototype.__class__=r.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=r.Date=Date;Date.__name__=["Date"];var Y=r.Int={__name__:["Int"]},
$=r.Dynamic={__name__:["Dynamic"]},Z=r.Float=Number;Z.__name__=["Float"];var U=r.Bool=Boolean;U.__ename__=["Bool"];var aa=r.Class={__name__:["Class"]},ba={};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;r.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};n.Element="element";n.PCData="pcdata";n.CData="cdata";n.Comment="comment";n.DocType="doctype";n.ProcessingInstruction=
"processingInstruction";n.Document="document";v.buttons=[];v.queue=0;t.keys=[];t.konami=[38,38,40,40,37,39,37,39,66,65];D.words=["wubba","mcwubber","dubba","dadubber"];D.filter=new h("[a-zA-Z]*","");j.fullPage=!0;A.regex=[{from:new h("\\[\\[Category:([^\\]]*)\\]\\]",""),to:""},{from:new h("\\[\\[([^\\]\n]*)\\|([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$2</a>'},{from:new h("\\[\\[([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$1</a>'},{from:new h("<gallery>(.|\n|\n\r)*</gallery>",
""),to:""},{from:new h("\\[\\[File:([^\\]]*)\\]\\]",""),to:""},{from:new h("(=*) ?(References|Gallery) ?\\1.*\\1?",""),to:""},{from:new h("{{spaced ndash}}",""),to:" - "},{from:new h("\\{\\{convert\\|([0-9]*)\\|([^\\|]*)([^\\}]*)\\}\\}",""),to:"$1 $2"},{from:new h("\\{\\{([^\\}]*)\\}\\}",""),to:""},{from:new h("\\{\\|(.|\n|\n\r)*\\|\\}",""),to:""},{from:new h("\\[([^ \\[\\]]*) ([^\\[\\]]*)\\]",""),to:""},{from:new h("'''([^']*)'''",""),to:"<b>$1</b>"},{from:new h("''([^']*)''",""),to:"<em>$1</em>"},
{from:new h("======([^=]*)======",""),to:"<h6>$1</h6>"},{from:new h("=====([^=]*)=====",""),to:"<h5>$1</h5>"},{from:new h("====([^=]*)====",""),to:"<h4>$1</h4>"},{from:new h("===([^=]*)===",""),to:"<h3>$1</h3>"},{from:new h("==([^=]*)==",""),to:"<h2>$1</h2>"},{from:new h("\n\\* ?([^\n]*)",""),to:"<li>$1</li>"},{from:new h("<ref>[^<>]*</ref>",""),to:""},{from:new h("\n\r?\n\r?",""),to:"<br>"},{from:new h("\n",""),to:""},{from:new h("<br><br>",""),to:"<br>"},{from:new h("\x3c!--Interwiki links--\x3e.*",
""),to:""},{from:new h("\\[\\]",""),to:""}];A.sections=new h("'=(=*)([^=]*)=\\\\1\n\r?(.|\n|\n\r)*(\\\\1)?'","");A.IMAGES=new h("(File:|img=|Image:)([^\\.\\|\\]\\}\\{\\[<>=]*)\\.(gif|jpg|jpeg|bmp|png|webp|svg|raw)(\\|([^\\)]*))?","");e.Browser.window="undefined"!=typeof window?window:null;e.Browser.document="undefined"!=typeof window?window.document:null;C.images=new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)","");C.regex=[{from:new h("(\\*\\*|__)([^\\1\n]*?)\\1",""),to:"<b>$2</b>"},{from:new h("(\\*|_)([^\\1\n]*?)\\1",
""),to:"<em>$2</em>"},{from:new h("^[\\*|+|-] (.*)$","m"),to:"<ul><li>$1</li></ul>"},{from:new h("</ul><ul>",""),to:""},{from:new h("\n> ([^\n\r]*)",""),to:"<blockquote>$1</blockquote>"},{from:new h("</blockquote>\n?\r?<blockquote>$",""),to:""},{from:new h("~~([^~]*?)~~",""),to:"<del>$1</del>"},{from:new h("\\^([^\\^]+)",""),to:"<sup>$1</sup>"},{from:new h(':"([^:"]*?)":',""),to:"<q>$1</q>"},{from:C.images,to:""},{from:new h("\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",""),to:'<a href="$2">$1</a>'},{from:new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",
""),to:""},{from:new h("(.*)\n\r?(==+)\n",""),to:"<h2>$1</h2>"},{from:new h("(.*)\n\r?((-|#)+)\n",""),to:"<h3>$1</h3>"},{from:new h("(```*)([^`]+)\\1","m"),to:"<code>$2</code>"},{from:new h("<pre>(.*)\n\n(.*)</pre>",""),to:"<pre>$1\n$2</pre>"},{from:new h("\n\n+",""),to:"<br>\n"}];C.header=new h("^([#|=]+)([^#=]+)\\1?$","m");x=g.xml.Parser;E=new g.ds.StringMap;E.set("lt","<");E.set("gt",">");E.set("amp","&");E.set("quot",'"');E.set("apos","'");E.set("nbsp",String.fromCharCode(160));x.escapes=E;y.HTML_IMG=
new h('<img .*?src="([^"]*)"/?>',"");y.sites=[{regex:new h(".*\\.(jpeg|gif|jpg|bmp|png|webp)","i"),method:function(a,b){b([{url:"http://"+a.matched(0),caption:null,author:null}])}},{regex:new h("i?\\.?imgur.com/(a|gallery)/([^/]*)",""),method:function(a,b){var c=a.matched(2),d;switch(a.matched(1).toLowerCase()){case "a":d="album";break;case "gallery":d="gallery/album";break;default:d="album"}j.getJSON("https://api.imgur.com/3/"+d+"/"+c,function(a){var c=[];if(0>=a.images_count)c.push({url:"http://i.imgur.com/"+
a.id+".jpg",caption:a.title,author:a.account_url});else for(var d=0,e=a.images;d<e.length;){var g=e[d];++d;c.push({url:"http://i.imgur.com/"+g.id+".jpg",caption:g.title,author:a.account_url})}b(c)},"Client-ID cc1f254578d6c52")}},{regex:new h("imgur\\.com/(r/[^/]*/)?([a-zA-Z0-9,]*)",""),method:function(a,b){for(var c=(null==a.matched(1)||-1!=a.matched(1).indexOf("/")?a.matched(2):a.matched(1)).split(","),d=[],f=0;f<c.length;){var e=c[f];++f;d.push({url:"http://i.imgur.com/"+e+".jpg",caption:null,author:null})}b(d)}},
{regex:new h("(qkme\\.me|quickmeme\\.com/meme|m\\.quickmeme.com/meme)/([^/]*)",""),method:function(a,b){b([{url:"http://i.qkme.me/"+a.matched(2)+".jpg",caption:null,author:null}])}},{regex:new h("memecrunch.com/meme/([^/]*)/([^/]*)",""),method:function(a,b){b([{url:"http://"+a.matched(0)+"/image.png",caption:null,author:null}])}},{regex:new h("memegenerator\\.net/instance/([^/]*)",""),method:function(a,b){b([{url:"http://cdn.memegenerator.net/instances/400x/"+a.matched(1)+".jpg",caption:null,author:null}])}},
{regex:new h("imgflip\\.com/i/([^/]*)",""),method:function(a,b){b([{url:"http://i.imgflip.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("what-if.xkcd.com/([0-9]*)",""),method:function(){}},{regex:new h("xkcd.com/([0-9]*)",""),method:function(a,b){j.getJSON("http://www.xkcd.com/"+a.matched(1)+"/info.0.json",function(a){b([{url:a.img,caption:a.title,author:null}])})}},{regex:new h("explosm.net/comics/([0-9]*)",""),method:function(a,b){j.getText("http://www."+a.matched(0),function(c){var d=
new h('"http://www\\.explosm\\.net/db/files/Comics/([^"]*)"',"");if(d.match(c))b([{url:d.matched(0).substring(1,d.matched(0).length-1),caption:null,author:null}]);else throw""+u.string(d)+" not matched by "+a.matched(0)+" in "+c;},null,null,null)}},{regex:new h("livememe.com/([^/]*)",""),method:function(a,b){b([{url:"http://livememe.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("(([^\\.]*\\.)?deviantart\\.com/art|fav\\.me)/.*",""),method:function(a,b){j.getJSON("http://backend.deviantart.com/oembed?url="+
p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("flickr\\.com/photos/.*",""),method:function(a,b){j.getJSON("http://www.flickr.com/services/oembed/?url=http://www."+p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("ebay\\.([a-zA-Z\\.]*)/itm(/[^/]*)?/([0-9]*)",""),method:function(a,b){a.matched(1);var c="http://open.api.ebay.com/shopping?callname=GetSingleItem&responseencoding=JSON&appid=ThomasDa-1e6c-4d29-a156-85557acee70b&siteid=0&version=515&ItemID="+
a.matched(3)+"&IncludeSelector=TextDescription";j.getJSON(c,function(a){var c=a.Item.PictureURL.map(function(a){return{url:a,caption:null,author:null}});b({title:a.Item.Title,category:a.Item.PrimaryCategoryName,location:a.Item.Location+", "+a.Item.Country,description:y.filterHTML(a.Item.Description),images:c,price:j.formatPrice(a.Item.ConvertedCurrentPrice.Value)+" "+a.Item.ConvertedCurrentPrice.CurrencyID})})}},{regex:new h("([^\\.]*\\.wordpress\\.com|wp\\.me|techcrunch\\.com|news\\.blogs\\.cnn\\.com|snoopdogg\\.com|usainbolt\\.com|katiecouric\\.com|rollingstones\\.com|variety\\.com|bbcamerica\\.com)/(.*)?",
""),method:function(a,b){var c="http://"+a.matched(0);j.getJSON("http://public-api.wordpress.com/oembed/?url="+p.urlEncode(c)+"&for=Reditn",function(a){var c=[];null!=a.thumbnail_url&&c.push({caption:null,url:a.thumbnail_url,author:null});b({author:a.author_name,content:y.filterHTML(a.html),images:c})})}},{regex:new h("(.*)/wiki/([^#]*)(#.*)?",""),method:function(a,b){var c="http://"+a.matched(1),d=a.matched(2),f=a.matched(3);null!=f&&(f=p.trim(l.substr(f,1,null)));null!=f&&0==f.length&&(f=null);
var e=c;p.endsWith(e,".wikia.com")||(e+="/w");var g=null,g=function(a){j.getJSON(""+e+"/api.php?format=json&prop=revisions&action=query&titles="+a+"&rvprop=content",function(a){a=a.query.pages;for(var d=0,h=z.fields(a);d<h.length;){var m=h[d];++d;var m=[z.field(a,m)],k=[z.field(m[0].revisions[0],"*")];if(p.startsWith(k[0],"#REDIRECT [[")){g(k[0].substring(12,k[0].lastIndexOf("]]")));break}var n=[A.getAlbum(k[0])];null!=f&&(k[0]=A.trimTo(k[0],f));k[0]=A.parse(k[0],c);if(0<n[0].length)for(var r=[[]],
t=0;t<n[0].length;){var v=[n[0][t]];++t;j.getJSON(""+e+"/api.php?action=query&titles="+p.urlEncode(v[0].url)+"&prop=imageinfo&iiprop=url&format=json",function(a,c,d,f,e){return function(g){g=g.query.pages;for(var h=0,j=z.fields(g);h<j.length;){var m=j[h];++h;m=z.field(g,m);null!=m&&null!=m.imageinfo?c[0].push({url:m.imageinfo[0].url,caption:a[0].caption,author:null}):(console.log("Error whilst processing "+u.string(m)+" for "+a[0].url),l.remove(d[0],a[0]))}c[0].length>=d[0].length&&b({title:e[0].title,
content:f[0],author:null,images:c[0]})}}(v,r,n,k,m))}else b({title:m[0].title,content:k[0],author:null,images:null})}})};g(d)}},{regex:new h("github\\.com/([^/]*)/([^/]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2);j.getJSON("https://api.github.com/repos/"+c+"/"+d+"/readme?client_id=39d85b9ac427f1176763&client_secret=5117570b83363ca0c71a196edc5b348af150c25d",function(a){if(null!=a.content){a=a.content;a=p.replace(a,"\n","");a=p.trim(a);a=e.Browser.window.atob(a);for(var g=C.images,
h=[],j=a;g.match(j);){var k=g.matched(2);k.indexOf(".")==k.lastIndexOf(".")&&(p.startsWith(k,"/")&&(k=l.substr(k,1,null)),k="https://github.com/"+c+"/"+d+"/raw/master/"+k);h.push({url:k,caption:g.matched(1),author:c});j=l.substr(j,g.matchedPos().pos+g.matchedPos().len,null)}b({name:d,developers:[c],description:C.parse(a),url:"git://github.com/"+c+"/"+d+".git",album:h})}})}},{regex:new h("sourceforge.net/projects/([a-zA-Z-]*)",""),method:function(a,b){j.getJSON("http://sourceforge.net/api/project/name/"+
a.matched(1)+"/json",function(a){a=a.Project;for(var d=a.developers,f=a.name,e=a.description,g=[],h=0;h<d.length;)++h,g.push(a.name);for(var j=z.field(a,"download-page"),d=0,h=z.fields(a);d<h.length;){var k=h[d];++d;p.endsWith(k,"Repository")&&(j=l.substr(k,0,k.length-10).toLowerCase(),k=z.field(a,k).location,j=p.replace(k,"http:",""+j+":"))}b({name:f,description:e,developers:g,url:j,album:[]})})}},{regex:new h("(digitaltrends\\.com|webupd8\\.org|doctorwho\\.tv)/.*",""),method:function(a,b){j.getText("http://www."+
a.matched(0),function(a){var d=new h("<title>(.*)</title>","");d.match(a)&&(a=l.substr(a,a.indexOf("<article"),null),a=l.substr(a,a.indexOf(">")+1,null),a=l.substr(a,0,a.indexOf("</article>")),a=y.filterHTML(a),b({title:d.matched(1),content:a,author:null,images:[]}))},null,null,null)}},{regex:new h("([^\\.]*)\\.tumblr\\.com/(post|image)/([0-9]*)(/.*)?",""),method:function(a,b){var c=a.matched(1),d=a.matched(3);j.getJSON("http://api.tumblr.com/v2/blog/"+c+".tumblr.com/posts/json?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE&id="+
d,function(a){var c=a.posts[0];switch(c.type){case "text":for(var d=[];y.HTML_IMG.match(c.body);)d.push({url:y.HTML_IMG.matched(1),caption:null,author:a.blog.name}),c.body=y.HTML_IMG.replace(c.body,"");c.body=y.filterHTML(c.body);a={title:c.title,content:c.body,author:a.blog.name,images:d};break;case "quote":a={title:null,content:u.string(c.text)+"<br/><b>"+u.string(c.source)+"</b>",author:a.blog.name,images:[]};break;case "photo":for(var c=c.photos,d=[],e=0;e<c.length;){var g=c[e];++e;d.push({url:g.original_size.url,
caption:g.caption,author:a.blog.name})}a=d;break;default:a=null}b(a)})}},{regex:new h(".*\\.tumblr\\.com",""),method:function(a,b){j.getJSON("http://api.tumblr.com/v2/blog/"+p.urlEncode(a.matched(0))+"/info?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE",function(a){b({urls:new g.ds.StringMap,name:a.blog.title,description:y.filterHTML(a.blog.description),album:[]})})}},{regex:new h("twitter.com/.*/status/([0-9]*)",""),method:function(a,b){j.getJSON("https://api.twitter.com/1/statuses/oembed.json?id="+
a.matched(1),function(a){b({title:null,author:a.author_name,content:y.filterHTML(a.html),images:[]})})}},{regex:new h("amazon\\.[a-z\\.]*/gp/product/([0-9A-Z]*)",""),method:function(a){a=a.matched(1);j.getXML("http://webservices.amazon.com/onca/xml?AWSAccessKeyId=AKIAJMR3XPXGBMZJE6IA&Service=AWSECommerceService&Operation=ItemLookup&ItemId="+a,function(a){console.log(a)})}},{regex:new h("plus\\.google\\.com/([0-9]*)/posts/([a-zA-Z]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2),e=new h("<b>([^>]*)</b><br />",
""),g=null,g=function(h){j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"/activities/public?fields=items(id%2Curl)%2CnextPageToken&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o"+(null==h?"":"&requestToken="+h),function(c){var h=c.items;a.matched(0);for(var k=0;k<h.length;){var l=h[k];++k;if(-1!=l.url.indexOf(d)){j.getJSON("https://www.googleapis.com/plus/v1/activities/"+u.string(l.id)+"?fields=actor%2FdisplayName%2Cannotation%2Cobject(actor%2Cattachments%2Ccontent%2Cid%2CobjectType%2CoriginalContent%2Curl)&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",
function(a){var c=a.object.objectType,d=a.actor.actorName,g=a.object.content;e.match(g);switch(c){case "note":a=e.matched(1);g=e.replace(g,"");g=y.filterHTML(g);b({title:a,author:d,content:g,images:[]});break;default:d=a.object.attachments;g=[];for(c=0;c<d.length;){var h=d[c];++c;g.push({url:h.image.url,caption:0==h.content.length?a.object.content:h.content,author:null})}b(g)}});return}}0!=c.items.length&&g(c.requestToken)})};g()}},{regex:new h("facebook.com/photo\\.php\\?v=([0-9]*)",""),method:function(a,
b){a.matched(1);b([{caption:null,url:"http://graph.facebook.com/${id}/picture?type=small&access_token=CAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrCAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrf",author:null}])}},{regex:new h("facebook\\.com/([a-zA-Z0-9]*)",""),method:function(a,b){var c=
a.matched(1);b({album:[{url:"https://graph.facebook.com/"+c+"/picture?type=large",caption:null,author:null}],urls:new g.ds.StringMap})}},{regex:new h("plus\\.google.com/u?/?[0-9]*/([0-9]*)(/about)?",""),method:function(a,b){var c=a.matched(1);j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"?key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",function(a){var c=a.urls,e=new g.ds.StringMap;if(null!=c)for(var h=0;h<c.length;){var j=c[h];++h;e.set(j.label,j.value)}null!=a.urls&&(null!=a.displayName&&
null!=a.aboutMe)&&b({urls:e,name:a.displayName,description:a.aboutMe,album:[{url:a.image.url,caption:null,author:a.displayName}]})})}},{regex:new h("reddit\\.com/r/([a-zA-Z0-9]*)",""),method:function(a,b){j.getJSON("http://www."+a.matched(0)+"/about.json",function(a){b(a)})}},{regex:new h("gamejolt.com/games/[^/]*/[^/]*/([0-9]*)",""),method:function(a){a=a.matched(1);j.getJSON("http://gamejolt.com/service/games/"+a+"?format=json",function(a){console.log(a)})}},{regex:new h("(0rz\\.tw|1link\\.in|1url\\.com|2\\.gp|2big\\.at|2tu\\.us|3\\.ly|307\\.to|4ms\\.me|4sq\\.com|4url\\.cc|6url\\.com|7\\.ly|a\\.gg|a\\.nf|aa\\.cx|abcurl\\.net|ad\\.vu|adf\\.ly|adjix\\.com|afx\\.cc|all\\.fuseurl\\.com|alturl\\.com|amzn\\.to|ar\\.gy|arst\\.ch|atu\\.ca|azc\\.cc|b23\\.ru|b2l\\.me|bacn\\.me|bcool\\.bz|binged\\.it|bit\\.ly|bizj\\.us|bloat\\.me|bravo\\.ly|bsa\\.ly|budurl\\.com|canurl\\.com|chilp\\.it|chzb\\.gr|cl\\.lk|cl\\.ly|clck\\.ru|cli\\.gs|cliccami\\.info|clickthru\\.ca|clop\\.in|conta\\.cc|cort\\.as|cot\\.ag|crks\\.me|ctvr\\.us|cutt\\.us|dai\\.ly|decenturl\\.com|dfl8\\.me|digbig\\.com|digg\\.com|disq\\.us|dld\\.bz|dlvr\\.it|do\\.my|doiop\\.com|dopen\\.us|easyuri\\.com|easyurl\\.net|eepurl\\.com|eweri\\.com|fa\\.by|fav\\.me|fb\\.me|fbshare\\.me|ff\\.im|fff\\.to|fire\\.to|firsturl\\.de|firsturl\\.net|flic\\.kr|flq\\.us|fly2\\.ws|fon\\.gs|freak\\.to|fuseurl\\.com|fuzzy\\.to|fwd4\\.me|fwib\\.net|g\\.ro\\.lt|gizmo\\.do|gl\\.am|go\\.9nl\\.com|go\\.ign\\.com|go\\.usa\\.gov|goo\\.gl|goshrink\\.com|gurl\\.es|hex\\.io|hiderefer\\.com|hmm\\.ph|href\\.in|hsblinks\\.com|htxt\\.it|huff\\.to|hulu\\.com|hurl\\.me|hurl\\.ws|icanhaz\\.com|idek\\.net|ilix\\.in|is\\.gd|its\\.my|ix\\.lt|j\\.mp|jijr\\.com|kl\\.am|klck\\.me|korta\\.nu|krunchd\\.com|l9k\\.net|lat\\.ms|liip\\.to|liltext\\.com|linkbee\\.com|linkbun\\.ch|liurl\\.cn|ln-s\\.net|ln-s\\.ru|lnk\\.gd|lnk\\.ms|lnkd\\.in|lnkurl\\.com|lru\\.jp|lt\\.tl|lurl\\.no|macte\\.ch|mash\\.to|merky\\.de|migre\\.me|miniurl\\.com|minurl\\.fr|mke\\.me|moby\\.to|moourl\\.com|mrte\\.ch|myloc\\.me|myurl\\.in|n\\.pr|nbc\\.co|nblo\\.gs|nn\\.nf|not\\.my|notlong\\.com|nsfw\\.in|nutshellurl\\.com|nxy\\.in|nyti\\.ms|o-x\\.fr|oc1\\.us|om\\.ly|omf\\.gd|omoikane\\.net|on\\.cnn\\.com|on\\.mktw\\.net|onforb\\.es|orz\\.se|ow\\.ly|ping\\.fm|pli\\.gs|pnt\\.me|politi\\.co|post\\.ly|pp\\.gg|profile\\.to|ptiturl\\.com|pub\\.vitrue\\.com|qlnk\\.net|qte\\.me|qu\\.tc|qy\\.fi|r\\.im|rb6\\.me|read\\.bi|readthis\\.ca|reallytinyurl\\.com|redir\\.ec|redirects\\.ca|redirx\\.com|retwt\\.me|ri\\.ms|rickroll\\.it|riz\\.gd|rt\\.nu|ru\\.ly|rubyurl\\.com|rurl\\.org|rww\\.tw|s4c\\.in|s7y\\.us|safe\\.mn|sameurl\\.com|sdut\\.us|shar\\.es|shink\\.de|shorl\\.com|short\\.ie|short\\.to|shortlinks\\.co\\.uk|shorturl\\.com|shout\\.to|show\\.my|shrinkify\\.com|shrinkr\\.com|shrt\\.fr|shrt\\.st|shrten\\.com|shrunkin\\.com|simurl\\.com|slate\\.me|smallr\\.com|smsh\\.me|smurl\\.name|sn\\.im|snipr\\.com|snipurl\\.com|snurl\\.com|sp2\\.ro|spedr\\.com|srnk\\.net|srs\\.li|starturl\\.com|su\\.pr|surl\\.co\\.uk|surl\\.hu|t\\.cn|t\\.co|t\\.lh\\.com|ta\\.gd|tbd\\.ly|tcrn\\.ch|tgr\\.me|tgr\\.ph|tighturl\\.com|tiniuri\\.com|tiny\\.cc|tiny\\.ly|tiny\\.pl|tinylink\\.in|tinyuri\\.ca|tinyurl\\.com|tk\\.|tl\\.gd|tmi\\.me|tnij\\.org|tnw\\.to|tny\\.com|to\\.|to\\.ly|togoto\\.us|totc\\.us|toysr\\.us|tpm\\.ly|tr\\.im|tra\\.kz|trunc\\.it|twhub\\.com|twirl\\.at|twitclicks\\.com|twitterurl\\.net|twitterurl\\.org|twiturl\\.de|twurl\\.cc|twurl\\.nl|u\\.mavrev\\.com|u\\.nu|u76\\.org|ub0\\.cc|ulu\\.lu|updating\\.me|ur1\\.ca|url\\.az|url\\.co\\.uk|url\\.ie|url360\\.me|url4\\.eu|urlborg\\.com|urlbrief\\.com|urlcover\\.com|urlcut\\.com|urlenco\\.de|urli\\.nl|urls\\.im|urlshorteningservicefortwitter\\.com|urlx\\.ie|urlzen\\.com|usat\\.ly|use\\.my|vb\\.ly|vgn\\.am|vl\\.am|vm\\.lc|w55\\.de|wapo\\.st|wapurl\\.co\\.uk|wipi\\.es|wp\\.me|x\\.vu|xr\\.com|xrl\\.in|xrl\\.us|xurl\\.es|xurl\\.jp|y\\.ahoo\\.it|yatuc\\.com|ye\\.pe|yep\\.it|yfrog\\.com|yhoo\\.it|yiyd\\.com|youtu\\.be|yuarel\\.com|z0p\\.de|zi\\.ma|zi\\.mu|zipmyurl\\.com|zud\\.me|zurl\\.ws|zz\\.gd|zzang\\.kr|r\\.ebay\\.com)/.*",
""),method:function(a,b){var c=p.urlEncode("http://"+a.matched(0));j.getJSON("http://api.longurl.org/v2/expand?url="+c+"&format=json&User-Agent=Reditn",function(a){a=z.field(a,"long-url");a=y.resolve(a);null!=a&&a.method(a.regex,b)})}}];y.HTML_FILTERS=[y.HTML_IMG,new h("<meta[^>]*/>","g"),new h("<(h1|header)[^>]*>.*</\\1>","g"),new h("<table([^>]*)>(.|\n|\n\r)*</table>","gm"),new h('<div class="(seperator|ga-ads)"[^>]*>(.|\n|\n\r)*</div>',"g"),new h("<([^>]*)( [^>]*)?></\\1>","g"),new h("<script[^>/]*/>",
"g"),new h("<script[^>/]*>\x3c/script>","g"),new h('style ?= ?"[^"]*"',"g")];y.HTML_CLEANERS=[{from:new h('<blockquote class="twitter-tweet">(.*)</blockquote>',"g"),to:"$1"},{from:new h("(!|\\.|,|\\?)(^ \n\t\r)","g"),to:"$1 $2"},{from:new h("(!|\\.|,|\\?)( *)","g"),to:"$1 "},{from:new h("(<br></br>|<br/>|<br />)(<br></br>|<br/>|<br />)","g"),to:"<br/>"}];x=new g.ds.StringMap;x.set("adblock","Block advertisements and sponsors");x.set("userinfo","Show information about a user upon hover");x.set("subinfo",
"Show information about a subreddit upon hover");x.set("expand","Allow expansion of images, articles, etc");x.set("text-expand","Allow expansion of images, articles etc found in comments and posts for easy viewing");x.set("dup-hider","Hide duplicate links");x.set("user-tag","Tag users");x.set("sub-tag","Tag subreddits");x.set("preview","Preview comments and posts");x.set("keys","Keyboard shortcuts");x.set("nsfw-filter","Hide NSFW content");k.DESC=x;x=new g.ds.StringMap;x.set("adblock",!0);x.set("userinfo",
!0);x.set("subinfo",!0);x.set("expand",!0);x.set("dup-hider",!0);x.set("text-expand",!0);x.set("user-tag",!0);x.set("sub-tag",!0);x.set("preview",!0);x.set("keys",!0);x.set("nsfw-filter",!1);x.set("user-tags",new g.ds.StringMap);x.set("sub-tags",new g.ds.StringMap);k.DEFAULTS=x;k.data=new g.ds.StringMap;g.Serializer.USE_CACHE=!1;g.Serializer.USE_ENUM_INDEX=!1;g.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.Unserializer.DEFAULT_RESOLVER=B;g.Unserializer.BASE64=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.ds.ObjectMap.count=0;j.main()})();
(function(){var r={},G=function(){return e.Boot.__string_rec(this,"")},I=function(){};r.Adblock=I;I.__name__=["Adblock"];I.init=function(){I.hideAll(e.Browser.document.body.getElementsByClassName("promoted"));I.hideAll(e.Browser.document.body.getElementsByClassName("infobar"));I.hideAll(e.Browser.document.body.getElementsByClassName("goldvertisement"));var a=e.Browser.document.getElementById("spotlight-help");null!=a&&j.show(a.parentNode.parentNode,!1);a=e.Browser.document.getElementById("ad-frame");
null!=a&&j.show(a,!1)};I.hideAll=function(a){for(var b=0,c=a.length;b<c;){var d=b++;j.show(a[d],!1)}};var P=function(){};r.DuplicateHider=P;P.__name__=["DuplicateHider"];P.init=function(){for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&(Q.has(a,d.href)?j.show(d.parentElement.parentElement.parentElement,!1):a.push(d.href))}};var h=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};r.EReg=h;h.__name__=["EReg"];h.prototype={replace:function(a,b){return a.replace(this.r,
b)},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:l.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;a=b}else{if(c=this.match(0>c?l.substr(a,b,null):l.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;a=c}return a},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,
this.r.s.length-a)},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return this.r.s.substr(0,this.r.m.index)},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:h};var v=function(){};r.Expand=v;v.__name__=["Expand"];v.init=function(){v.toggled="#showall"==e.Browser.window.location.hash;var a=e.Browser.document.getElementsByClassName("tabmenu")[0],
b=e.Browser.document.createElement("li");v.button=e.Browser.document.createElement("a");v.button.href="javascript:void(0);";v.refresh();v.button.onclick=function(){v.toggle(!v.toggled);e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,v.toggled?"#showall":"#")};b.appendChild(v.button);null!=a&&a.appendChild(b);a=0;for(b=j.links;a<b.length;){var c=b[a];++a;if("a"==c.nodeName.toLowerCase()){var d=c.parentElement.parentElement.parentElement.getElementsByClassName("entry")[0],c=y.createButton(c.href,
d);if(null==c)v.defaultButton(d);else{for(var f=0,q=d.getElementsByClassName("expando");f<q.length;){var X=q[f];++f;X.parentNode.removeChild(X)}d.appendChild(c);d.insertBefore(c,d.getElementsByClassName("tagline")[0])}}}};v.defaultButton=function(a){var b=!1,c=0;for(a=a.getElementsByClassName("expando-button");c<a.length;){var d=a[c];++c;b?d.parentNode.removeChild(d):(null!=d&&(b=v.adaptButton(d),b.toggle(v.toggled,!1),v.buttons.push(b)),b=!0)}};v.adaptButton=function(a){var b=e.Boot.__cast(a.parentElement.getElementsByTagName("a")[0],
HTMLAnchorElement).href;a.style.width=a.style.height="23px";return{toggled:function(){return-1!=a.className.indexOf("expanded")},toggle:function(b,d){var f=-1!=a.className.indexOf("expanded");if(b!=f)a.onclick(null);v.queue++;g.Timer.delay(function(){0<a.parentElement.getElementsByClassName("error").length?(a.onclick(null),a.onclick(null)):v.queue--},1E3*v.queue);d&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:b,element:a}};v.refresh=function(){if(null!=v.button){v.button.innerHTML=
""+(v.toggled?"hide":"show")+" all";for(var a=e.Browser.document.body.getElementsByClassName("nextprev"),b=0;b<a.length;){var c=a[b];++b;var d;d=void 0;d=[];for(var f=0,c=c.getElementsByTagName("a");f<c.length;){var q=c[f];++f;d.push(q)}for(f=0;f<d.length;)c=d[f],++f,"a"==c.nodeName.toLowerCase()&&(v.toggled&&-1==c.href.indexOf("#")?c.href+="#showall":!v.toggled&&-1!=c.href.indexOf("#")&&(c.href=l.substr(c.href,0,c.href.indexOf("#"))))}}};v.toggle=function(a){v.toggled=a;for(var b=0,c=v.buttons;b<
c.length;){var d=c[b];++b;d.toggle(a,!1)}v.refresh()};v.loadImage=function(a){var b=e.Browser.document.createElement("img");b.src=a;b.className="resize";v.initResize(b);var c=new g.Timer(30);c.run=function(){if(0<b.width&&0<b.height){c.stop();if(b.width>(0.7*e.Browser.window.innerWidth|0)){var a=b.height/b.width;b.width=0.7*e.Browser.window.innerWidth|0;b.height=b.width*a|0}b.height>(0.6*e.Browser.window.innerHeight|0)&&(a=b.width/b.height,b.height=0.6*e.Browser.window.innerHeight|0,b.width=b.height*
a|0)}};return b};v.initResize=function(a){var b=0,c=0,d=0,f=!1;a.addEventListener("mousedown",function(q){if(!q.altKey&&!q.ctrlKey&&!q.metaKey){f=!0;var e=a.getBoundingClientRect(),m=q.clientY-e.top;b=a.offsetWidth/(q.clientX-e.left);c=a.offsetHeight/m;d=a.offsetWidth/a.offsetHeight;q.preventDefault()}});a.addEventListener("mousemove",function(q){if(f){var e=a.getBoundingClientRect(),m=(q.clientX-e.left)*b,g=m/d,e=(q.clientY-e.top)*c,j=e*d;a.width=(g>e||m>j?m:j)|0;a.height=(g>e||m>j?g:e)|0;q.preventDefault()}});
a.addEventListener("dblclick",function(){a.width=a.naturalWidth;a.height=a.naturalHeight});a.addEventListener("mouseup",function(a){f=!1;a.preventDefault()});a.addEventListener("mouseout",function(a){f=!1;a.preventDefault()})};var l=function(){};r.HxOverrides=l;l.__name__=["HxOverrides"];l.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),f=a.getMinutes(),q=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>f?"0"+f:""+
f)+":"+(10>q?"0"+q:""+q)};l.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};l.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};l.substr=function(a,b,c){if(null!=b&&
0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};l.remove=function(a,b){for(var c=0,d=a.length;c<d;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};l.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var u=function(){};r.Keyboard=u;u.__name__=["Keyboard"];u.init=function(){e.Browser.document.onkeydown=function(a){u.keyDown(a.keyCode)}};u.unhighlight=
function(){if(null!=(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:null))(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:null).style.border=""};u.highlight=function(a){u.unhighlight();null!=u.current&&u.current+a<j.links.length&&(u.current+=a);if(null==u.current||null==(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:null))u.current=0;(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:
null).style.border="3px solid grey";(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:null).scrollIntoViewIfNeeded(!0)};u.show=function(a){null==a&&(a=!0);for(var b=(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:null).getElementsByClassName("expando-button")[0],c=0,d=v.buttons;c<d.length;){var f=d[c];++c;if(f.element==b){f.toggle(a,!0);(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:
null).scrollIntoViewIfNeeded(!0);break}}};u.keyDown=function(a){for(u.keys.push(a);u.keys.length>u.konami.length;)l.remove(u.keys,u.keys[0]);for(var b=u.keys.length>=u.konami.length,c=0,d=u.keys.length;c<d;){var f=c++;if(u.keys[f]!=u.konami[f]){b=!1;break}}b&&D.run();switch(a){case 39:u.show(!0);break;case 37:u.show(!1);break;case 38:u.highlight(-1);break;case 40:u.highlight(1)}};var D=function(){};r.Konami=D;D.__name__=["Konami"];D.translate=function(a){for(var b=0;D.filter.matchSub(a,b);)b=D.filter.matchedPos(),
a=D.words[t.random(D.words.length)],console.log(a),b=b.pos+a.length,a=D.filter.matchedLeft()+a+D.filter.matchedRight();return a};D.run=function(){e.Browser.document.title="Dubbit - the back page of the wubbanet";for(var a=0,b=j.links;a<b.length;){var c=b[a];++a;c.innerHTML=D.translate(c.innerHTML)}a=0;for(b=e.Browser.document.body.getElementsByClassName("author");a<b.length;)c=b[a],++a,c.innerHTML="dubstep";a=0;for(b=e.Browser.document.body.getElementsByClassName("subreddit");a<b.length;)c=b[a],++a,
c.innerHTML="people with brains";a=0;for(b=e.Browser.document.body.getElementsByClassName("score");a<b.length;)c=b[a],++a,c.innerHTML="-&infin;";a=0;for(b=e.Browser.document.body.getElementsByTagName("p");a<b.length;)c=b[a],++a,"parent"!=c.className&&(c.innerHTML=D.translate(c.innerHTML))};var Q=function(){};r.Lambda=Q;Q.__name__=["Lambda"];Q.has=function(a,b){var c;if(a instanceof Array)c=function(){return l.iter(a)};else if("function"==typeof a.iterator){c=a.iterator;var d=function(){return d.method.apply(d.scope,
arguments)};d.scope=a;d.method=c;c=d}else c=a.iterator;for(c=c();c.hasNext();)if(c.next()==b)return!0;return!1};var j=function(){};r.Reditn=j;for(var x="undefined"!=typeof window?window:exports,E=["Reditn"],V=0;V<E.length-1;++V){var W=E[V];"undefined"==typeof x[W]&&(x[W]={});x=x[W]}x[E[E.length-1]]=j;j.__name__=["Reditn"];j.main=function(){switch(e.Browser.document.readyState){case "complete":j.init();break;default:e.Browser.window.onload=function(){j.init()}}};j.init=function(){if(-1!=e.Browser.window.location.href.indexOf("reddit.")){j.fullPage=
0<e.Browser.document.getElementsByClassName("tabmenu").length;j.links=e.Browser.document.body.getElementsByClassName("title");for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&"parent"!=d.parentElement.className&&a.push(d)}j.links=a;j.wrap(k.init);j.wrap(I.init,"adblock");j.wrap(P.init,"dup-hider");j.wrap(R.init,"nsfw-filter");S.init();j.wrap(v.init,"expand");j.wrap(T.init,"text-expand");j.wrap(u.init,"keys");j.wrap(J.init,"preview");j.wrap(K.init,"subinfo");j.wrap(L.init,
"userinfo");j.wrap(M.init,"user-tag");j.wrap(N.init,"sub-tag");e.Browser.window.history.replaceState(g.Serializer.run(j.state()),null,v.toggled?"#showall":null);e.Browser.window.onpopstate=function(a){a=a.state;if(null!=a){a=g.Unserializer.run(a);a.allExpanded!=v.toggled&&v.toggle(a.allExpanded);for(var b=0,c=v.buttons;b<c.length;){var d=c[b];++b;var e=a.expanded;e.exists(d.url)&&d.toggle(e.get(d.url),!1)}}}}};j.state=function(){for(var a=new g.ds.StringMap,b=0,c=v.buttons;b<c.length;){var d=c[b];
++b;d.toggled()!=v.toggled&&a.set(d.url,d.toggled())}return{allExpanded:v.toggled,expanded:a}};j.wrap=function(a,b){var c=null==b?null:k.data.get(b);(null==b||c)&&a()};j.formatNumber=function(a){if(Math.isFinite(a)){var b=t.string(Math.abs(a)),c;-1!=b.indexOf(".")?(c=l.substr(b,b.indexOf("."),null),b=l.substr(b,0,b.indexOf("."))):c="";if(3<=b.length){for(var d="",f=0,q=b.length;f<q;){var e=f++,d=d+b.charAt(e);0==(b.length-(e+1))%3&&e<b.length-1&&(d+=",")}b=d}a=(0>a?"-"+b:b)+c}else a=t.string(a);return a};
j.formatPrice=function(a){var b=j.formatNumber(a|0);a=t.string(a);for(a=-1==a.indexOf(".")?".":l.substr(a,a.indexOf("."),null);3>a.length;)a+="0";return""+b+a};j.show=function(a,b){a.style.display=b?"":"none";if(-1!=a.className.indexOf("link")&&!b){var c=a.getElementsByClassName("entry")[0];l.remove(j.links,c.getElementsByTagName("a")[0])}};j.age=function(a){if(86400>a)return"less than a day";a=g.Timer.stamp()-a;var b=a/86400%30.4375|0,c=a/2629800%12|0;a=a/2629800/12|0;var d="";0<a&&(d+=""+a+" year"+
(1>=a?"":"s"));0<c&&(d+=", "+c+" month"+(1>=c?"":"s"));d+=", "+b+" day"+(1>=b?"":"s");for(p.startsWith(d,", ")&&(d=l.substr(d,2,null));-1!=d.indexOf(", , ");)d=p.replace(d,", , ",", ");return d};j.embedAlbum=function(a){var b=e.Browser.document.createElement("span");b.style.textAlign="center";for(var c=[],d=0;d<a.length;){var f=a[d];++d;c.push(function(){var a=v.loadImage(f.url);a.title=(null!=f.caption?f.caption+" ":"")+(null!=f.author?"by "+f.author:"");b.appendChild(a);j.show(a,!1);return a}(this))}var q=
null,g=e.Browser.document.createElement("span");g.style.fontWeight="bold";g.style.marginLeft="10px";var m=0,h=null,F=null,l=null;1<a.length&&(h=e.Browser.document.createElement("button"),h.innerHTML="Prev",b.appendChild(h),F=e.Browser.document.createElement("span"),F.style.textAlign="center",F.style.paddingLeft=F.style.paddingRight="5px",b.appendChild(F),l=e.Browser.document.createElement("button"),l.innerHTML="Next",b.appendChild(l));if(1<a.length||null!=a[0].caption&&0<a[0].caption.length)b.appendChild(g),
b.appendChild(e.Browser.document.createElement("br"));var k=function(d){if(!(0>d||d>=a.length)){var f=a[d],e=null;null!=q&&(j.show(q,!1),e=t.parseInt(q.style.height));q=c[d];q.style.display="block";if(null!=e){var m=q.width/q.height;q.style.height=e+"px";q.style.width=(e*m|0)+"px"}b.appendChild(q);null!=h&&(e=j.formatNumber(a.length),m=j.formatNumber(d+1),F.innerHTML=""+m+" of "+e,h.disabled=0>=d,l.disabled=d>=a.length-1);j.show(g,null!=f.caption);null!=f.caption&&(g.innerHTML=p.htmlEscape(f.caption),
null!=f.author&&(g.innerHTML+=" <em>by "+f.author+"</em>"))}};k(0);null!=h&&(h.onmousedown=function(){k(--m)},l.onmousedown=function(){k(++m)});return b};j.getData=function(a){for(;null!=a.data;)a=a.data;for(;null!=a.response;)a=a.response;return a};j.getText=function(a,b,c,d,f){a=new g.Http(a);null!=c&&a.setHeader("Authorization",c);null!=d&&a.setHeader("Content-Type",d);a.onData=b;null!=f&&a.setPostData(f);a.request(null!=f)};j.embedMap=function(a){for(var b=e.Browser.document.createElement("dl"),
c=a.keys();c.hasNext();){var d=c.next();if(null!=a.get(d)&&0<a.get(d).length){var f=e.Browser.document.createElement("dt");f.innerHTML=d;b.appendChild(f);f=e.Browser.document.createElement("dd");f.innerHTML=a.get(d);b.appendChild(f)}}b.className="md reditn-table";return b};j.getJSON=function(a,b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){p.startsWith(a,"jsonFlickrApi(")&&p.endsWith(a,")")&&(a=a.substring(14,a.length-1));b(j.getData(g.Json.parse(a)))},c,d,f)};j.getXML=function(a,
b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){b(j.getData(n.parse(a)))},c,d,f)};j.popUp=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);e.Browser.document.body.appendChild(b);b.className="popup";b.style.position="absolute";b.style.width=(0.25*e.Browser.window.innerWidth|0)+"px";b.style.left=""+c+"px";b.style.top=""+(d-30)+"px";a.onmouseout=b.onblur=function(){b.parentElement.removeChild(b);a.mouseover=!1};return b};j.fullPopUp=function(a,b){null==b&&(b=0);var c=e.Browser.document.getElementsByClassName("popup")[0];
null!=c&&c.parentElement.removeChild(c);e.Browser.document.body.appendChild(a);c=e.Browser.document.createElement("a");c.style.position="absolute";c.style.right=c.style.top="5px";c.innerHTML="<b>Close</b>";c.href="javascript:void(0);";c.onclick=a.onblur=function(){a.parentElement.removeChild(a)};a.appendChild(c);a.className="popup";0!=b&&(a.style.top=""+(b-e.Browser.window.scrollY)+"px");return a};var p=function(){};r.StringTools=p;p.__name__=["StringTools"];p.urlEncode=function(a){return encodeURIComponent(a)};
p.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};p.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};p.startsWith=function(a,b){return a.length>=b.length&&l.substr(a,0,b.length)==b};p.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&l.substr(a,d-c,c)==b};p.isSpace=function(a,b){var c=l.cca(a,b);return 8<c&&14>c||32==c};p.ltrim=function(a){for(var b=
a.length,c=0;c<b&&p.isSpace(a,c);)c++;return 0<c?l.substr(a,c,b-c):a};p.rtrim=function(a){for(var b=a.length,c=0;c<b&&p.isSpace(a,b-c-1);)c++;return 0<c?l.substr(a,0,b-c):a};p.trim=function(a){return p.ltrim(p.rtrim(a))};p.replace=function(a,b,c){return a.split(b).join(c)};var g={Json:function(){}};r["haxe.Json"]=g.Json;g.Json.__name__=["haxe","Json"];g.Json.parse=function(a){return(new g.Json).doParse(a)};g.Json.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,d=!c,f=48==a,e=!1,g=
!1,m=!1,j=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:f&&!e&&this.invalidNumber(b);c&&(c=!1,f=!0);d=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f&&!e&&this.invalidNumber(b);c&&(c=!1);d=!0;f=!1;break;case 46:(c||e)&&this.invalidNumber(b);d=!1;e=!0;break;case 101:case 69:(c||f||g)&&this.invalidNumber(b);d=!1;g=!0;break;case 43:case 45:(!g||m)&&this.invalidNumber(b);d=!1;m=!0;break;default:d||this.invalidNumber(b),this.pos--,j=!0}if(j)break}a=t.parseFloat(l.substr(this.str,
b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+l.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new H;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\b";break;case 102:b.b+="\f";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);
break;case 117:a=t.parseInt("0x"+l.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;
case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),
a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=
this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:g.Json};g.Http=function(a){this.url=a;this.headers=new g.ds.StringMap;
this.params=new g.ds.StringMap;this.async=!0};r["haxe.Http"]=g.Http;g.Http.__name__=["haxe","Http"];g.Http.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=this;b.responseData=null;var c=e.Browser.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(b.responseData=c.responseText);else if(null==a)b.onError("Failed to connect or resolve host");
else switch(a){case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var f=this.postData;if(null!=f)a=!0;else for(var q=this.params.keys();q.hasNext();)var g=q.next(),f=null==f?"":f+"&",f=f+(p.urlEncode(g)+"="+p.urlEncode(this.params.get(g)));try{if(a)c.open("POST",this.url,this.async);else if(null!=f){var m=1>=this.url.split("?").length;c.open("GET",
this.url+(m?"?":"&")+f,this.async);f=null}else c.open("GET",this.url,this.async)}catch(j){this.onError(j.toString());return}null==this.headers.get("Content-Type")&&(a&&null==this.postData)&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)q=a.next(),c.setRequestHeader(q,this.headers.get(q));c.send(f);this.async||d(null)},setPostData:function(a){this.postData=a;return this},setHeader:function(a,b){this.headers.set(a,b);return this},__class__:g.Http};
x=function(){};r.IMap=x;x.__name__=["IMap"];g.ds={};g.ds.StringMap=function(){this.h={}};r["haxe.ds.StringMap"]=g.ds.StringMap;g.ds.StringMap.__name__=["haxe","ds","StringMap"];g.ds.StringMap.__interfaces__=[x];g.ds.StringMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return l.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:g.ds.StringMap};var t=
function(){};r.Std=t;t.__name__=["Std"];t.string=function(a){return e.Boot.__string_rec(a,"")};t.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==l.cca(a,1)||88==l.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};t.parseFloat=function(a){return parseFloat(a)};t.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var e={Boot:function(){}};r["js.Boot"]=e.Boot;e.Boot.__name__=["js","Boot"];e.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;
if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,f=a.length;d<f;)var q=d++,c=2!=q?c+(","+e.Boot.__string_rec(a[q],b)):c+e.Boot.__string_rec(a[q],b);return c+")"}d=a.length;c="[";b+="\t";for(f=0;f<d;)q=f++,c+=(0<q?",":"")+e.Boot.__string_rec(a[q],b);return c+"]"}try{f=a.toString}catch(g){return"???"}if(null!=f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;
f=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(f in a)if(!d||a.hasOwnProperty(f))"prototype"==f||("__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f)||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+e.Boot.__string_rec(a[f],b));b=b.substring(1);return c+="\n"+b+"}";case "function":return"<function>";case "string":return a;default:return String(a)}};e.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var q=
d++,q=c[q];if(q==b||e.Boot.__interfLoop(q,b))return!0}return e.Boot.__interfLoop(a.__super__,b)};e.Boot.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(e.Boot.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case Y:return Math.ceil(a%2147483648)===a;case Z:return"number"==typeof a;case U:return!0===a||!1===a;case String:return"string"==typeof a;case $:return!0;default:if(null==a)return!1;if(b==aa&&null!=a.__name__)return!0;null;if(b==
ba&&null!=a.__ename__)return!0;null;return a.__enum__==b}};e.Boot.__cast=function(a,b){if(e.Boot.__instanceof(a,b))return a;throw"Cannot cast "+t.string(a)+" to "+t.string(b);};var z=function(){};r.Reflect=z;z.__name__=["Reflect"];z.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};z.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};z.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&c.call(a,d)&&b.push(d)}return b};
z.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};z.deleteField=function(a,b){if(!z.hasField(a,b))return!1;delete a[b];return!0};var A,C;A=function(){};r["parser.MediaWiki"]=A;A.__name__=["parser","MediaWiki"];A.parse=function(a,b){for(var c=0,d=A.regex;c<d.length;){var f=d[c];++c;for(var e=0;f.from.match(a)&&64>e++;)a=f.from.replace(a,f.to),f.from.matchedPos()}a=p.replace(a,"$BASE",b);p.startsWith(a,"<br>")&&(a=l.substr(a,4,null));a.split("{{").length<a.split("}}").length&&
(a=l.substr(a,a.indexOf("}}")+2,null));return a};A.trimTo=function(a,b){b=p.trim(p.replace(b,"_"," "));for(var c={pos:0,len:0},d=null;A.sections.matchSub(a,c.pos+c.len);)if(c=A.sections.matchedPos(),p.trim(A.sections.matched(2))==p.trim(b)){d=A.sections.matched(1).length;break}null!=d&&(a=l.substr(a,c.pos+c.len,null),a=l.substr(a,0,a.indexOf("<h"+d+">")));return a};A.getAlbum=function(a){for(var b=[];A.IMAGES.match(a);){var c=A.IMAGES.matchedPos();a=l.substr(a,c.pos+c.len,null);c=A.IMAGES.matched(2)+
"."+A.IMAGES.matched(3);p.startsWith(c,"File:")&&(c=l.substr(c,5,null));b.push({url:c,caption:null,author:null})}return b};e.Browser=function(){};r["js.Browser"]=e.Browser;e.Browser.__name__=["js","Browser"];e.Browser.getLocalStorage=function(){try{var a=e.Browser.window.localStorage;a.getItem("");return a}catch(b){return null}};e.Browser.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");
throw"Unable to create XMLHttpRequest object.";};C=function(){};r["parser.Markdown"]=C;C.__name__=["parser","Markdown"];C.parse=function(a){for(;C.header.match(a);)C.header.matchedPos(),a=1+C.header.matched(1).length,6<a&&(a=6),a=C.header.matchedLeft()+("<h"+a+">"+C.header.matched(2)+"</h"+a+">")+C.header.matchedRight();for(var b=0,c=C.regex;b<c.length;){var d=c[b];for(++b;d.from.match(a);)a=d.from.replace(a,d.to)}return a};var n=function(){};r.Xml=n;n.__name__=["Xml"];n.parse=function(a){return g.xml.Parser.parse(a)};
n.createElement=function(a){var b=new n;b.nodeType=n.Element;b._children=[];b._attributes=new g.ds.StringMap;b.set_nodeName(a);return b};n.createPCData=function(a){var b=new n;b.nodeType=n.PCData;b.set_nodeValue(a);return b};n.createCData=function(a){var b=new n;b.nodeType=n.CData;b.set_nodeValue(a);return b};n.createComment=function(a){var b=new n;b.nodeType=n.Comment;b.set_nodeValue(a);return b};n.createDocType=function(a){var b=new n;b.nodeType=n.DocType;b.set_nodeValue(a);return b};n.createProcessingInstruction=
function(a){var b=new n;b.nodeType=n.ProcessingInstruction;b.set_nodeValue(a);return b};n.createDocument=function(){var a=new n;a.nodeType=n.Document;a._children=[];return a};n.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&l.remove(a._parent._children,a);a._parent=this;this._children.push(a)},exists:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=n.Element)throw"bad nodeType";
this._attributes.set(a,b)},set_nodeValue:function(a){if(this.nodeType==n.Element||this.nodeType==n.Document)throw"bad nodeType";return this._nodeValue=a},set_nodeName:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName},__class__:n};g.xml={};g.xml.Parser=function(){};r["haxe.xml.Parser"]=g.xml.Parser;g.xml.Parser.__name__=["haxe","xml","Parser"];g.xml.Parser.parse=function(a){var b=
n.createDocument();g.xml.Parser.doParse(a,0,b);return b};g.xml.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,f=1,e=1,j=null,m=0,h=0,F=0,s=a.charCodeAt(b),p=new H;s==s;){switch(f){case 0:switch(s){case 10:case 13:case 9:case 32:break;default:f=e;continue}break;case 1:switch(s){case 60:f=0;e=2;break;default:m=b;f=13;continue}break;case 13:60==s?(f=n.createPCData(p.b+l.substr(a,m,b-m)),p=new H,c.addChild(f),h++,f=0,e=2):38==s&&(p.addSub(a,m,b-m),f=18,e=13,m=b+1);break;case 17:93==s&&(93==
a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(f=n.createCData(l.substr(a,m,b-m)),c.addChild(f),h++,b+=2,f=1);break;case 2:switch(s){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=l.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;f=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=l.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;f=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;f=15}m=b+1;break;case 63:f=14;m=b;break;
case 47:if(null==c)throw"Expected node name";m=b+1;f=0;e=10;break;default:f=3;m=b;continue}break;case 3:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(b==m)throw"Expected node name";d=n.createElement(l.substr(a,m,b-m));c.addChild(d);f=0;e=4;continue}break;case 4:switch(s){case 47:f=11;h++;break;case 62:f=9;h++;break;default:f=5;m=b;continue}break;case 5:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected attribute name";
j=l.substr(a,m,b-m);if(d.exists(j))throw"Duplicate attribute";f=0;e=6;continue}break;case 6:switch(s){case 61:f=0;e=7;break;default:throw"Expected =";}break;case 7:switch(s){case 34:case 39:f=8;m=b;break;default:throw'Expected "';}break;case 8:s==a.charCodeAt(m)&&(e=l.substr(a,m+1,b-m-1),d.set(j,e),f=0,e=4);break;case 9:m=b=g.xml.Parser.doParse(a,b,d);f=1;break;case 11:switch(s){case 62:f=1;break;default:throw"Expected >";}break;case 12:switch(s){case 62:return 0==h&&c.addChild(n.createPCData("")),
b;default:throw"Expected >";}case 10:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected node name";if(l.substr(a,m,b-m)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";f=0;e=12;continue}break;case 15:45==s&&(45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(c.addChild(n.createComment(l.substr(a,m,b-m))),b+=2,f=1);break;case 16:91==s?F++:93==s?F--:62==s&&0==F&&(c.addChild(n.createDocType(l.substr(a,m,b-m))),f=1);break;case 14:63==s&&62==a.charCodeAt(b+
1)&&(b++,f=l.substr(a,m+1,b-m-2),c.addChild(n.createProcessingInstruction(f)),f=1);break;case 18:59==s&&(m=l.substr(a,m,b-m),35==m.charCodeAt(0)?(m=120==m.charCodeAt(1)?t.parseInt("0"+l.substr(m,1,m.length-1)):t.parseInt(l.substr(m,1,m.length-1)),p.b+=t.string(String.fromCharCode(m))):p.b=g.xml.Parser.escapes.exists(m)?p.b+t.string(g.xml.Parser.escapes.get(m)):p.b+t.string("&"+m+";"),m=b+1,f=e)}s=a.charCodeAt(++b)}1==f&&(m=b,f=13);if(13==f)return(b!=m||0==h)&&c.addChild(n.createPCData(p.b+l.substr(a,
m,b-m))),b;throw"Unexpected end";};var H=function(){this.b=""};r.StringBuf=H;H.__name__=["StringBuf"];H.prototype={addSub:function(a,b,c){this.b+=null==c?l.substr(a,b,null):l.substr(a,b,c)},__class__:H};var y=function(){};r.Link=y;y.__name__=["Link"];y.resolve=function(a){a=y.trimURL(a);for(var b=0,c=y.sites;b<c.length;){var d=c[b];++b;try{if(d.regex.match(a)&&d.regex.matchedPos().len==a.length)return d}catch(f){console.log("Error "+t.string(f)+" whilst processing regex "+t.string(d.regex))}}return null};
y.trimURL=function(a){p.startsWith(a,"http://")?a=l.substr(a,7,null):p.startsWith(a,"https://")&&(a=l.substr(a,8,null));p.startsWith(a,"www.")?a=l.substr(a,4,null):p.startsWith(a,"m.")&&(a=l.substr(a,2,null));-1!=a.indexOf("&")&&(a=l.substr(a,0,a.indexOf("&")));-1!=a.indexOf("?")&&!p.startsWith(a,"facebook.com/")&&(a=l.substr(a,0,a.indexOf("?")));-1!=a.indexOf("#")&&-1==a.indexOf("/wiki/")&&(a=l.substr(a,0,a.indexOf("#")));p.endsWith(a,"/")&&(a=l.substr(a,0,a.length-1));return a};y.filterHTML=function(a){for(var b=
0,c=y.HTML_FILTERS;b<c.length;){var d=c[b];for(++b;d.match(a);)a=d.replace(a,"")}b=0;for(c=y.HTML_CLEANERS;b<c.length;)d=c[b],++b,a=d.from.replace(a,d.to);if(p.startsWith(a,"<br>")||p.startsWith(a,"<br />"))a=l.substr(a,a.indexOf(">")+1,null);p.endsWith(a,"<br>")&&(a=l.substr(a,0,a.length-4));return a};y.createButton=function(a,b,c){var d=y.resolve(a),f=null;if(null!=d){var q=e.Browser.document.createElement("div"),h="expando-button ",m=v.toggled,l=m?"expanded":"collapsed";q.className=""+h+" "+l;
f={toggled:function(){return m},toggle:function(a,b){m=a;q.className=h+(l=m?"expanded":"collapsed");for(var c=q.parentElement.getElementsByClassName("expando"),d=0;d<c.length;){var f=c[d];++d;j.show(f,a)}b&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:a,element:q};q.onclick=function(){f.toggle(!m,!0)};d.method(d.regex,function(d){var s="selftext",k;if(z.hasField(d,"urls")){var r=[];for(k=d.urls.keys();k.hasNext();){var n=k.next();r.push('<li><a href="'+d.urls.get(n)+
'">'+n+"</a></li>")}k=e.Browser.document.createElement("div");k.className="usertext";n=e.Browser.document.createElement("div");n.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Name",d.name);a.set("Description",d.description);a.set("Links",r.join(""));return a}(this)));0<d.album.length&&(n.appendChild(e.Browser.document.createElement("br")),n.appendChild(j.embedAlbum(d.album)));k.appendChild(n)}else if(z.hasField(d,"price"))console.log(d),k=e.Browser.document.createElement("div"),
k.className="usertext",s=e.Browser.document.createElement("div"),s.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Category",p.htmlEscape(d.category));a.set("Location",p.htmlEscape(d.location));a.set("Price",p.htmlEscape(d.price));a.set("Description",d.description);return a}(this))),s.appendChild(j.embedAlbum(d.images)),k.appendChild(s),s="item";else if(z.hasField(d,"subscribers"))k=e.Browser.document.createElement("div"),k.className="usertext",k.appendChild(j.embedMap(function(){var a=
new g.ds.StringMap;a.set("Age",j.age(d.created_utc));a.set("Subscribers",j.formatNumber(d.subscribers));a.set("Active users",j.formatNumber(d.accounts_active));a.set("Description",C.parse(d.description));return a}(this)));else if(z.hasField(d,"content")){k=e.Browser.document.createElement("div");k.className="usertext";var n=e.Browser.document.createElement("div"),u=e.Browser.document.createElement("span");u.innerHTML=d.content;n.appendChild(u);null!=d.images&&0<d.images.length&&(n.appendChild(e.Browser.document.createElement("br")),
n.appendChild(j.embedAlbum(d.images)));n.className="md";k.appendChild(n)}else e.Boot.__instanceof(d,Array)&&z.hasField(d[0],"url")?(k=j.embedAlbum(d),s="image"):z.hasField(d,"developers")?(console.log(a),k=e.Browser.document.createElement("div"),k.className="usertext",n=e.Browser.document.createElement("div"),u=e.Browser.document.createElement("span"),u.innerHTML=""+t.string(d.description)+'<br><a href="'+t.string(d.url)+'"><b>Clone repo</b></a><br>',null!=d.album&&0<d.album.length&&u.appendChild(j.embedAlbum(d.album)),
n.appendChild(u),n.className="md",k.appendChild(n)):(console.log("Unknown value: "+t.string(d)),k=null);null!=k&&(n=e.Browser.document.createElement("div"),n.className="expando",n.appendChild(k),h+=""+s+" ",q.className=""+h+" "+l,v.buttons.push(f),j.show(n,m),null==c?b.appendChild(n):b.insertBefore(n,c.nextSibling),b.insertBefore(q,n))})}return null!=f?f.element:null};var O=function(){this.length=0};r.List=O;O.__name__=["List"];O.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=
this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:O};var R=function(){};r.NSFWFilter=R;R.__name__=["NSFWFilter"];R.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("nsfw-stamp"),b=0;b<a.length;){var c=a[b];++b;"li"==c.nodeName.toLowerCase()&&j.show(c.parentNode.parentNode.parentNode,!1)}};var J=function(){};r.Preview=J;J.__name__=["Preview"];
J.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-edit"),b=0;b<a.length;){var c=a[b];++b;J.preview(c)}};J.preview=function(a){var b=a.getElementsByTagName("textarea")[0];if(null!=b){var c=e.Browser.document.createElement("div");a.appendChild(c);c.className="md";var d=null;b.onfocus=function(){d=new g.Timer(100);d.run=function(){c.innerHTML=C.parse(b.value)}};b.onblur=function(){d.stop();d=null}}};var k=function(){};r.Settings=k;k.__name__=["Settings"];k.optimisedData=
function(){for(var a=new g.ds.StringMap,b=k.data.keys();b.hasNext();){var c=b.next(),d=k.data.get(c);k.DEFAULTS.get(c)!=d&&a.set(c,d)}return g.Serializer.run(a)};k.save=function(){g.Serializer.USE_CACHE=!1;e.Browser.getLocalStorage().setItem("reditn",k.optimisedData())};k.init=function(){var a=e.Browser.getLocalStorage().getItem("reditn");if(null!=a){var b;try{b=g.Unserializer.run(a)}catch(c){b=k.data}k.data=b}k.fixMissing();a=e.Browser.document.getElementById("header-bottom-right");b=a.getElementsByTagName("ul")[0];
var d=e.Browser.document.createElement("a");d.innerHTML="reditn";d.className="pref-lang";d.href="javascript:void(0);";d.onclick=function(){k.settingsPopUp()};null==b?a.appendChild(d):a.insertBefore(d,b);d=e.Browser.document.createElement("span");d.innerHTML=" | ";d.className="seperator";d.style.fontWeight="none";a.insertBefore(d,b)};k.settingsPopUp=function(){var a=e.Browser.document.getElementById("reditn-config");null!=a&&a.parentElement.removeChild(a);var a=e.Browser.document.createElement("div"),
b=e.Browser.document.createElement("h1");b.innerHTML="Reditn settings";a.appendChild(b);j.fullPopUp(a);var c=e.Browser.document.createElement("form");c.id="reditn-config";c.action="javascript:void(0);";c.onchange=function(){for(var a=c.childNodes,b=0;b<a.length;){var d=a[b];++b;if("button"!=d.type&&"input"==d.nodeName.toLowerCase()){var f=void 0;switch(d.type.toLowerCase()){case "checkbox":f=d.checked;break;default:f=d.value}k.data.set(d.name,f)}}k.save()};b=e.Browser.document.createElement("input");
b.type="button";b.value="Restore default settings";b.onclick=function(){k.fixMissing(!0);k.save();k.settingsPopUp()};c.appendChild(b);b=k.makeButton("Export settings to text",function(){e.Browser.window.alert(e.Browser.window.btoa(k.optimisedData()))});c.appendChild(b);b=k.makeButton("Import settings",function(){k.data=g.Unserializer.run(e.Browser.window.atob(e.Browser.window.prompt("Settings to import",e.Browser.window.btoa(k.optimisedData()))));k.fixMissing();k.save();k.settingsPopUp()});c.appendChild(b);
c.appendChild(e.Browser.document.createElement("br"));for(b=k.data.keys();b.hasNext();){var d=b.next(),f=k.data.get(d);if(!e.Boot.__instanceof(f,g.ds.StringMap)&&k.DESC.exists(d)){var q=k.DESC.get(d),h=e.Browser.document.createElement("label");h.setAttribute("for",d);h.style.position="absolute";h.style.width="46%";h.style.textAlign="right";h.innerHTML=""+q+" ";c.appendChild(h);q=e.Browser.document.createElement("input");q.style.position="absolute";q.style.left="54%";q.style.textAlign="left";q.style.width=
"46%";q.name=d;c.appendChild(q);c.appendChild(e.Browser.document.createElement("br"));q.type=e.Boot.__instanceof(f,U)?"checkbox":e.Boot.__instanceof(f,String)?"text":e.Boot.__instanceof(f,Date)?"datetime":e.Boot.__instanceof(f,Y)?"number":null;e.Boot.__instanceof(f,U)?q.checked=k.data.get(d):q.value=k.data.get(d)}}b=e.Browser.document.createElement("div");b.style.fontWeight="bold";b.innerHTML="Close this dialog and refresh the page to see your changes in effect. Changes will be saved automatically.";
c.appendChild(b);a.appendChild(c)};k.makeButton=function(a,b){var c=e.Browser.document.createElement("input");c.type="button";c.value=a;c.onclick=b;return c};k.fixMissing=function(a){null==a&&(a=!1);for(var b=k.DEFAULTS.keys();b.hasNext();){var c=b.next();if(a||!k.data.exists(c))k.data.set(c,e.Boot.__instanceof(k.DEFAULTS.get(c),g.ds.StringMap)?new g.ds.StringMap:k.DEFAULTS.get(c))}};var S=function(){};r.Style=S;S.__name__=["Style"];S.init=function(){var a=e.Browser.document.createElement("style");
a.innerHTML='.expando-button.image.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.collapsed {\n\tpadding: 0px;\n}\np .expando-button {\n\tdisplay: inline-block;\n\tfloat: none;\n\tmargin: 0px;\n\tpadding: 0px;\n}\ndl.reditn-table  {\n\tfloat: left;\n\twidth: 100%;\n\tpadding: 0;\n}\n.reditn-table dt {\n\tclear: left;\n\tfloat: left;\n\twidth: 16%;\n\tfont-weight: bold;\n\ttext-align: right;\n}\n.reditn-table dd {\n\tfloat: left;\n\ttext-align: left;\n}';
e.Browser.document.head.appendChild(a)};var K=function(){};r.SubredditInfo=K;K.__name__=["SubredditInfo"];K.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=K._onMouseOverSubreddit}};K._onMouseOverSubreddit=function(a){a=a.target;var b=a.innerHTML,c=e.Browser.document.createElement("div");j.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/r/"+b+"/about.json",function(a){var f=j.formatNumber(a.subscribers),
e=j.formatNumber(a.accounts_active),g=C.parse(a.public_description);a=j.age(a.created_utc);var m="<b>Name:</b> "+b+" <br>",h=k.data.get("sub-tags");h.exists(b)&&(m+="<b>Tag:</b> "+h.get(b)+"<br>");m=m+("<b>Subscribers:</b> "+f+" <br>")+("<b>Active Users:</b> "+e+" <br>");m+="<b>Description:</b> "+g+" <br>";m+="<b>Age:</b> "+a+" <br>";c.innerHTML=m})};var N=function(){};r.SubredditTagger=N;N.__name__=["SubredditTagger"];N.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),
b=0;b<a.length;){var c=a[b];++b;N.getTag(c)}};N.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("sub-tags").exists(c)?k.data.get("sub-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),
b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("sub-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};var T=function(){};r.TextExpand=
T;T.__name__=["TextExpand"];T.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-body"),b=0;b<a.length;){var c=a[b];++b;for(var c=e.Boot.__cast(c,Element).getElementsByClassName("md")[0].getElementsByTagName("a"),d=0;d<c.length;){var f=c[d];++d;y.createButton(f.href,f.parentElement,f)}}};var w=r.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};w.TNull=["TNull",0];w.TNull.toString=G;w.TNull.__enum__=
w;w.TInt=["TInt",1];w.TInt.toString=G;w.TInt.__enum__=w;w.TFloat=["TFloat",2];w.TFloat.toString=G;w.TFloat.__enum__=w;w.TBool=["TBool",3];w.TBool.toString=G;w.TBool.__enum__=w;w.TObject=["TObject",4];w.TObject.toString=G;w.TObject.__enum__=w;w.TFunction=["TFunction",5];w.TFunction.toString=G;w.TFunction.__enum__=w;w.TClass=function(a){a=["TClass",6,a];a.__enum__=w;a.toString=G;return a};w.TEnum=function(a){a=["TEnum",7,a];a.__enum__=w;a.toString=G;return a};w.TUnknown=["TUnknown",8];w.TUnknown.toString=
G;w.TUnknown.__enum__=w;var B=function(){};r.Type=B;B.__name__=["Type"];B.getClassName=function(a){return a.__name__.join(".")};B.getEnumName=function(a){return a.__ename__.join(".")};B.resolveClass=function(a){a=r[a];return null==a||!a.__name__?null:a};B.resolveEnum=function(a){a=r[a];return null==a||!a.__ename__?null:a};B.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};B.createEnum=function(a,b,c){var d=z.field(a,b);if(null==d)throw"No such constructor "+b;if(z.isFunction(d)){if(null==
c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};B.getEnumConstructs=function(a){return a.__constructs__.slice()};B["typeof"]=function(a){switch(typeof a){case "boolean":return w.TBool;case "string":return w.TClass(String);case "number":return Math.ceil(a)==a%2147483648?w.TInt:w.TFloat;case "object":if(null==a)return w.TNull;var b=a.__enum__;if(null!=b)return w.TEnum(b);a=a.__class__;return null!=a?w.TClass(a):
w.TObject;case "function":return a.__name__||a.__ename__?w.TObject:w.TFunction;case "undefined":return w.TNull;default:return w.TUnknown}};var L=function(){};r.UserInfo=L;L.__name__=["UserInfo"];L.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=L._onMouseOverUser}};L._onMouseOverUser=function(a){a=a.target;var b=a.innerHTML,b=l.substr(b,b.lastIndexOf("/")+1,null),c=e.Browser.document.createElement("div");j.popUp(a,c,
a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/user/"+b+"/about.json",function(a){var b=a.name,e=j.age(a.created_utc),g=j.formatNumber(a.link_karma),h=j.formatNumber(a.comment_karma),l="<b>User:</b> "+b+"<br>",p=k.data.get("user-tags");p.exists(b)&&(l+="<b>Tag:</b> "+p.get(b)+"<br>");l=l+("<b>Account age:</b> "+e+"<br>")+("<b>Karma:</b> "+g+" link karma, "+h+" comment karma");a.is_mod&&(l+="<br><b>Moderator</b>");a.is_gold&&(l+="<br><b>Gold</b>");c.innerHTML=l})};var M=function(){};r.UserTagger=
M;M.__name__=["UserTagger"];M.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;M.getTag(c)}};M.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("user-tags").exists(c)?k.data.get("user-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";
g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("user-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+
g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};r.XmlType={__ename__:["XmlType"],__constructs__:[]};g.Serializer=function(){this.buf=new H;this.cache=[];this.useCache=g.Serializer.USE_CACHE;this.useEnumIndex=g.Serializer.USE_ENUM_INDEX;this.shash=new g.ds.StringMap;this.scount=0};r["haxe.Serializer"]=g.Serializer;g.Serializer.__name__=["haxe","Serializer"];g.Serializer.run=function(a){var b=new g.Serializer;b.serialize(a);return b.toString()};g.Serializer.prototype={serialize:function(a){var b=
B["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=t.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=t.string(a)):this.buf.b+=t.string(0>a?"m":"p");break;case 3:this.buf.b+=t.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var d=a.length,f=0;f<d;)b=f++,
null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=t.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=t.string(c)));this.buf.b+="h";break;case O:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=t.string(l.dateStr(a));break;case g.ds.StringMap:this.buf.b+="b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));
this.buf.b+="h";break;case g.ds.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=t.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case g.ds.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=c.next(),d=z.field(b,"__id__"),z.deleteField(b,"__id__"),this.serialize(b),b.__id__=d,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case g.io.Bytes:b=0;c=a.length-2;d=new H;for(f=g.Serializer.BASE64;b<c;){var e=a.b[b++],h=a.b[b++],j=a.b[b++];d.b+=t.string(f.charAt(e>>
2));d.b+=t.string(f.charAt((e<<4|h>>4)&63));d.b+=t.string(f.charAt((h<<2|j>>6)&63));d.b+=t.string(f.charAt(j&63))}b==c?(e=a.b[b++],h=a.b[b++],d.b+=t.string(f.charAt(e>>2)),d.b+=t.string(f.charAt((e<<4|h>>4)&63)),d.b+=t.string(f.charAt(h<<2&63))):b==c+1&&(e=a.b[b++],d.b+=t.string(f.charAt(e>>2)),d.b+=t.string(f.charAt(e<<4&63)));b=d.b;this.buf.b+="s";this.buf.b+=t.string(b.length);this.buf.b+=":";this.buf.b+=t.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(B.getClassName(b)),
this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(B.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=t.string(this.useEnumIndex?"j":"w");this.serializeString(B.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=t.string(a[1])):this.serializeString(a[0]);
this.buf.b+=":";d=a.length;this.buf.b+=t.string(d-2);for(f=2;f<d;)b=f++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+t.string(a);}},serializeFields:function(a){for(var b=0,c=z.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(z.field(a,d))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var f=c++,e=this.cache[f];if(typeof e==b&&e==a)return this.buf.b+="r",
this.buf.b+=t.string(f),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=t.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=p.urlEncode(a),this.buf.b+=t.string(a.length),this.buf.b+=":",this.buf.b+=t.string(a))},toString:function(){return this.buf.b},__class__:g.Serializer};g.Timer=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};r["haxe.Timer"]=g.Timer;g.Timer.__name__=["haxe","Timer"];g.Timer.delay=
function(a,b){var c=new g.Timer(b);c.run=function(){c.stop();a()};return c};g.Timer.stamp=function(){return(new Date).getTime()/1E3};g.Timer.prototype={run:function(){console.log("run")},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:g.Timer};g.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=g.Unserializer.DEFAULT_RESOLVER;null==a&&(a=B,g.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};r["haxe.Unserializer"]=
g.Unserializer;g.Unserializer.__name__=["haxe","Unserializer"];g.Unserializer.initCodes=function(){for(var a=[],b=0,c=g.Unserializer.BASE64.length;b<c;){var d=b++;a[g.Unserializer.BASE64.charCodeAt(d)]=d}return a};g.Unserializer.run=function(a){return(new g.Unserializer(a)).unserialize()};g.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return t.parseFloat(l.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=l.substr(this.buf,this.pos,b);this.pos+=b;a=p.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=
this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();
a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=B.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+
b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new O;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new g.ds.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new g.ds.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);
if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new g.ds.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=l.strDate(l.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";d=g.Unserializer.CODES;null==d&&(d=g.Unserializer.initCodes(),g.Unserializer.CODES=
d);for(var a=this.pos,f=b&3,e=a+(b-f),h=g.io.Bytes.alloc(3*(b>>2)+(2<=f?f-1:0)),j=0;a<e;){var k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)];h.b[j++]=(k<<2|n>>4)&255;k=d[c.charCodeAt(a++)];h.b[j++]=(n<<4|k>>2)&255;n=d[c.charCodeAt(a++)];h.b[j++]=(k<<6|n)&255}2<=f&&(k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)],h.b[j++]=(k<<2|n>>4)&255,3==f&&(k=d[c.charCodeAt(a++)],h.b[j++]=(n<<4|k>>2)&255));this.pos+=b;this.cache.push(h);return h;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==
a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return B.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return B.createEnum(a,b,d)},unserializeObject:function(a){for(;;){if(this.pos>=
this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!e.Boot.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},
resolveEnum:function(){return null}}:a},__class__:g.Unserializer};g.ds.IntMap=function(){this.h={}};r["haxe.ds.IntMap"]=g.ds.IntMap;g.ds.IntMap.__name__=["haxe","ds","IntMap"];g.ds.IntMap.__interfaces__=[x];g.ds.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return l.iter(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:g.ds.IntMap};g.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};r["haxe.ds.ObjectMap"]=g.ds.ObjectMap;
g.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];g.ds.ObjectMap.__interfaces__=[x];g.ds.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return l.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=++g.ds.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:g.ds.ObjectMap};g.io={};g.io.Bytes=function(a,b){this.length=a;this.b=b};r["haxe.io.Bytes"]=g.io.Bytes;g.io.Bytes.__name__=["haxe","io","Bytes"];
g.io.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new g.io.Bytes(a,b)};g.io.Bytes.prototype={__class__:g.io.Bytes};Array.prototype.indexOf?l.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0}:null;"undefined"!=typeof JSON&&(g.Json=JSON);String.prototype.__class__=r.String=String;String.__name__=["String"];Array.prototype.__class__=r.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=r.Date=Date;Date.__name__=["Date"];var Y=r.Int={__name__:["Int"]},
$=r.Dynamic={__name__:["Dynamic"]},Z=r.Float=Number;Z.__name__=["Float"];var U=r.Bool=Boolean;U.__ename__=["Bool"];var aa=r.Class={__name__:["Class"]},ba={};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;r.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};n.Element="element";n.PCData="pcdata";n.CData="cdata";n.Comment="comment";n.DocType="doctype";n.ProcessingInstruction=
"processingInstruction";n.Document="document";v.buttons=[];v.queue=0;u.keys=[];u.konami=[38,38,40,40,37,39,37,39,66,65];D.words=["wubba","mcwubber","dubba","dadubber"];D.filter=new h("[a-zA-Z]*","");j.fullPage=!0;A.regex=[{from:new h("\\[\\[Category:([^\\]]*)\\]\\]",""),to:""},{from:new h("\\[\\[([^\\]\n]*)\\|([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$2</a>'},{from:new h("\\[\\[([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$1</a>'},{from:new h("<gallery>(.|\n|\n\r)*</gallery>",
""),to:""},{from:new h("\\[\\[File:([^\\]]*)\\]\\]",""),to:""},{from:new h("(=*) ?(References|Gallery) ?\\1.*\\1?",""),to:""},{from:new h("{{spaced ndash}}",""),to:" - "},{from:new h("\\{\\{convert\\|([0-9]*)\\|([^\\|]*)([^\\}]*)\\}\\}",""),to:"$1 $2"},{from:new h("\\{\\{([^\\}]*)\\}\\}",""),to:""},{from:new h("\\{\\|(.|\n|\n\r)*\\|\\}",""),to:""},{from:new h("\\[([^ \\[\\]]*) ([^\\[\\]]*)\\]",""),to:""},{from:new h("'''([^']*)'''",""),to:"<b>$1</b>"},{from:new h("''([^']*)''",""),to:"<em>$1</em>"},
{from:new h("======([^=]*)======",""),to:"<h6>$1</h6>"},{from:new h("=====([^=]*)=====",""),to:"<h5>$1</h5>"},{from:new h("====([^=]*)====",""),to:"<h4>$1</h4>"},{from:new h("===([^=]*)===",""),to:"<h3>$1</h3>"},{from:new h("==([^=]*)==",""),to:"<h2>$1</h2>"},{from:new h("\n\\* ?([^\n]*)",""),to:"<li>$1</li>"},{from:new h("<ref>[^<>]*</ref>",""),to:""},{from:new h("\n\r?\n\r?",""),to:"<br>"},{from:new h("\n",""),to:""},{from:new h("<br><br>",""),to:"<br>"},{from:new h("\x3c!--Interwiki links--\x3e.*",
""),to:""},{from:new h("\\[\\]",""),to:""}];A.sections=new h("'=(=*)([^=]*)=\\\\1\n\r?(.|\n|\n\r)*(\\\\1)?'","");A.IMAGES=new h("(File:|img=|Image:)([^\\.\\|\\]\\}\\{\\[<>=]*)\\.(gif|jpg|jpeg|bmp|png|webp|svg|raw)(\\|([^\\)]*))?","");e.Browser.window="undefined"!=typeof window?window:null;e.Browser.document="undefined"!=typeof window?window.document:null;C.images=new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)","");C.regex=[{from:new h("(\\*\\*|__)([^\\1\n]*?)\\1",""),to:"<b>$2</b>"},{from:new h("(\\*|_)([^\\1\n]*?)\\1",
""),to:"<em>$2</em>"},{from:new h("^[\\*|+|-] (.*)$","m"),to:"<ul><li>$1</li></ul>"},{from:new h("</ul><ul>",""),to:""},{from:new h("\n> ([^\n\r]*)",""),to:"<blockquote>$1</blockquote>"},{from:new h("</blockquote>\n?\r?<blockquote>$",""),to:""},{from:new h("~~([^~]*?)~~",""),to:"<del>$1</del>"},{from:new h("\\^([^\\^]+)",""),to:"<sup>$1</sup>"},{from:new h(':"([^:"]*?)":',""),to:"<q>$1</q>"},{from:C.images,to:""},{from:new h("\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",""),to:'<a href="$2">$1</a>'},{from:new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",
""),to:""},{from:new h("(.*)\n\r?(==+)\n",""),to:"<h2>$1</h2>"},{from:new h("(.*)\n\r?((-|#)+)\n",""),to:"<h3>$1</h3>"},{from:new h("(```*)([^`]+)\\1","m"),to:"<code>$2</code>"},{from:new h("<pre>(.*)\n\n(.*)</pre>",""),to:"<pre>$1\n$2</pre>"},{from:new h("\n\n+",""),to:"<br>\n"}];C.header=new h("^([#|=]+)([^#=]+)\\1?$","m");x=g.xml.Parser;E=new g.ds.StringMap;E.set("lt","<");E.set("gt",">");E.set("amp","&");E.set("quot",'"');E.set("apos","'");E.set("nbsp",String.fromCharCode(160));x.escapes=E;y.HTML_IMG=
new h('<img .*?src="([^"]*)"/?>',"");y.sites=[{regex:new h(".*\\.(jpeg|gif|jpg|bmp|png|webp)","i"),method:function(a,b){b([{url:"http://"+a.matched(0),caption:null,author:null}])}},{regex:new h("i?\\.?imgur.com/(a|gallery)/([^/]*)",""),method:function(a,b){var c=a.matched(2),d;switch(a.matched(1).toLowerCase()){case "a":d="album";break;case "gallery":d="gallery/album";break;default:d="album"}j.getJSON("https://api.imgur.com/3/"+d+"/"+c,function(a){var c=[];if(0>=a.images_count)c.push({url:"http://i.imgur.com/"+
a.id+".jpg",caption:a.title,author:a.account_url});else for(var d=0,e=a.images;d<e.length;){var g=e[d];++d;c.push({url:"http://i.imgur.com/"+g.id+".jpg",caption:g.title,author:a.account_url})}b(c)},"Client-ID cc1f254578d6c52")}},{regex:new h("imgur\\.com/(r/[^/]*/)?([a-zA-Z0-9,]*)",""),method:function(a,b){for(var c=(null==a.matched(1)||-1!=a.matched(1).indexOf("/")?a.matched(2):a.matched(1)).split(","),d=[],f=0;f<c.length;){var e=c[f];++f;d.push({url:"http://i.imgur.com/"+e+".jpg",caption:null,author:null})}b(d)}},
{regex:new h("(qkme\\.me|quickmeme\\.com/meme|m\\.quickmeme.com/meme)/([^/]*)",""),method:function(a,b){b([{url:"http://i.qkme.me/"+a.matched(2)+".jpg",caption:null,author:null}])}},{regex:new h("memecrunch.com/meme/([^/]*)/([^/]*)",""),method:function(a,b){b([{url:"http://"+a.matched(0)+"/image.png",caption:null,author:null}])}},{regex:new h("memegenerator\\.net/instance/([^/]*)",""),method:function(a,b){b([{url:"http://cdn.memegenerator.net/instances/400x/"+a.matched(1)+".jpg",caption:null,author:null}])}},
{regex:new h("imgflip\\.com/i/([^/]*)",""),method:function(a,b){b([{url:"http://i.imgflip.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("what-if.xkcd.com/([0-9]*)",""),method:function(){}},{regex:new h("xkcd.com/([0-9]*)",""),method:function(a,b){j.getJSON("http://www.xkcd.com/"+a.matched(1)+"/info.0.json",function(a){b([{url:a.img,caption:a.title,author:null}])})}},{regex:new h("explosm.net/comics/([0-9]*)",""),method:function(a,b){j.getText("http://www."+a.matched(0),function(c){var d=
new h('"http://www\\.explosm\\.net/db/files/Comics/([^"]*)"',"");if(d.match(c))b([{url:d.matched(0).substring(1,d.matched(0).length-1),caption:null,author:null}]);else throw""+t.string(d)+" not matched by "+a.matched(0)+" in "+c;},null,null,null)}},{regex:new h("livememe.com/([^/]*)",""),method:function(a,b){b([{url:"http://livememe.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("(([^\\.]*\\.)?deviantart\\.com/art|fav\\.me)/.*",""),method:function(a,b){j.getJSON("http://backend.deviantart.com/oembed?url="+
p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("flickr\\.com/photos/.*",""),method:function(a,b){j.getJSON("http://www.flickr.com/services/oembed/?url=http://www."+p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("ebay\\.([a-zA-Z\\.]*)/itm(/[^/]*)?/([0-9]*)",""),method:function(a,b){a.matched(1);var c="http://open.api.ebay.com/shopping?callname=GetSingleItem&responseencoding=JSON&appid=ThomasDa-1e6c-4d29-a156-85557acee70b&siteid=0&version=515&ItemID="+
a.matched(3)+"&IncludeSelector=TextDescription";j.getJSON(c,function(a){var c=a.Item.PictureURL.map(function(a){return{url:a,caption:null,author:null}});b({title:a.Item.Title,category:a.Item.PrimaryCategoryName,location:a.Item.Location+", "+a.Item.Country,description:y.filterHTML(a.Item.Description),images:c,price:j.formatPrice(a.Item.ConvertedCurrentPrice.Value)+" "+a.Item.ConvertedCurrentPrice.CurrencyID})})}},{regex:new h("([^\\.]*\\.wordpress\\.com|wp\\.me|techcrunch\\.com|news\\.blogs\\.cnn\\.com|snoopdogg\\.com|usainbolt\\.com|katiecouric\\.com|rollingstones\\.com|variety\\.com|bbcamerica\\.com)/(.*)?",
""),method:function(a,b){var c="http://"+a.matched(0);j.getJSON("http://public-api.wordpress.com/oembed/?url="+p.urlEncode(c)+"&for=Reditn",function(a){var c=[];null!=a.thumbnail_url&&c.push({caption:null,url:a.thumbnail_url,author:null});b({author:a.author_name,content:y.filterHTML(a.html),images:c})})}},{regex:new h("(.*)/wiki/([^#]*)(#.*)?",""),method:function(a,b){var c="http://"+a.matched(1),d=a.matched(2),f=a.matched(3);null!=f&&(f=p.trim(l.substr(f,1,null)));null!=f&&0==f.length&&(f=null);
var e=c;p.endsWith(e,".wikia.com")||(e+="/w");var g=null,g=function(a){j.getJSON(""+e+"/api.php?format=json&prop=revisions&action=query&titles="+a+"&rvprop=content",function(a){a=a.query.pages;for(var d=0,h=z.fields(a);d<h.length;){var m=h[d];++d;var m=[z.field(a,m)],k=[z.field(m[0].revisions[0],"*")];if(p.startsWith(k[0],"#REDIRECT [[")){g(k[0].substring(12,k[0].lastIndexOf("]]")));break}var n=[A.getAlbum(k[0])];null!=f&&(k[0]=A.trimTo(k[0],f));k[0]=A.parse(k[0],c);if(0<n[0].length)for(var r=[[]],
u=0;u<n[0].length;){var v=[n[0][u]];++u;j.getJSON(""+e+"/api.php?action=query&titles="+p.urlEncode(v[0].url)+"&prop=imageinfo&iiprop=url&format=json",function(a,c,d,f,e){return function(g){g=g.query.pages;for(var h=0,j=z.fields(g);h<j.length;){var m=j[h];++h;m=z.field(g,m);null!=m&&null!=m.imageinfo?c[0].push({url:m.imageinfo[0].url,caption:a[0].caption,author:null}):(console.log("Error whilst processing "+t.string(m)+" for "+a[0].url),l.remove(d[0],a[0]))}c[0].length>=d[0].length&&b({title:e[0].title,
content:f[0],author:null,images:c[0]})}}(v,r,n,k,m))}else b({title:m[0].title,content:k[0],author:null,images:null})}})};g(d)}},{regex:new h("github\\.com/([^/]*)/([^/]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2);j.getJSON("https://api.github.com/repos/"+c+"/"+d+"/readme?client_id=39d85b9ac427f1176763&client_secret=5117570b83363ca0c71a196edc5b348af150c25d",function(a){if(null!=a.content){a=a.content;a=p.replace(a,"\n","");a=p.trim(a);a=e.Browser.window.atob(a);for(var g=C.images,
h=[],j=a;g.match(j);){var k=g.matched(2);k.indexOf(".")==k.lastIndexOf(".")&&(p.startsWith(k,"/")&&(k=l.substr(k,1,null)),k="https://github.com/"+c+"/"+d+"/raw/master/"+k);h.push({url:k,caption:g.matched(1),author:c});j=l.substr(j,g.matchedPos().pos+g.matchedPos().len,null)}b({name:d,developers:[c],description:C.parse(a),url:"git://github.com/"+c+"/"+d+".git",album:h})}})}},{regex:new h("sourceforge.net/projects/([a-zA-Z-]*)",""),method:function(a,b){j.getJSON("http://sourceforge.net/api/project/name/"+
a.matched(1)+"/json",function(a){a=a.Project;for(var d=a.developers,f=a.name,e=a.description,g=[],h=0;h<d.length;)++h,g.push(a.name);for(var j=z.field(a,"download-page"),d=0,h=z.fields(a);d<h.length;){var k=h[d];++d;p.endsWith(k,"Repository")&&(j=l.substr(k,0,k.length-10).toLowerCase(),k=z.field(a,k).location,j=p.replace(k,"http:",""+j+":"))}b({name:f,description:e,developers:g,url:j,album:[]})})}},{regex:new h("(digitaltrends\\.com|webupd8\\.org|doctorwho\\.tv)/.*",""),method:function(a,b){j.getText("http://www."+
a.matched(0),function(a){var d=new h("<title>(.*)</title>","");d.match(a)&&(a=l.substr(a,a.indexOf("<article"),null),a=l.substr(a,a.indexOf(">")+1,null),a=l.substr(a,0,a.indexOf("</article>")),a=y.filterHTML(a),b({title:d.matched(1),content:a,author:null,images:[]}))},null,null,null)}},{regex:new h("([^\\.]*)\\.tumblr\\.com/(post|image)/([0-9]*)(/.*)?",""),method:function(a,b){var c=a.matched(1),d=a.matched(3);j.getJSON("http://api.tumblr.com/v2/blog/"+c+".tumblr.com/posts/json?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE&id="+
d,function(a){var c=a.posts[0];switch(c.type){case "text":for(var d=[];y.HTML_IMG.match(c.body);)d.push({url:y.HTML_IMG.matched(1),caption:null,author:a.blog.name}),c.body=y.HTML_IMG.replace(c.body,"");c.body=y.filterHTML(c.body);a={title:c.title,content:c.body,author:a.blog.name,images:d};break;case "quote":a={title:null,content:t.string(c.text)+"<br/><b>"+t.string(c.source)+"</b>",author:a.blog.name,images:[]};break;case "photo":for(var c=c.photos,d=[],e=0;e<c.length;){var g=c[e];++e;d.push({url:g.original_size.url,
caption:g.caption,author:a.blog.name})}a=d;break;default:a=null}b(a)})}},{regex:new h(".*\\.tumblr\\.com",""),method:function(a,b){j.getJSON("http://api.tumblr.com/v2/blog/"+p.urlEncode(a.matched(0))+"/info?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE",function(a){b({urls:new g.ds.StringMap,name:a.blog.title,description:y.filterHTML(a.blog.description),album:[]})})}},{regex:new h("twitter.com/.*/status/([0-9]*)",""),method:function(a,b){j.getJSON("https://api.twitter.com/1/statuses/oembed.json?id="+
a.matched(1),function(a){b({title:null,author:a.author_name,content:y.filterHTML(a.html),images:[]})})}},{regex:new h("amazon\\.[a-z\\.]*/gp/product/([0-9A-Z]*)",""),method:function(a){a=a.matched(1);j.getXML("http://webservices.amazon.com/onca/xml?AWSAccessKeyId=AKIAJMR3XPXGBMZJE6IA&Service=AWSECommerceService&Operation=ItemLookup&ItemId="+a,function(a){console.log(a)})}},{regex:new h("plus\\.google\\.com/([0-9]*)/posts/([a-zA-Z]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2),e=new h("<b>([^>]*)</b><br />",
""),g=null,g=function(h){j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"/activities/public?fields=items(id%2Curl)%2CnextPageToken&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o"+(null==h?"":"&requestToken="+h),function(c){var h=c.items;a.matched(0);for(var k=0;k<h.length;){var l=h[k];++k;if(-1!=l.url.indexOf(d)){j.getJSON("https://www.googleapis.com/plus/v1/activities/"+t.string(l.id)+"?fields=actor%2FdisplayName%2Cannotation%2Cobject(actor%2Cattachments%2Ccontent%2Cid%2CobjectType%2CoriginalContent%2Curl)&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",
function(a){var c=a.object.objectType,d=a.actor.actorName,g=a.object.content;e.match(g);switch(c){case "note":a=e.matched(1);g=e.replace(g,"");g=y.filterHTML(g);b({title:a,author:d,content:g,images:[]});break;default:d=a.object.attachments;g=[];for(c=0;c<d.length;){var h=d[c];++c;g.push({url:h.image.url,caption:0==h.content.length?a.object.content:h.content,author:null})}b(g)}});return}}0!=c.items.length&&g(c.requestToken)})};g()}},{regex:new h("facebook.com/photo\\.php\\?v=([0-9]*)",""),method:function(a,
b){a.matched(1);b([{caption:null,url:"http://graph.facebook.com/${id}/picture?type=small&access_token=CAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrCAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrf",author:null}])}},{regex:new h("facebook\\.com/([a-zA-Z0-9]*)",""),method:function(a,b){var c=
a.matched(1);b({album:[{url:"https://graph.facebook.com/"+c+"/picture?type=large",caption:null,author:null}],urls:new g.ds.StringMap})}},{regex:new h("plus\\.google.com/u?/?[0-9]*/([0-9]*)(/about)?",""),method:function(a,b){var c=a.matched(1);j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"?key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",function(a){var c=a.urls,e=new g.ds.StringMap;if(null!=c)for(var h=0;h<c.length;){var j=c[h];++h;e.set(j.label,j.value)}null!=a.urls&&(null!=a.displayName&&
null!=a.aboutMe)&&b({urls:e,name:a.displayName,description:a.aboutMe,album:[{url:a.image.url,caption:null,author:a.displayName}]})})}},{regex:new h("reddit\\.com/r/([a-zA-Z0-9]*)",""),method:function(a,b){j.getJSON("http://www."+a.matched(0)+"/about.json",function(a){b(a)})}},{regex:new h("gamejolt.com/games/[^/]*/[^/]*/([0-9]*)",""),method:function(a){a=a.matched(1);j.getJSON("http://gamejolt.com/service/games/"+a+"?format=json",function(a){console.log(a)})}},{regex:new h("(0rz\\.tw|1link\\.in|1url\\.com|2\\.gp|2big\\.at|2tu\\.us|3\\.ly|307\\.to|4ms\\.me|4sq\\.com|4url\\.cc|6url\\.com|7\\.ly|a\\.gg|a\\.nf|aa\\.cx|abcurl\\.net|ad\\.vu|adf\\.ly|adjix\\.com|afx\\.cc|all\\.fuseurl\\.com|alturl\\.com|amzn\\.to|ar\\.gy|arst\\.ch|atu\\.ca|azc\\.cc|b23\\.ru|b2l\\.me|bacn\\.me|bcool\\.bz|binged\\.it|bit\\.ly|bizj\\.us|bloat\\.me|bravo\\.ly|bsa\\.ly|budurl\\.com|canurl\\.com|chilp\\.it|chzb\\.gr|cl\\.lk|cl\\.ly|clck\\.ru|cli\\.gs|cliccami\\.info|clickthru\\.ca|clop\\.in|conta\\.cc|cort\\.as|cot\\.ag|crks\\.me|ctvr\\.us|cutt\\.us|dai\\.ly|decenturl\\.com|dfl8\\.me|digbig\\.com|digg\\.com|disq\\.us|dld\\.bz|dlvr\\.it|do\\.my|doiop\\.com|dopen\\.us|easyuri\\.com|easyurl\\.net|eepurl\\.com|eweri\\.com|fa\\.by|fav\\.me|fb\\.me|fbshare\\.me|ff\\.im|fff\\.to|fire\\.to|firsturl\\.de|firsturl\\.net|flic\\.kr|flq\\.us|fly2\\.ws|fon\\.gs|freak\\.to|fuseurl\\.com|fuzzy\\.to|fwd4\\.me|fwib\\.net|g\\.ro\\.lt|gizmo\\.do|gl\\.am|go\\.9nl\\.com|go\\.ign\\.com|go\\.usa\\.gov|goo\\.gl|goshrink\\.com|gurl\\.es|hex\\.io|hiderefer\\.com|hmm\\.ph|href\\.in|hsblinks\\.com|htxt\\.it|huff\\.to|hulu\\.com|hurl\\.me|hurl\\.ws|icanhaz\\.com|idek\\.net|ilix\\.in|is\\.gd|its\\.my|ix\\.lt|j\\.mp|jijr\\.com|kl\\.am|klck\\.me|korta\\.nu|krunchd\\.com|l9k\\.net|lat\\.ms|liip\\.to|liltext\\.com|linkbee\\.com|linkbun\\.ch|liurl\\.cn|ln-s\\.net|ln-s\\.ru|lnk\\.gd|lnk\\.ms|lnkd\\.in|lnkurl\\.com|lru\\.jp|lt\\.tl|lurl\\.no|macte\\.ch|mash\\.to|merky\\.de|migre\\.me|miniurl\\.com|minurl\\.fr|mke\\.me|moby\\.to|moourl\\.com|mrte\\.ch|myloc\\.me|myurl\\.in|n\\.pr|nbc\\.co|nblo\\.gs|nn\\.nf|not\\.my|notlong\\.com|nsfw\\.in|nutshellurl\\.com|nxy\\.in|nyti\\.ms|o-x\\.fr|oc1\\.us|om\\.ly|omf\\.gd|omoikane\\.net|on\\.cnn\\.com|on\\.mktw\\.net|onforb\\.es|orz\\.se|ow\\.ly|ping\\.fm|pli\\.gs|pnt\\.me|politi\\.co|post\\.ly|pp\\.gg|profile\\.to|ptiturl\\.com|pub\\.vitrue\\.com|qlnk\\.net|qte\\.me|qu\\.tc|qy\\.fi|r\\.im|rb6\\.me|read\\.bi|readthis\\.ca|reallytinyurl\\.com|redir\\.ec|redirects\\.ca|redirx\\.com|retwt\\.me|ri\\.ms|rickroll\\.it|riz\\.gd|rt\\.nu|ru\\.ly|rubyurl\\.com|rurl\\.org|rww\\.tw|s4c\\.in|s7y\\.us|safe\\.mn|sameurl\\.com|sdut\\.us|shar\\.es|shink\\.de|shorl\\.com|short\\.ie|short\\.to|shortlinks\\.co\\.uk|shorturl\\.com|shout\\.to|show\\.my|shrinkify\\.com|shrinkr\\.com|shrt\\.fr|shrt\\.st|shrten\\.com|shrunkin\\.com|simurl\\.com|slate\\.me|smallr\\.com|smsh\\.me|smurl\\.name|sn\\.im|snipr\\.com|snipurl\\.com|snurl\\.com|sp2\\.ro|spedr\\.com|srnk\\.net|srs\\.li|starturl\\.com|su\\.pr|surl\\.co\\.uk|surl\\.hu|t\\.cn|t\\.co|t\\.lh\\.com|ta\\.gd|tbd\\.ly|tcrn\\.ch|tgr\\.me|tgr\\.ph|tighturl\\.com|tiniuri\\.com|tiny\\.cc|tiny\\.ly|tiny\\.pl|tinylink\\.in|tinyuri\\.ca|tinyurl\\.com|tk\\.|tl\\.gd|tmi\\.me|tnij\\.org|tnw\\.to|tny\\.com|to\\.|to\\.ly|togoto\\.us|totc\\.us|toysr\\.us|tpm\\.ly|tr\\.im|tra\\.kz|trunc\\.it|twhub\\.com|twirl\\.at|twitclicks\\.com|twitterurl\\.net|twitterurl\\.org|twiturl\\.de|twurl\\.cc|twurl\\.nl|u\\.mavrev\\.com|u\\.nu|u76\\.org|ub0\\.cc|ulu\\.lu|updating\\.me|ur1\\.ca|url\\.az|url\\.co\\.uk|url\\.ie|url360\\.me|url4\\.eu|urlborg\\.com|urlbrief\\.com|urlcover\\.com|urlcut\\.com|urlenco\\.de|urli\\.nl|urls\\.im|urlshorteningservicefortwitter\\.com|urlx\\.ie|urlzen\\.com|usat\\.ly|use\\.my|vb\\.ly|vgn\\.am|vl\\.am|vm\\.lc|w55\\.de|wapo\\.st|wapurl\\.co\\.uk|wipi\\.es|wp\\.me|x\\.vu|xr\\.com|xrl\\.in|xrl\\.us|xurl\\.es|xurl\\.jp|y\\.ahoo\\.it|yatuc\\.com|ye\\.pe|yep\\.it|yfrog\\.com|yhoo\\.it|yiyd\\.com|youtu\\.be|yuarel\\.com|z0p\\.de|zi\\.ma|zi\\.mu|zipmyurl\\.com|zud\\.me|zurl\\.ws|zz\\.gd|zzang\\.kr|r\\.ebay\\.com)/.*",
""),method:function(a,b){var c=p.urlEncode("http://"+a.matched(0));j.getJSON("http://api.longurl.org/v2/expand?url="+c+"&format=json&User-Agent=Reditn",function(a){a=z.field(a,"long-url");a=y.resolve(a);null!=a&&a.method(a.regex,b)})}}];y.HTML_FILTERS=[y.HTML_IMG,new h("<meta[^>]*/>","g"),new h("<(h1|header)[^>]*>.*</\\1>","g"),new h("<table([^>]*)>(.|\n|\n\r)*</table>","gm"),new h('<div class="(seperator|ga-ads)"[^>]*>(.|\n|\n\r)*</div>',"g"),new h("<([^>]*)( [^>]*)?></\\1>","g"),new h("<script[^>/]*/>",
"g"),new h("<script[^>/]*>\x3c/script>","g"),new h('style ?= ?"[^"]*"',"g")];y.HTML_CLEANERS=[{from:new h('<blockquote class="twitter-tweet">(.*)</blockquote>',"g"),to:"$1"},{from:new h("(!|\\.|,|\\?)(^ \n\t\r)","g"),to:"$1 $2"},{from:new h("(!|\\.|,|\\?)( *)","g"),to:"$1 "},{from:new h("(<br></br>|<br/>|<br />)(<br></br>|<br/>|<br />)","g"),to:"<br/>"}];x=new g.ds.StringMap;x.set("adblock","Block advertisements and sponsors");x.set("userinfo","Show information about a user upon hover");x.set("subinfo",
"Show information about a subreddit upon hover");x.set("expand","Allow expansion of images, articles, etc");x.set("text-expand","Allow expansion of images, articles etc found in comments and posts for easy viewing");x.set("dup-hider","Hide duplicate links");x.set("user-tag","Tag users");x.set("sub-tag","Tag subreddits");x.set("preview","Preview comments and posts");x.set("keys","Keyboard shortcuts");x.set("nsfw-filter","Hide NSFW content");k.DESC=x;x=new g.ds.StringMap;x.set("adblock",!0);x.set("userinfo",
!0);x.set("subinfo",!0);x.set("expand",!0);x.set("dup-hider",!0);x.set("text-expand",!0);x.set("user-tag",!0);x.set("sub-tag",!0);x.set("preview",!0);x.set("keys",!0);x.set("nsfw-filter",!1);x.set("user-tags",new g.ds.StringMap);x.set("sub-tags",new g.ds.StringMap);k.DEFAULTS=x;k.data=new g.ds.StringMap;g.Serializer.USE_CACHE=!1;g.Serializer.USE_ENUM_INDEX=!1;g.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.Unserializer.DEFAULT_RESOLVER=B;g.Unserializer.BASE64=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.ds.ObjectMap.count=0;j.main()})();
(function(){var r={},G=function(){return e.Boot.__string_rec(this,"")},I=function(){};r.Adblock=I;I.__name__=["Adblock"];I.init=function(){I.hideAll(e.Browser.document.body.getElementsByClassName("promoted"));I.hideAll(e.Browser.document.body.getElementsByClassName("infobar"));I.hideAll(e.Browser.document.body.getElementsByClassName("goldvertisement"));var a=e.Browser.document.getElementById("spotlight-help");null!=a&&j.show(a.parentNode.parentNode,!1);a=e.Browser.document.getElementById("ad-frame");
null!=a&&j.show(a,!1)};I.hideAll=function(a){for(var b=0,c=a.length;b<c;){var d=b++;j.show(a[d],!1)}};var P=function(){};r.DuplicateHider=P;P.__name__=["DuplicateHider"];P.init=function(){for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&(Q.has(a,d.href)?j.show(d.parentElement.parentElement.parentElement,!1):a.push(d.href))}};var h=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};r.EReg=h;h.__name__=["EReg"];h.prototype={replace:function(a,b){return a.replace(this.r,
b)},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:l.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;a=b}else{if(c=this.match(0>c?l.substr(a,b,null):l.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;a=c}return a},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,
this.r.s.length-a)},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return this.r.s.substr(0,this.r.m.index)},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:h};var v=function(){};r.Expand=v;v.__name__=["Expand"];v.init=function(){v.toggled="#showall"==e.Browser.window.location.hash;var a=e.Browser.document.getElementsByClassName("tabmenu")[0],
b=e.Browser.document.createElement("li");v.button=e.Browser.document.createElement("a");v.button.href="javascript:void(0);";v.refresh();v.button.onclick=function(){v.toggle(!v.toggled);e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,v.toggled?"#showall":"#")};b.appendChild(v.button);null!=a&&a.appendChild(b);a=0;for(b=j.links;a<b.length;){var c=b[a];++a;if("a"==c.nodeName.toLowerCase()){var d=c.parentElement.parentElement.parentElement.getElementsByClassName("entry")[0],c=y.createButton(c.href,
d);if(null==c)v.defaultButton(d);else{for(var f=0,q=d.getElementsByClassName("expando");f<q.length;){var X=q[f];++f;X.parentNode.removeChild(X)}d.appendChild(c);d.insertBefore(c,d.getElementsByClassName("tagline")[0])}}}};v.defaultButton=function(a){var b=!1,c=0;for(a=a.getElementsByClassName("expando-button");c<a.length;){var d=a[c];++c;b?d.parentNode.removeChild(d):(null!=d&&(b=v.adaptButton(d),b.toggle(v.toggled,!1),v.buttons.push(b)),b=!0)}};v.adaptButton=function(a){var b=e.Boot.__cast(a.parentElement.getElementsByTagName("a")[0],
HTMLAnchorElement).href;a.style.width=a.style.height="23px";return{toggled:function(){return-1!=a.className.indexOf("expanded")},toggle:function(b,d){var f=-1!=a.className.indexOf("expanded");if(b!=f)a.onclick(null);v.queue++;g.Timer.delay(function(){0<a.parentElement.getElementsByClassName("error").length?(a.onclick(null),a.onclick(null)):v.queue--},1E3*v.queue);d&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:b,element:a}};v.refresh=function(){if(null!=v.button){v.button.innerHTML=
""+(v.toggled?"hide":"show")+" all";for(var a=e.Browser.document.body.getElementsByClassName("nextprev"),b=0;b<a.length;){var c=a[b];++b;var d;d=void 0;d=[];for(var f=0,c=c.getElementsByTagName("a");f<c.length;){var q=c[f];++f;d.push(q)}for(f=0;f<d.length;)c=d[f],++f,"a"==c.nodeName.toLowerCase()&&(v.toggled&&-1==c.href.indexOf("#")?c.href+="#showall":!v.toggled&&-1!=c.href.indexOf("#")&&(c.href=l.substr(c.href,0,c.href.indexOf("#"))))}}};v.toggle=function(a){v.toggled=a;for(var b=0,c=v.buttons;b<
c.length;){var d=c[b];++b;d.toggle(a,!1)}v.refresh()};v.loadImage=function(a){var b=e.Browser.document.createElement("img");b.src=a;b.className="resize";v.initResize(b);var c=new g.Timer(30);c.run=function(){if(0<b.width&&0<b.height){c.stop();if(b.width>(0.7*e.Browser.window.innerWidth|0)){var a=b.height/b.width;b.width=0.7*e.Browser.window.innerWidth|0;b.height=b.width*a|0}b.height>(0.6*e.Browser.window.innerHeight|0)&&(a=b.width/b.height,b.height=0.6*e.Browser.window.innerHeight|0,b.width=b.height*
a|0)}};return b};v.initResize=function(a){var b=0,c=0,d=0,f=!1;a.addEventListener("mousedown",function(q){if(!q.altKey&&!q.ctrlKey&&!q.metaKey){f=!0;var e=a.getBoundingClientRect(),m=q.clientY-e.top;b=a.offsetWidth/(q.clientX-e.left);c=a.offsetHeight/m;d=a.offsetWidth/a.offsetHeight;q.preventDefault()}});a.addEventListener("mousemove",function(q){if(f){var e=a.getBoundingClientRect(),m=(q.clientX-e.left)*b,g=m/d,e=(q.clientY-e.top)*c,j=e*d;a.width=(g>e||m>j?m:j)|0;a.height=(g>e||m>j?g:e)|0;q.preventDefault()}});
a.addEventListener("dblclick",function(){a.width=a.naturalWidth;a.height=a.naturalHeight});a.addEventListener("mouseup",function(a){f=!1;a.preventDefault()});a.addEventListener("mouseout",function(a){f=!1;a.preventDefault()})};var l=function(){};r.HxOverrides=l;l.__name__=["HxOverrides"];l.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),f=a.getMinutes(),q=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>f?"0"+f:""+
f)+":"+(10>q?"0"+q:""+q)};l.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};l.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};l.substr=function(a,b,c){if(null!=b&&
0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};l.remove=function(a,b){for(var c=0,d=a.length;c<d;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};l.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var u=function(){};r.Keyboard=u;u.__name__=["Keyboard"];u.init=function(){e.Browser.document.onkeydown=function(a){u.keyDown(a.keyCode)}};u.unhighlight=
function(){if(null!=(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:null))(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:null).style.border=""};u.highlight=function(a){u.unhighlight();null!=u.current&&u.current+a<j.links.length&&(u.current+=a);if(null==u.current||null==(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:null))u.current=0;(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:
null).style.border="3px solid grey";(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:null).scrollIntoViewIfNeeded(!0)};u.show=function(a){null==a&&(a=!0);for(var b=(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:null).getElementsByClassName("expando-button")[0],c=0,d=v.buttons;c<d.length;){var f=d[c];++c;if(f.element==b){f.toggle(a,!0);(null!=j.links[u.current]?j.links[u.current].parentElement.parentElement.parentElement:
null).scrollIntoViewIfNeeded(!0);break}}};u.keyDown=function(a){for(u.keys.push(a);u.keys.length>u.konami.length;)l.remove(u.keys,u.keys[0]);for(var b=u.keys.length>=u.konami.length,c=0,d=u.keys.length;c<d;){var f=c++;if(u.keys[f]!=u.konami[f]){b=!1;break}}b&&D.run();switch(a){case 39:u.show(!0);break;case 37:u.show(!1);break;case 38:u.highlight(-1);break;case 40:u.highlight(1)}};var D=function(){};r.Konami=D;D.__name__=["Konami"];D.translate=function(a){for(var b=0;D.filter.matchSub(a,b);)b=D.filter.matchedPos(),
a=D.words[t.random(D.words.length)],console.log(a),b=b.pos+a.length,a=D.filter.matchedLeft()+a+D.filter.matchedRight();return a};D.run=function(){e.Browser.document.title="Dubbit - the back page of the wubbanet";for(var a=0,b=j.links;a<b.length;){var c=b[a];++a;c.innerHTML=D.translate(c.innerHTML)}a=0;for(b=e.Browser.document.body.getElementsByClassName("author");a<b.length;)c=b[a],++a,c.innerHTML="dubstep";a=0;for(b=e.Browser.document.body.getElementsByClassName("subreddit");a<b.length;)c=b[a],++a,
c.innerHTML="people with brains";a=0;for(b=e.Browser.document.body.getElementsByClassName("score");a<b.length;)c=b[a],++a,c.innerHTML="-&infin;";a=0;for(b=e.Browser.document.body.getElementsByTagName("p");a<b.length;)c=b[a],++a,"parent"!=c.className&&(c.innerHTML=D.translate(c.innerHTML))};var Q=function(){};r.Lambda=Q;Q.__name__=["Lambda"];Q.has=function(a,b){var c;if(a instanceof Array)c=function(){return l.iter(a)};else if("function"==typeof a.iterator){c=a.iterator;var d=function(){return d.method.apply(d.scope,
arguments)};d.scope=a;d.method=c;c=d}else c=a.iterator;for(c=c();c.hasNext();)if(c.next()==b)return!0;return!1};var j=function(){};r.Reditn=j;for(var x="undefined"!=typeof window?window:exports,E=["Reditn"],V=0;V<E.length-1;++V){var W=E[V];"undefined"==typeof x[W]&&(x[W]={});x=x[W]}x[E[E.length-1]]=j;j.__name__=["Reditn"];j.main=function(){switch(e.Browser.document.readyState){case "complete":j.init();break;default:e.Browser.window.onload=function(){j.init()}}};j.init=function(){if(-1!=e.Browser.window.location.href.indexOf("reddit.")){j.fullPage=
0<e.Browser.document.getElementsByClassName("tabmenu").length;j.links=e.Browser.document.body.getElementsByClassName("title");for(var a=[],b=0,c=j.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&"parent"!=d.parentElement.className&&a.push(d)}j.links=a;j.wrap(k.init);j.wrap(I.init,"adblock");j.wrap(P.init,"dup-hider");j.wrap(R.init,"nsfw-filter");S.init();j.wrap(v.init,"expand");j.wrap(T.init,"text-expand");j.wrap(u.init,"keys");j.wrap(J.init,"preview");j.wrap(K.init,"subinfo");j.wrap(L.init,
"userinfo");j.wrap(M.init,"user-tag");j.wrap(N.init,"sub-tag");e.Browser.window.history.replaceState(g.Serializer.run(j.state()),null,v.toggled?"#showall":null);e.Browser.window.onpopstate=function(a){a=a.state;if(null!=a){a=g.Unserializer.run(a);a.allExpanded!=v.toggled&&v.toggle(a.allExpanded);for(var b=0,c=v.buttons;b<c.length;){var d=c[b];++b;var e=a.expanded;e.exists(d.url)&&d.toggle(e.get(d.url),!1)}}}}};j.state=function(){for(var a=new g.ds.StringMap,b=0,c=v.buttons;b<c.length;){var d=c[b];
++b;d.toggled()!=v.toggled&&a.set(d.url,d.toggled())}return{allExpanded:v.toggled,expanded:a}};j.wrap=function(a,b){var c=null==b?null:k.data.get(b);(null==b||c)&&a()};j.formatNumber=function(a){if(Math.isFinite(a)){var b=t.string(Math.abs(a)),c;-1!=b.indexOf(".")?(c=l.substr(b,b.indexOf("."),null),b=l.substr(b,0,b.indexOf("."))):c="";if(3<=b.length){for(var d="",f=0,q=b.length;f<q;){var e=f++,d=d+b.charAt(e);0==(b.length-(e+1))%3&&e<b.length-1&&(d+=",")}b=d}a=(0>a?"-"+b:b)+c}else a=t.string(a);return a};
j.formatPrice=function(a){var b=j.formatNumber(a|0);a=t.string(a);for(a=-1==a.indexOf(".")?".":l.substr(a,a.indexOf("."),null);3>a.length;)a+="0";return""+b+a};j.show=function(a,b){a.style.display=b?"":"none";if(-1!=a.className.indexOf("link")&&!b){var c=a.getElementsByClassName("entry")[0];l.remove(j.links,c.getElementsByTagName("a")[0])}};j.age=function(a){if(86400>a)return"less than a day";a=g.Timer.stamp()-a;var b=a/86400%30.4375|0,c=a/2629800%12|0;a=a/2629800/12|0;var d="";0<a&&(d+=""+a+" year"+
(1>=a?"":"s"));0<c&&(d+=", "+c+" month"+(1>=c?"":"s"));d+=", "+b+" day"+(1>=b?"":"s");for(p.startsWith(d,", ")&&(d=l.substr(d,2,null));-1!=d.indexOf(", , ");)d=p.replace(d,", , ",", ");return d};j.embedAlbum=function(a){var b=e.Browser.document.createElement("span");b.style.textAlign="center";for(var c=[],d=0;d<a.length;){var f=a[d];++d;c.push(function(){var a=v.loadImage(f.url);a.title=(null!=f.caption?f.caption+" ":"")+(null!=f.author?"by "+f.author:"");b.appendChild(a);j.show(a,!1);return a}(this))}var q=
null,g=e.Browser.document.createElement("span");g.style.fontWeight="bold";g.style.marginLeft="10px";var m=0,h=null,F=null,l=null;1<a.length&&(h=e.Browser.document.createElement("button"),h.innerHTML="Prev",b.appendChild(h),F=e.Browser.document.createElement("span"),F.style.textAlign="center",F.style.paddingLeft=F.style.paddingRight="5px",b.appendChild(F),l=e.Browser.document.createElement("button"),l.innerHTML="Next",b.appendChild(l));if(1<a.length||null!=a[0].caption&&0<a[0].caption.length)b.appendChild(g),
b.appendChild(e.Browser.document.createElement("br"));var k=function(d){if(!(0>d||d>=a.length)){var f=a[d],e=null;null!=q&&(j.show(q,!1),e=t.parseInt(q.style.height));q=c[d];q.style.display="block";if(null!=e){var m=q.width/q.height;q.style.height=e+"px";q.style.width=(e*m|0)+"px"}b.appendChild(q);null!=h&&(e=j.formatNumber(a.length),m=j.formatNumber(d+1),F.innerHTML=""+m+" of "+e,h.disabled=0>=d,l.disabled=d>=a.length-1);j.show(g,null!=f.caption);null!=f.caption&&(g.innerHTML=p.htmlEscape(f.caption),
null!=f.author&&(g.innerHTML+=" <em>by "+f.author+"</em>"))}};k(0);null!=h&&(h.onmousedown=function(){k(--m)},l.onmousedown=function(){k(++m)});return b};j.getData=function(a){for(;null!=a.data;)a=a.data;for(;null!=a.response;)a=a.response;return a};j.getText=function(a,b,c,d,f){a=new g.Http(a);null!=c&&a.setHeader("Authorization",c);null!=d&&a.setHeader("Content-Type",d);a.onData=b;null!=f&&a.setPostData(f);a.request(null!=f)};j.embedMap=function(a){for(var b=e.Browser.document.createElement("dl"),
c=a.keys();c.hasNext();){var d=c.next();if(null!=a.get(d)&&0<a.get(d).length){var f=e.Browser.document.createElement("dt");f.innerHTML=d;b.appendChild(f);f=e.Browser.document.createElement("dd");f.innerHTML=a.get(d);b.appendChild(f)}}b.className="md reditn-table";return b};j.getJSON=function(a,b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){p.startsWith(a,"jsonFlickrApi(")&&p.endsWith(a,")")&&(a=a.substring(14,a.length-1));b(j.getData(g.Json.parse(a)))},c,d,f)};j.getXML=function(a,
b,c,d,f){null==d&&(d="application/json");j.getText(a,function(a){b(j.getData(n.parse(a)))},c,d,f)};j.popUp=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);e.Browser.document.body.appendChild(b);b.className="popup";b.style.position="absolute";b.style.width=(0.25*e.Browser.window.innerWidth|0)+"px";b.style.left=""+c+"px";b.style.top=""+(d-30)+"px";a.onmouseout=b.onblur=function(){b.parentElement.removeChild(b);a.mouseover=!1};return b};j.fullPopUp=function(a,b){null==b&&(b=0);var c=e.Browser.document.getElementsByClassName("popup")[0];
null!=c&&c.parentElement.removeChild(c);e.Browser.document.body.appendChild(a);c=e.Browser.document.createElement("a");c.style.position="absolute";c.style.right=c.style.top="5px";c.innerHTML="<b>Close</b>";c.href="javascript:void(0);";c.onclick=a.onblur=function(){a.parentElement.removeChild(a)};a.appendChild(c);a.className="popup";0!=b&&(a.style.top=""+(b-e.Browser.window.scrollY)+"px");return a};var p=function(){};r.StringTools=p;p.__name__=["StringTools"];p.urlEncode=function(a){return encodeURIComponent(a)};
p.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};p.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};p.startsWith=function(a,b){return a.length>=b.length&&l.substr(a,0,b.length)==b};p.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&l.substr(a,d-c,c)==b};p.isSpace=function(a,b){var c=l.cca(a,b);return 8<c&&14>c||32==c};p.ltrim=function(a){for(var b=
a.length,c=0;c<b&&p.isSpace(a,c);)c++;return 0<c?l.substr(a,c,b-c):a};p.rtrim=function(a){for(var b=a.length,c=0;c<b&&p.isSpace(a,b-c-1);)c++;return 0<c?l.substr(a,0,b-c):a};p.trim=function(a){return p.ltrim(p.rtrim(a))};p.replace=function(a,b,c){return a.split(b).join(c)};var g={Json:function(){}};r["haxe.Json"]=g.Json;g.Json.__name__=["haxe","Json"];g.Json.parse=function(a){return(new g.Json).doParse(a)};g.Json.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,d=!c,f=48==a,e=!1,g=
!1,m=!1,j=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:f&&!e&&this.invalidNumber(b);c&&(c=!1,f=!0);d=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f&&!e&&this.invalidNumber(b);c&&(c=!1);d=!0;f=!1;break;case 46:(c||e)&&this.invalidNumber(b);d=!1;e=!0;break;case 101:case 69:(c||f||g)&&this.invalidNumber(b);d=!1;g=!0;break;case 43:case 45:(!g||m)&&this.invalidNumber(b);d=!1;m=!0;break;default:d||this.invalidNumber(b),this.pos--,j=!0}if(j)break}a=t.parseFloat(l.substr(this.str,
b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+l.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new H;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\b";break;case 102:b.b+="\f";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);
break;case 117:a=t.parseInt("0x"+l.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;
case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),
a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=
this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:g.Json};g.Http=function(a){this.url=a;this.headers=new g.ds.StringMap;
this.params=new g.ds.StringMap;this.async=!0};r["haxe.Http"]=g.Http;g.Http.__name__=["haxe","Http"];g.Http.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=this;b.responseData=null;var c=e.Browser.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(b.responseData=c.responseText);else if(null==a)b.onError("Failed to connect or resolve host");
else switch(a){case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var f=this.postData;if(null!=f)a=!0;else for(var q=this.params.keys();q.hasNext();)var g=q.next(),f=null==f?"":f+"&",f=f+(p.urlEncode(g)+"="+p.urlEncode(this.params.get(g)));try{if(a)c.open("POST",this.url,this.async);else if(null!=f){var m=1>=this.url.split("?").length;c.open("GET",
this.url+(m?"?":"&")+f,this.async);f=null}else c.open("GET",this.url,this.async)}catch(j){this.onError(j.toString());return}null==this.headers.get("Content-Type")&&(a&&null==this.postData)&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)q=a.next(),c.setRequestHeader(q,this.headers.get(q));c.send(f);this.async||d(null)},setPostData:function(a){this.postData=a;return this},setHeader:function(a,b){this.headers.set(a,b);return this},__class__:g.Http};
x=function(){};r.IMap=x;x.__name__=["IMap"];g.ds={};g.ds.StringMap=function(){this.h={}};r["haxe.ds.StringMap"]=g.ds.StringMap;g.ds.StringMap.__name__=["haxe","ds","StringMap"];g.ds.StringMap.__interfaces__=[x];g.ds.StringMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return l.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:g.ds.StringMap};var t=
function(){};r.Std=t;t.__name__=["Std"];t.string=function(a){return e.Boot.__string_rec(a,"")};t.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==l.cca(a,1)||88==l.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};t.parseFloat=function(a){return parseFloat(a)};t.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var e={Boot:function(){}};r["js.Boot"]=e.Boot;e.Boot.__name__=["js","Boot"];e.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;
if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,f=a.length;d<f;)var q=d++,c=2!=q?c+(","+e.Boot.__string_rec(a[q],b)):c+e.Boot.__string_rec(a[q],b);return c+")"}d=a.length;c="[";b+="\t";for(f=0;f<d;)q=f++,c+=(0<q?",":"")+e.Boot.__string_rec(a[q],b);return c+"]"}try{f=a.toString}catch(g){return"???"}if(null!=f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;
f=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(f in a)if(!d||a.hasOwnProperty(f))"prototype"==f||("__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f)||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+e.Boot.__string_rec(a[f],b));b=b.substring(1);return c+="\n"+b+"}";case "function":return"<function>";case "string":return a;default:return String(a)}};e.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var q=
d++,q=c[q];if(q==b||e.Boot.__interfLoop(q,b))return!0}return e.Boot.__interfLoop(a.__super__,b)};e.Boot.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(e.Boot.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case Y:return Math.ceil(a%2147483648)===a;case Z:return"number"==typeof a;case U:return!0===a||!1===a;case String:return"string"==typeof a;case $:return!0;default:if(null==a)return!1;if(b==aa&&null!=a.__name__)return!0;null;if(b==
ba&&null!=a.__ename__)return!0;null;return a.__enum__==b}};e.Boot.__cast=function(a,b){if(e.Boot.__instanceof(a,b))return a;throw"Cannot cast "+t.string(a)+" to "+t.string(b);};var z=function(){};r.Reflect=z;z.__name__=["Reflect"];z.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};z.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};z.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&c.call(a,d)&&b.push(d)}return b};
z.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};z.deleteField=function(a,b){if(!z.hasField(a,b))return!1;delete a[b];return!0};var A,C;A=function(){};r["parser.MediaWiki"]=A;A.__name__=["parser","MediaWiki"];A.parse=function(a,b){for(var c=0,d=A.regex;c<d.length;){var f=d[c];++c;for(var e=0;f.from.match(a)&&64>e++;)a=f.from.replace(a,f.to),f.from.matchedPos()}a=p.replace(a,"$BASE",b);p.startsWith(a,"<br>")&&(a=l.substr(a,4,null));a.split("{{").length<a.split("}}").length&&
(a=l.substr(a,a.indexOf("}}")+2,null));return a};A.trimTo=function(a,b){b=p.trim(p.replace(b,"_"," "));for(var c={pos:0,len:0},d=null;A.sections.matchSub(a,c.pos+c.len);)if(c=A.sections.matchedPos(),p.trim(A.sections.matched(2))==p.trim(b)){d=A.sections.matched(1).length;break}null!=d&&(a=l.substr(a,c.pos+c.len,null),a=l.substr(a,0,a.indexOf("<h"+d+">")));return a};A.getAlbum=function(a){for(var b=[];A.IMAGES.match(a);){var c=A.IMAGES.matchedPos();a=l.substr(a,c.pos+c.len,null);c=A.IMAGES.matched(2)+
"."+A.IMAGES.matched(3);p.startsWith(c,"File:")&&(c=l.substr(c,5,null));b.push({url:c,caption:null,author:null})}return b};e.Browser=function(){};r["js.Browser"]=e.Browser;e.Browser.__name__=["js","Browser"];e.Browser.getLocalStorage=function(){try{var a=e.Browser.window.localStorage;a.getItem("");return a}catch(b){return null}};e.Browser.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");
throw"Unable to create XMLHttpRequest object.";};C=function(){};r["parser.Markdown"]=C;C.__name__=["parser","Markdown"];C.parse=function(a){for(;C.header.match(a);)C.header.matchedPos(),a=1+C.header.matched(1).length,6<a&&(a=6),a=C.header.matchedLeft()+("<h"+a+">"+C.header.matched(2)+"</h"+a+">")+C.header.matchedRight();for(var b=0,c=C.regex;b<c.length;){var d=c[b];for(++b;d.from.match(a);)a=d.from.replace(a,d.to)}return a};var n=function(){};r.Xml=n;n.__name__=["Xml"];n.parse=function(a){return g.xml.Parser.parse(a)};
n.createElement=function(a){var b=new n;b.nodeType=n.Element;b._children=[];b._attributes=new g.ds.StringMap;b.set_nodeName(a);return b};n.createPCData=function(a){var b=new n;b.nodeType=n.PCData;b.set_nodeValue(a);return b};n.createCData=function(a){var b=new n;b.nodeType=n.CData;b.set_nodeValue(a);return b};n.createComment=function(a){var b=new n;b.nodeType=n.Comment;b.set_nodeValue(a);return b};n.createDocType=function(a){var b=new n;b.nodeType=n.DocType;b.set_nodeValue(a);return b};n.createProcessingInstruction=
function(a){var b=new n;b.nodeType=n.ProcessingInstruction;b.set_nodeValue(a);return b};n.createDocument=function(){var a=new n;a.nodeType=n.Document;a._children=[];return a};n.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&l.remove(a._parent._children,a);a._parent=this;this._children.push(a)},exists:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=n.Element)throw"bad nodeType";
this._attributes.set(a,b)},set_nodeValue:function(a){if(this.nodeType==n.Element||this.nodeType==n.Document)throw"bad nodeType";return this._nodeValue=a},set_nodeName:function(a){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=n.Element)throw"bad nodeType";return this._nodeName},__class__:n};g.xml={};g.xml.Parser=function(){};r["haxe.xml.Parser"]=g.xml.Parser;g.xml.Parser.__name__=["haxe","xml","Parser"];g.xml.Parser.parse=function(a){var b=
n.createDocument();g.xml.Parser.doParse(a,0,b);return b};g.xml.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,f=1,e=1,j=null,m=0,h=0,F=0,s=a.charCodeAt(b),p=new H;s==s;){switch(f){case 0:switch(s){case 10:case 13:case 9:case 32:break;default:f=e;continue}break;case 1:switch(s){case 60:f=0;e=2;break;default:m=b;f=13;continue}break;case 13:60==s?(f=n.createPCData(p.b+l.substr(a,m,b-m)),p=new H,c.addChild(f),h++,f=0,e=2):38==s&&(p.addSub(a,m,b-m),f=18,e=13,m=b+1);break;case 17:93==s&&(93==
a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(f=n.createCData(l.substr(a,m,b-m)),c.addChild(f),h++,b+=2,f=1);break;case 2:switch(s){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=l.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;f=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=l.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;f=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;f=15}m=b+1;break;case 63:f=14;m=b;break;
case 47:if(null==c)throw"Expected node name";m=b+1;f=0;e=10;break;default:f=3;m=b;continue}break;case 3:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(b==m)throw"Expected node name";d=n.createElement(l.substr(a,m,b-m));c.addChild(d);f=0;e=4;continue}break;case 4:switch(s){case 47:f=11;h++;break;case 62:f=9;h++;break;default:f=5;m=b;continue}break;case 5:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected attribute name";
j=l.substr(a,m,b-m);if(d.exists(j))throw"Duplicate attribute";f=0;e=6;continue}break;case 6:switch(s){case 61:f=0;e=7;break;default:throw"Expected =";}break;case 7:switch(s){case 34:case 39:f=8;m=b;break;default:throw'Expected "';}break;case 8:s==a.charCodeAt(m)&&(e=l.substr(a,m+1,b-m-1),d.set(j,e),f=0,e=4);break;case 9:m=b=g.xml.Parser.doParse(a,b,d);f=1;break;case 11:switch(s){case 62:f=1;break;default:throw"Expected >";}break;case 12:switch(s){case 62:return 0==h&&c.addChild(n.createPCData("")),
b;default:throw"Expected >";}case 10:if(!(97<=s&&122>=s||65<=s&&90>=s||48<=s&&57>=s||58==s||46==s||95==s||45==s)){if(m==b)throw"Expected node name";if(l.substr(a,m,b-m)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";f=0;e=12;continue}break;case 15:45==s&&(45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(c.addChild(n.createComment(l.substr(a,m,b-m))),b+=2,f=1);break;case 16:91==s?F++:93==s?F--:62==s&&0==F&&(c.addChild(n.createDocType(l.substr(a,m,b-m))),f=1);break;case 14:63==s&&62==a.charCodeAt(b+
1)&&(b++,f=l.substr(a,m+1,b-m-2),c.addChild(n.createProcessingInstruction(f)),f=1);break;case 18:59==s&&(m=l.substr(a,m,b-m),35==m.charCodeAt(0)?(m=120==m.charCodeAt(1)?t.parseInt("0"+l.substr(m,1,m.length-1)):t.parseInt(l.substr(m,1,m.length-1)),p.b+=t.string(String.fromCharCode(m))):p.b=g.xml.Parser.escapes.exists(m)?p.b+t.string(g.xml.Parser.escapes.get(m)):p.b+t.string("&"+m+";"),m=b+1,f=e)}s=a.charCodeAt(++b)}1==f&&(m=b,f=13);if(13==f)return(b!=m||0==h)&&c.addChild(n.createPCData(p.b+l.substr(a,
m,b-m))),b;throw"Unexpected end";};var H=function(){this.b=""};r.StringBuf=H;H.__name__=["StringBuf"];H.prototype={addSub:function(a,b,c){this.b+=null==c?l.substr(a,b,null):l.substr(a,b,c)},__class__:H};var y=function(){};r.Link=y;y.__name__=["Link"];y.resolve=function(a){a=y.trimURL(a);for(var b=0,c=y.sites;b<c.length;){var d=c[b];++b;try{if(d.regex.match(a)&&d.regex.matchedPos().len==a.length)return d}catch(f){console.log("Error "+t.string(f)+" whilst processing regex "+t.string(d.regex))}}return null};
y.trimURL=function(a){p.startsWith(a,"http://")?a=l.substr(a,7,null):p.startsWith(a,"https://")&&(a=l.substr(a,8,null));p.startsWith(a,"www.")?a=l.substr(a,4,null):p.startsWith(a,"m.")&&(a=l.substr(a,2,null));-1!=a.indexOf("&")&&(a=l.substr(a,0,a.indexOf("&")));-1!=a.indexOf("?")&&!p.startsWith(a,"facebook.com/")&&(a=l.substr(a,0,a.indexOf("?")));-1!=a.indexOf("#")&&-1==a.indexOf("/wiki/")&&(a=l.substr(a,0,a.indexOf("#")));p.endsWith(a,"/")&&(a=l.substr(a,0,a.length-1));return a};y.filterHTML=function(a){for(var b=
0,c=y.HTML_FILTERS;b<c.length;){var d=c[b];for(++b;d.match(a);)a=d.replace(a,"")}b=0;for(c=y.HTML_CLEANERS;b<c.length;)d=c[b],++b,a=d.from.replace(a,d.to);if(p.startsWith(a,"<br>")||p.startsWith(a,"<br />"))a=l.substr(a,a.indexOf(">")+1,null);p.endsWith(a,"<br>")&&(a=l.substr(a,0,a.length-4));return a};y.createButton=function(a,b,c){var d=y.resolve(a),f=null;if(null!=d){var q=e.Browser.document.createElement("div"),h="expando-button ",m=v.toggled,l=m?"expanded":"collapsed";q.className=""+h+" "+l;
f={toggled:function(){return m},toggle:function(a,b){m=a;q.className=h+(l=m?"expanded":"collapsed");for(var c=q.parentElement.getElementsByClassName("expando"),d=0;d<c.length;){var f=c[d];++d;j.show(f,a)}b&&e.Browser.window.history.pushState(g.Serializer.run(j.state()),null,null)},url:a,element:q};q.onclick=function(){f.toggle(!m,!0)};d.method(d.regex,function(d){var s="selftext",k;if(z.hasField(d,"urls")){var r=[];for(k=d.urls.keys();k.hasNext();){var n=k.next();r.push('<li><a href="'+d.urls.get(n)+
'">'+n+"</a></li>")}k=e.Browser.document.createElement("div");k.className="usertext";n=e.Browser.document.createElement("div");n.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Name",d.name);a.set("Description",d.description);a.set("Links",r.join(""));return a}(this)));0<d.album.length&&(n.appendChild(e.Browser.document.createElement("br")),n.appendChild(j.embedAlbum(d.album)));k.appendChild(n)}else if(z.hasField(d,"price"))console.log(d),k=e.Browser.document.createElement("div"),
k.className="usertext",s=e.Browser.document.createElement("div"),s.appendChild(j.embedMap(function(){var a=new g.ds.StringMap;a.set("Category",p.htmlEscape(d.category));a.set("Location",p.htmlEscape(d.location));a.set("Price",p.htmlEscape(d.price));a.set("Description",d.description);return a}(this))),s.appendChild(j.embedAlbum(d.images)),k.appendChild(s),s="item";else if(z.hasField(d,"subscribers"))k=e.Browser.document.createElement("div"),k.className="usertext",k.appendChild(j.embedMap(function(){var a=
new g.ds.StringMap;a.set("Age",j.age(d.created_utc));a.set("Subscribers",j.formatNumber(d.subscribers));a.set("Active users",j.formatNumber(d.accounts_active));a.set("Description",C.parse(d.description));return a}(this)));else if(z.hasField(d,"content")){k=e.Browser.document.createElement("div");k.className="usertext";var n=e.Browser.document.createElement("div"),u=e.Browser.document.createElement("span");u.innerHTML=d.content;n.appendChild(u);null!=d.images&&0<d.images.length&&(n.appendChild(e.Browser.document.createElement("br")),
n.appendChild(j.embedAlbum(d.images)));n.className="md";k.appendChild(n)}else e.Boot.__instanceof(d,Array)&&z.hasField(d[0],"url")?(k=j.embedAlbum(d),s="image"):z.hasField(d,"developers")?(console.log(a),k=e.Browser.document.createElement("div"),k.className="usertext",n=e.Browser.document.createElement("div"),u=e.Browser.document.createElement("span"),u.innerHTML=""+t.string(d.description)+'<br><a href="'+t.string(d.url)+'"><b>Clone repo</b></a><br>',null!=d.album&&0<d.album.length&&u.appendChild(j.embedAlbum(d.album)),
n.appendChild(u),n.className="md",k.appendChild(n)):(console.log("Unknown value: "+t.string(d)),k=null);null!=k&&(n=e.Browser.document.createElement("div"),n.className="expando",n.appendChild(k),h+=""+s+" ",q.className=""+h+" "+l,v.buttons.push(f),j.show(n,m),null==c?b.appendChild(n):b.insertBefore(n,c.nextSibling),b.insertBefore(q,n))})}return null!=f?f.element:null};var O=function(){this.length=0};r.List=O;O.__name__=["List"];O.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=
this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:O};var R=function(){};r.NSFWFilter=R;R.__name__=["NSFWFilter"];R.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("nsfw-stamp"),b=0;b<a.length;){var c=a[b];++b;"li"==c.nodeName.toLowerCase()&&j.show(c.parentNode.parentNode.parentNode,!1)}};var J=function(){};r.Preview=J;J.__name__=["Preview"];
J.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-edit"),b=0;b<a.length;){var c=a[b];++b;J.preview(c)}};J.preview=function(a){var b=a.getElementsByTagName("textarea")[0];if(null!=b){var c=e.Browser.document.createElement("div");a.appendChild(c);c.className="md";var d=null;b.onfocus=function(){d=new g.Timer(100);d.run=function(){c.innerHTML=C.parse(b.value)}};b.onblur=function(){d.stop();d=null}}};var k=function(){};r.Settings=k;k.__name__=["Settings"];k.optimisedData=
function(){for(var a=new g.ds.StringMap,b=k.data.keys();b.hasNext();){var c=b.next(),d=k.data.get(c);k.DEFAULTS.get(c)!=d&&a.set(c,d)}return g.Serializer.run(a)};k.save=function(){g.Serializer.USE_CACHE=!1;e.Browser.getLocalStorage().setItem("reditn",k.optimisedData())};k.init=function(){var a=e.Browser.getLocalStorage().getItem("reditn");if(null!=a){var b;try{b=g.Unserializer.run(a)}catch(c){b=k.data}k.data=b}k.fixMissing();a=e.Browser.document.getElementById("header-bottom-right");b=a.getElementsByTagName("ul")[0];
var d=e.Browser.document.createElement("a");d.innerHTML="reditn";d.className="pref-lang";d.href="javascript:void(0);";d.onclick=function(){k.settingsPopUp()};null==b?a.appendChild(d):a.insertBefore(d,b);d=e.Browser.document.createElement("span");d.innerHTML=" | ";d.className="seperator";d.style.fontWeight="none";a.insertBefore(d,b)};k.settingsPopUp=function(){var a=e.Browser.document.getElementById("reditn-config");null!=a&&a.parentElement.removeChild(a);var a=e.Browser.document.createElement("div"),
b=e.Browser.document.createElement("h1");b.innerHTML="Reditn settings";a.appendChild(b);j.fullPopUp(a);var c=e.Browser.document.createElement("form");c.id="reditn-config";c.action="javascript:void(0);";c.onchange=function(){for(var a=c.childNodes,b=0;b<a.length;){var d=a[b];++b;if("button"!=d.type&&"input"==d.nodeName.toLowerCase()){var f=void 0;switch(d.type.toLowerCase()){case "checkbox":f=d.checked;break;default:f=d.value}k.data.set(d.name,f)}}k.save()};b=e.Browser.document.createElement("input");
b.type="button";b.value="Restore default settings";b.onclick=function(){k.fixMissing(!0);k.save();k.settingsPopUp()};c.appendChild(b);b=k.makeButton("Export settings to text",function(){e.Browser.window.alert(e.Browser.window.btoa(k.optimisedData()))});c.appendChild(b);b=k.makeButton("Import settings",function(){k.data=g.Unserializer.run(e.Browser.window.atob(e.Browser.window.prompt("Settings to import",e.Browser.window.btoa(k.optimisedData()))));k.fixMissing();k.save();k.settingsPopUp()});c.appendChild(b);
c.appendChild(e.Browser.document.createElement("br"));for(b=k.data.keys();b.hasNext();){var d=b.next(),f=k.data.get(d);if(!e.Boot.__instanceof(f,g.ds.StringMap)&&k.DESC.exists(d)){var q=k.DESC.get(d),h=e.Browser.document.createElement("label");h.setAttribute("for",d);h.style.position="absolute";h.style.width="46%";h.style.textAlign="right";h.innerHTML=""+q+" ";c.appendChild(h);q=e.Browser.document.createElement("input");q.style.position="absolute";q.style.left="54%";q.style.textAlign="left";q.style.width=
"46%";q.name=d;c.appendChild(q);c.appendChild(e.Browser.document.createElement("br"));q.type=e.Boot.__instanceof(f,U)?"checkbox":e.Boot.__instanceof(f,String)?"text":e.Boot.__instanceof(f,Date)?"datetime":e.Boot.__instanceof(f,Y)?"number":null;e.Boot.__instanceof(f,U)?q.checked=k.data.get(d):q.value=k.data.get(d)}}b=e.Browser.document.createElement("div");b.style.fontWeight="bold";b.innerHTML="Close this dialog and refresh the page to see your changes in effect. Changes will be saved automatically.";
c.appendChild(b);a.appendChild(c)};k.makeButton=function(a,b){var c=e.Browser.document.createElement("input");c.type="button";c.value=a;c.onclick=b;return c};k.fixMissing=function(a){null==a&&(a=!1);for(var b=k.DEFAULTS.keys();b.hasNext();){var c=b.next();if(a||!k.data.exists(c))k.data.set(c,e.Boot.__instanceof(k.DEFAULTS.get(c),g.ds.StringMap)?new g.ds.StringMap:k.DEFAULTS.get(c))}};var S=function(){};r.Style=S;S.__name__=["Style"];S.init=function(){var a=e.Browser.document.createElement("style");
a.innerHTML='.expando-button.image.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.collapsed {\n\tpadding: 0px;\n}\np .expando-button {\n\tdisplay: inline-block;\n\tfloat: none;\n\tmargin: 0px;\n\tpadding: 0px;\n}\ndl.reditn-table  {\n\tfloat: left;\n\twidth: 100%;\n\tpadding: 0;\n}\n.reditn-table dt {\n\tclear: left;\n\tfloat: left;\n\twidth: 16%;\n\tfont-weight: bold;\n\ttext-align: right;\n}\n.reditn-table dd {\n\tfloat: left;\n\ttext-align: left;\n}';
e.Browser.document.head.appendChild(a)};var K=function(){};r.SubredditInfo=K;K.__name__=["SubredditInfo"];K.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=K._onMouseOverSubreddit}};K._onMouseOverSubreddit=function(a){a=a.target;var b=a.innerHTML,c=e.Browser.document.createElement("div");j.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/r/"+b+"/about.json",function(a){var f=j.formatNumber(a.subscribers),
e=j.formatNumber(a.accounts_active),g=C.parse(a.public_description);a=j.age(a.created_utc);var m="<b>Name:</b> "+b+" <br>",h=k.data.get("sub-tags");h.exists(b)&&(m+="<b>Tag:</b> "+h.get(b)+"<br>");m=m+("<b>Subscribers:</b> "+f+" <br>")+("<b>Active Users:</b> "+e+" <br>");m+="<b>Description:</b> "+g+" <br>";m+="<b>Age:</b> "+a+" <br>";c.innerHTML=m})};var N=function(){};r.SubredditTagger=N;N.__name__=["SubredditTagger"];N.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("subreddit"),
b=0;b<a.length;){var c=a[b];++b;N.getTag(c)}};N.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("sub-tags").exists(c)?k.data.get("sub-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),
b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("sub-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};var T=function(){};r.TextExpand=
T;T.__name__=["TextExpand"];T.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("usertext-body"),b=0;b<a.length;){var c=a[b];++b;for(var c=e.Boot.__cast(c,Element).getElementsByClassName("md")[0].getElementsByTagName("a"),d=0;d<c.length;){var f=c[d];++d;y.createButton(f.href,f.parentElement,f)}}};var w=r.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};w.TNull=["TNull",0];w.TNull.toString=G;w.TNull.__enum__=
w;w.TInt=["TInt",1];w.TInt.toString=G;w.TInt.__enum__=w;w.TFloat=["TFloat",2];w.TFloat.toString=G;w.TFloat.__enum__=w;w.TBool=["TBool",3];w.TBool.toString=G;w.TBool.__enum__=w;w.TObject=["TObject",4];w.TObject.toString=G;w.TObject.__enum__=w;w.TFunction=["TFunction",5];w.TFunction.toString=G;w.TFunction.__enum__=w;w.TClass=function(a){a=["TClass",6,a];a.__enum__=w;a.toString=G;return a};w.TEnum=function(a){a=["TEnum",7,a];a.__enum__=w;a.toString=G;return a};w.TUnknown=["TUnknown",8];w.TUnknown.toString=
G;w.TUnknown.__enum__=w;var B=function(){};r.Type=B;B.__name__=["Type"];B.getClassName=function(a){return a.__name__.join(".")};B.getEnumName=function(a){return a.__ename__.join(".")};B.resolveClass=function(a){a=r[a];return null==a||!a.__name__?null:a};B.resolveEnum=function(a){a=r[a];return null==a||!a.__ename__?null:a};B.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};B.createEnum=function(a,b,c){var d=z.field(a,b);if(null==d)throw"No such constructor "+b;if(z.isFunction(d)){if(null==
c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};B.getEnumConstructs=function(a){return a.__constructs__.slice()};B["typeof"]=function(a){switch(typeof a){case "boolean":return w.TBool;case "string":return w.TClass(String);case "number":return Math.ceil(a)==a%2147483648?w.TInt:w.TFloat;case "object":if(null==a)return w.TNull;var b=a.__enum__;if(null!=b)return w.TEnum(b);a=a.__class__;return null!=a?w.TClass(a):
w.TObject;case "function":return a.__name__||a.__ename__?w.TObject:w.TFunction;case "undefined":return w.TNull;default:return w.TUnknown}};var L=function(){};r.UserInfo=L;L.__name__=["UserInfo"];L.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=L._onMouseOverUser}};L._onMouseOverUser=function(a){a=a.target;var b=a.innerHTML,b=l.substr(b,b.lastIndexOf("/")+1,null),c=e.Browser.document.createElement("div");j.popUp(a,c,
a.offsetLeft+a.offsetWidth,a.offsetTop);j.getJSON("/user/"+b+"/about.json",function(a){var b=a.name,e=j.age(a.created_utc),g=j.formatNumber(a.link_karma),h=j.formatNumber(a.comment_karma),l="<b>User:</b> "+b+"<br>",p=k.data.get("user-tags");p.exists(b)&&(l+="<b>Tag:</b> "+p.get(b)+"<br>");l=l+("<b>Account age:</b> "+e+"<br>")+("<b>Karma:</b> "+g+" link karma, "+h+" comment karma");a.is_mod&&(l+="<br><b>Moderator</b>");a.is_gold&&(l+="<br><b>Gold</b>");c.innerHTML=l})};var M=function(){};r.UserTagger=
M;M.__name__=["UserTagger"];M.init=function(){for(var a=e.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;M.getTag(c)}};M.getTag=function(a){var b=e.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=k.data.get("user-tags").exists(c)?k.data.get("user-tags").get(c):null;b.className="flair";var f=e.Browser.document.createElement("span");f.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(f);var g=e.Browser.document.createElement("a");g.href="javascript:void(0);";
g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=e.Browser.document.createElement("div"),b=e.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var h=e.Browser.document.createElement("input");h.name="tag-change";h.value=d;h.style.width="100%";h.onchange=function(){k.data.get("user-tags").set(c,h.value);f.innerHTML=p.htmlEscape(h.value)+" ";k.save();a.parentElement.removeChild(a)};a.appendChild(h);j.fullPopUp(a,g.offsetTop+
g.offsetHeight);h.focus()};a.parentElement.insertBefore(b,a.nextSibling)};r.XmlType={__ename__:["XmlType"],__constructs__:[]};g.Serializer=function(){this.buf=new H;this.cache=[];this.useCache=g.Serializer.USE_CACHE;this.useEnumIndex=g.Serializer.USE_ENUM_INDEX;this.shash=new g.ds.StringMap;this.scount=0};r["haxe.Serializer"]=g.Serializer;g.Serializer.__name__=["haxe","Serializer"];g.Serializer.run=function(a){var b=new g.Serializer;b.serialize(a);return b.toString()};g.Serializer.prototype={serialize:function(a){var b=
B["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=t.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=t.string(a)):this.buf.b+=t.string(0>a?"m":"p");break;case 3:this.buf.b+=t.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var d=a.length,f=0;f<d;)b=f++,
null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=t.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=t.string(c)));this.buf.b+="h";break;case O:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=t.string(l.dateStr(a));break;case g.ds.StringMap:this.buf.b+="b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));
this.buf.b+="h";break;case g.ds.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=t.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case g.ds.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=c.next(),d=z.field(b,"__id__"),z.deleteField(b,"__id__"),this.serialize(b),b.__id__=d,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case g.io.Bytes:b=0;c=a.length-2;d=new H;for(f=g.Serializer.BASE64;b<c;){var e=a.b[b++],h=a.b[b++],j=a.b[b++];d.b+=t.string(f.charAt(e>>
2));d.b+=t.string(f.charAt((e<<4|h>>4)&63));d.b+=t.string(f.charAt((h<<2|j>>6)&63));d.b+=t.string(f.charAt(j&63))}b==c?(e=a.b[b++],h=a.b[b++],d.b+=t.string(f.charAt(e>>2)),d.b+=t.string(f.charAt((e<<4|h>>4)&63)),d.b+=t.string(f.charAt(h<<2&63))):b==c+1&&(e=a.b[b++],d.b+=t.string(f.charAt(e>>2)),d.b+=t.string(f.charAt(e<<4&63)));b=d.b;this.buf.b+="s";this.buf.b+=t.string(b.length);this.buf.b+=":";this.buf.b+=t.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(B.getClassName(b)),
this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(B.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=t.string(this.useEnumIndex?"j":"w");this.serializeString(B.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=t.string(a[1])):this.serializeString(a[0]);
this.buf.b+=":";d=a.length;this.buf.b+=t.string(d-2);for(f=2;f<d;)b=f++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+t.string(a);}},serializeFields:function(a){for(var b=0,c=z.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(z.field(a,d))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var f=c++,e=this.cache[f];if(typeof e==b&&e==a)return this.buf.b+="r",
this.buf.b+=t.string(f),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=t.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=p.urlEncode(a),this.buf.b+=t.string(a.length),this.buf.b+=":",this.buf.b+=t.string(a))},toString:function(){return this.buf.b},__class__:g.Serializer};g.Timer=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};r["haxe.Timer"]=g.Timer;g.Timer.__name__=["haxe","Timer"];g.Timer.delay=
function(a,b){var c=new g.Timer(b);c.run=function(){c.stop();a()};return c};g.Timer.stamp=function(){return(new Date).getTime()/1E3};g.Timer.prototype={run:function(){console.log("run")},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:g.Timer};g.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=g.Unserializer.DEFAULT_RESOLVER;null==a&&(a=B,g.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};r["haxe.Unserializer"]=
g.Unserializer;g.Unserializer.__name__=["haxe","Unserializer"];g.Unserializer.initCodes=function(){for(var a=[],b=0,c=g.Unserializer.BASE64.length;b<c;){var d=b++;a[g.Unserializer.BASE64.charCodeAt(d)]=d}return a};g.Unserializer.run=function(a){return(new g.Unserializer(a)).unserialize()};g.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return t.parseFloat(l.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=l.substr(this.buf,this.pos,b);this.pos+=b;a=p.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=
this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();
a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=B.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+
b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new O;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new g.ds.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new g.ds.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);
if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new g.ds.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=l.strDate(l.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";d=g.Unserializer.CODES;null==d&&(d=g.Unserializer.initCodes(),g.Unserializer.CODES=
d);for(var a=this.pos,f=b&3,e=a+(b-f),h=g.io.Bytes.alloc(3*(b>>2)+(2<=f?f-1:0)),j=0;a<e;){var k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)];h.b[j++]=(k<<2|n>>4)&255;k=d[c.charCodeAt(a++)];h.b[j++]=(n<<4|k>>2)&255;n=d[c.charCodeAt(a++)];h.b[j++]=(k<<6|n)&255}2<=f&&(k=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)],h.b[j++]=(k<<2|n>>4)&255,3==f&&(k=d[c.charCodeAt(a++)],h.b[j++]=(n<<4|k>>2)&255));this.pos+=b;this.cache.push(h);return h;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==
a)throw"Class not found "+b;b=B.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return B.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return B.createEnum(a,b,d)},unserializeObject:function(a){for(;;){if(this.pos>=
this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!e.Boot.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},
resolveEnum:function(){return null}}:a},__class__:g.Unserializer};g.ds.IntMap=function(){this.h={}};r["haxe.ds.IntMap"]=g.ds.IntMap;g.ds.IntMap.__name__=["haxe","ds","IntMap"];g.ds.IntMap.__interfaces__=[x];g.ds.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return l.iter(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:g.ds.IntMap};g.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};r["haxe.ds.ObjectMap"]=g.ds.ObjectMap;
g.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];g.ds.ObjectMap.__interfaces__=[x];g.ds.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return l.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=++g.ds.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:g.ds.ObjectMap};g.io={};g.io.Bytes=function(a,b){this.length=a;this.b=b};r["haxe.io.Bytes"]=g.io.Bytes;g.io.Bytes.__name__=["haxe","io","Bytes"];
g.io.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new g.io.Bytes(a,b)};g.io.Bytes.prototype={__class__:g.io.Bytes};Array.prototype.indexOf?l.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0}:null;"undefined"!=typeof JSON&&(g.Json=JSON);String.prototype.__class__=r.String=String;String.__name__=["String"];Array.prototype.__class__=r.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=r.Date=Date;Date.__name__=["Date"];var Y=r.Int={__name__:["Int"]},
$=r.Dynamic={__name__:["Dynamic"]},Z=r.Float=Number;Z.__name__=["Float"];var U=r.Bool=Boolean;U.__ename__=["Bool"];var aa=r.Class={__name__:["Class"]},ba={};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;r.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};n.Element="element";n.PCData="pcdata";n.CData="cdata";n.Comment="comment";n.DocType="doctype";n.ProcessingInstruction=
"processingInstruction";n.Document="document";v.buttons=[];v.queue=0;u.keys=[];u.konami=[38,38,40,40,37,39,37,39,66,65];D.words=["wubba","mcwubber","dubba","dadubber"];D.filter=new h("[a-zA-Z]*","");j.fullPage=!0;A.regex=[{from:new h("\\[\\[Category:([^\\]]*)\\]\\]",""),to:""},{from:new h("\\[\\[([^\\]\n]*)\\|([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$2</a>'},{from:new h("\\[\\[([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$1</a>'},{from:new h("<gallery>(.|\n|\n\r)*</gallery>",
""),to:""},{from:new h("\\[\\[File:([^\\]]*)\\]\\]",""),to:""},{from:new h("(=*) ?(References|Gallery) ?\\1.*\\1?",""),to:""},{from:new h("{{spaced ndash}}",""),to:" - "},{from:new h("\\{\\{convert\\|([0-9]*)\\|([^\\|]*)([^\\}]*)\\}\\}",""),to:"$1 $2"},{from:new h("\\{\\{([^\\}]*)\\}\\}",""),to:""},{from:new h("\\{\\|(.|\n|\n\r)*\\|\\}",""),to:""},{from:new h("\\[([^ \\[\\]]*) ([^\\[\\]]*)\\]",""),to:""},{from:new h("'''([^']*)'''",""),to:"<b>$1</b>"},{from:new h("''([^']*)''",""),to:"<em>$1</em>"},
{from:new h("======([^=]*)======",""),to:"<h6>$1</h6>"},{from:new h("=====([^=]*)=====",""),to:"<h5>$1</h5>"},{from:new h("====([^=]*)====",""),to:"<h4>$1</h4>"},{from:new h("===([^=]*)===",""),to:"<h3>$1</h3>"},{from:new h("==([^=]*)==",""),to:"<h2>$1</h2>"},{from:new h("\n\\* ?([^\n]*)",""),to:"<li>$1</li>"},{from:new h("<ref>[^<>]*</ref>",""),to:""},{from:new h("\n\r?\n\r?",""),to:"<br>"},{from:new h("\n",""),to:""},{from:new h("<br><br>",""),to:"<br>"},{from:new h("\x3c!--Interwiki links--\x3e.*",
""),to:""},{from:new h("\\[\\]",""),to:""}];A.sections=new h("'=(=*)([^=]*)=\\\\1\n\r?(.|\n|\n\r)*(\\\\1)?'","");A.IMAGES=new h("(File:|img=|Image:)([^\\.\\|\\]\\}\\{\\[<>=]*)\\.(gif|jpg|jpeg|bmp|png|webp|svg|raw)(\\|([^\\)]*))?","");e.Browser.window="undefined"!=typeof window?window:null;e.Browser.document="undefined"!=typeof window?window.document:null;C.images=new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)","");C.regex=[{from:new h("(\\*\\*|__)([^\\1\n]*?)\\1",""),to:"<b>$2</b>"},{from:new h("(\\*|_)([^\\1\n]*?)\\1",
""),to:"<em>$2</em>"},{from:new h("^[\\*|+|-] (.*)$","m"),to:"<ul><li>$1</li></ul>"},{from:new h("</ul><ul>",""),to:""},{from:new h("\n> ([^\n\r]*)",""),to:"<blockquote>$1</blockquote>"},{from:new h("</blockquote>\n?\r?<blockquote>$",""),to:""},{from:new h("~~([^~]*?)~~",""),to:"<del>$1</del>"},{from:new h("\\^([^\\^]+)",""),to:"<sup>$1</sup>"},{from:new h(':"([^:"]*?)":',""),to:"<q>$1</q>"},{from:C.images,to:""},{from:new h("\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",""),to:'<a href="$2">$1</a>'},{from:new h("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",
""),to:""},{from:new h("(.*)\n\r?(==+)\n",""),to:"<h2>$1</h2>"},{from:new h("(.*)\n\r?((-|#)+)\n",""),to:"<h3>$1</h3>"},{from:new h("(```*)([^`]+)\\1","m"),to:"<code>$2</code>"},{from:new h("<pre>(.*)\n\n(.*)</pre>",""),to:"<pre>$1\n$2</pre>"},{from:new h("\n\n+",""),to:"<br>\n"}];C.header=new h("^([#|=]+)([^#=]+)\\1?$","m");x=g.xml.Parser;E=new g.ds.StringMap;E.set("lt","<");E.set("gt",">");E.set("amp","&");E.set("quot",'"');E.set("apos","'");E.set("nbsp",String.fromCharCode(160));x.escapes=E;y.HTML_IMG=
new h('<img .*?src="([^"]*)"/?>',"");y.sites=[{regex:new h(".*\\.(jpeg|gif|jpg|bmp|png|webp)","i"),method:function(a,b){b([{url:"http://"+a.matched(0),caption:null,author:null}])}},{regex:new h("i?\\.?imgur.com/(a|gallery)/([^/]*)",""),method:function(a,b){var c=a.matched(2),d;switch(a.matched(1).toLowerCase()){case "a":d="album";break;case "gallery":d="gallery/album";break;default:d="album"}j.getJSON("https://api.imgur.com/3/"+d+"/"+c,function(a){var c=[];if(0>=a.images_count)c.push({url:"http://i.imgur.com/"+
a.id+".jpg",caption:a.title,author:a.account_url});else for(var d=0,e=a.images;d<e.length;){var g=e[d];++d;c.push({url:"http://i.imgur.com/"+g.id+".jpg",caption:g.title,author:a.account_url})}b(c)},"Client-ID cc1f254578d6c52")}},{regex:new h("imgur\\.com/(r/[^/]*/)?([a-zA-Z0-9,]*)",""),method:function(a,b){for(var c=(null==a.matched(1)||-1!=a.matched(1).indexOf("/")?a.matched(2):a.matched(1)).split(","),d=[],f=0;f<c.length;){var e=c[f];++f;d.push({url:"http://i.imgur.com/"+e+".jpg",caption:null,author:null})}b(d)}},
{regex:new h("(qkme\\.me|quickmeme\\.com/meme|m\\.quickmeme.com/meme)/([^/]*)",""),method:function(a,b){b([{url:"http://i.qkme.me/"+a.matched(2)+".jpg",caption:null,author:null}])}},{regex:new h("memecrunch.com/meme/([^/]*)/([^/]*)",""),method:function(a,b){b([{url:"http://"+a.matched(0)+"/image.png",caption:null,author:null}])}},{regex:new h("memegenerator\\.net/instance/([^/]*)",""),method:function(a,b){b([{url:"http://cdn.memegenerator.net/instances/400x/"+a.matched(1)+".jpg",caption:null,author:null}])}},
{regex:new h("imgflip\\.com/i/([^/]*)",""),method:function(a,b){b([{url:"http://i.imgflip.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("what-if.xkcd.com/([0-9]*)",""),method:function(){}},{regex:new h("xkcd.com/([0-9]*)",""),method:function(a,b){j.getJSON("http://www.xkcd.com/"+a.matched(1)+"/info.0.json",function(a){b([{url:a.img,caption:a.title,author:null}])})}},{regex:new h("explosm.net/comics/([0-9]*)",""),method:function(a,b){j.getText("http://www."+a.matched(0),function(c){var d=
new h('"http://www\\.explosm\\.net/db/files/Comics/([^"]*)"',"");if(d.match(c))b([{url:d.matched(0).substring(1,d.matched(0).length-1),caption:null,author:null}]);else throw""+t.string(d)+" not matched by "+a.matched(0)+" in "+c;},null,null,null)}},{regex:new h("livememe.com/([^/]*)",""),method:function(a,b){b([{url:"http://livememe.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new h("(([^\\.]*\\.)?deviantart\\.com/art|fav\\.me)/.*",""),method:function(a,b){j.getJSON("http://backend.deviantart.com/oembed?url="+
p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("flickr\\.com/photos/.*",""),method:function(a,b){j.getJSON("http://www.flickr.com/services/oembed/?url=http://www."+p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new h("ebay\\.([a-zA-Z\\.]*)/itm(/[^/]*)?/([0-9]*)",""),method:function(a,b){a.matched(1);var c="http://open.api.ebay.com/shopping?callname=GetSingleItem&responseencoding=JSON&appid=ThomasDa-1e6c-4d29-a156-85557acee70b&siteid=0&version=515&ItemID="+
a.matched(3)+"&IncludeSelector=TextDescription";j.getJSON(c,function(a){var c=a.Item.PictureURL.map(function(a){return{url:a,caption:null,author:null}});b({title:a.Item.Title,category:a.Item.PrimaryCategoryName,location:a.Item.Location+", "+a.Item.Country,description:y.filterHTML(a.Item.Description),images:c,price:j.formatPrice(a.Item.ConvertedCurrentPrice.Value)+" "+a.Item.ConvertedCurrentPrice.CurrencyID})})}},{regex:new h("([^\\.]*\\.wordpress\\.com|wp\\.me|techcrunch\\.com|news\\.blogs\\.cnn\\.com|snoopdogg\\.com|usainbolt\\.com|katiecouric\\.com|rollingstones\\.com|variety\\.com|bbcamerica\\.com)/(.*)?",
""),method:function(a,b){var c="http://"+a.matched(0);j.getJSON("http://public-api.wordpress.com/oembed/?url="+p.urlEncode(c)+"&for=Reditn",function(a){var c=[];null!=a.thumbnail_url&&c.push({caption:null,url:a.thumbnail_url,author:null});b({author:a.author_name,content:y.filterHTML(a.html),images:c})})}},{regex:new h("(.*)/wiki/([^#]*)(#.*)?",""),method:function(a,b){var c="http://"+a.matched(1),d=a.matched(2),f=a.matched(3);null!=f&&(f=p.trim(l.substr(f,1,null)));null!=f&&0==f.length&&(f=null);
var e=c;p.endsWith(e,".wikia.com")||(e+="/w");var g=null,g=function(a){j.getJSON(""+e+"/api.php?format=json&prop=revisions&action=query&titles="+a+"&rvprop=content",function(a){a=a.query.pages;for(var d=0,h=z.fields(a);d<h.length;){var m=h[d];++d;var m=[z.field(a,m)],k=[z.field(m[0].revisions[0],"*")];if(p.startsWith(k[0],"#REDIRECT [[")){g(k[0].substring(12,k[0].lastIndexOf("]]")));break}var n=[A.getAlbum(k[0])];null!=f&&(k[0]=A.trimTo(k[0],f));k[0]=A.parse(k[0],c);if(0<n[0].length)for(var r=[[]],
u=0;u<n[0].length;){var v=[n[0][u]];++u;j.getJSON(""+e+"/api.php?action=query&titles="+p.urlEncode(v[0].url)+"&prop=imageinfo&iiprop=url&format=json",function(a,c,d,f,e){return function(g){g=g.query.pages;for(var h=0,j=z.fields(g);h<j.length;){var m=j[h];++h;m=z.field(g,m);null!=m&&null!=m.imageinfo?c[0].push({url:m.imageinfo[0].url,caption:a[0].caption,author:null}):(console.log("Error whilst processing "+t.string(m)+" for "+a[0].url),l.remove(d[0],a[0]))}c[0].length>=d[0].length&&b({title:e[0].title,
content:f[0],author:null,images:c[0]})}}(v,r,n,k,m))}else b({title:m[0].title,content:k[0],author:null,images:null})}})};g(d)}},{regex:new h("github\\.com/([^/]*)/([^/]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2);j.getJSON("https://api.github.com/repos/"+c+"/"+d+"/readme?client_id=39d85b9ac427f1176763&client_secret=5117570b83363ca0c71a196edc5b348af150c25d",function(a){if(null!=a.content){a=a.content;a=p.replace(a,"\n","");a=p.trim(a);a=e.Browser.window.atob(a);for(var g=C.images,
h=[],j=a;g.match(j);){var k=g.matched(2);k.indexOf(".")==k.lastIndexOf(".")&&(p.startsWith(k,"/")&&(k=l.substr(k,1,null)),k="https://github.com/"+c+"/"+d+"/raw/master/"+k);h.push({url:k,caption:g.matched(1),author:c});j=l.substr(j,g.matchedPos().pos+g.matchedPos().len,null)}b({name:d,developers:[c],description:C.parse(a),url:"git://github.com/"+c+"/"+d+".git",album:h})}})}},{regex:new h("sourceforge.net/projects/([a-zA-Z-]*)",""),method:function(a,b){j.getJSON("http://sourceforge.net/api/project/name/"+
a.matched(1)+"/json",function(a){a=a.Project;for(var d=a.developers,f=a.name,e=a.description,g=[],h=0;h<d.length;)++h,g.push(a.name);for(var j=z.field(a,"download-page"),d=0,h=z.fields(a);d<h.length;){var k=h[d];++d;p.endsWith(k,"Repository")&&(j=l.substr(k,0,k.length-10).toLowerCase(),k=z.field(a,k).location,j=p.replace(k,"http:",""+j+":"))}b({name:f,description:e,developers:g,url:j,album:[]})})}},{regex:new h("(digitaltrends\\.com|webupd8\\.org|doctorwho\\.tv)/.*",""),method:function(a,b){j.getText("http://www."+
a.matched(0),function(a){var d=new h("<title>(.*)</title>","");d.match(a)&&(a=l.substr(a,a.indexOf("<article"),null),a=l.substr(a,a.indexOf(">")+1,null),a=l.substr(a,0,a.indexOf("</article>")),a=y.filterHTML(a),b({title:d.matched(1),content:a,author:null,images:[]}))},null,null,null)}},{regex:new h("([^\\.]*)\\.tumblr\\.com/(post|image)/([0-9]*)(/.*)?",""),method:function(a,b){var c=a.matched(1),d=a.matched(3);j.getJSON("http://api.tumblr.com/v2/blog/"+c+".tumblr.com/posts/json?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE&id="+
d,function(a){var c=a.posts[0];switch(c.type){case "text":for(var d=[];y.HTML_IMG.match(c.body);)d.push({url:y.HTML_IMG.matched(1),caption:null,author:a.blog.name}),c.body=y.HTML_IMG.replace(c.body,"");c.body=y.filterHTML(c.body);a={title:c.title,content:c.body,author:a.blog.name,images:d};break;case "quote":a={title:null,content:t.string(c.text)+"<br/><b>"+t.string(c.source)+"</b>",author:a.blog.name,images:[]};break;case "photo":for(var c=c.photos,d=[],e=0;e<c.length;){var g=c[e];++e;d.push({url:g.original_size.url,
caption:g.caption,author:a.blog.name})}a=d;break;default:a=null}b(a)})}},{regex:new h(".*\\.tumblr\\.com",""),method:function(a,b){j.getJSON("http://api.tumblr.com/v2/blog/"+p.urlEncode(a.matched(0))+"/info?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE",function(a){b({urls:new g.ds.StringMap,name:a.blog.title,description:y.filterHTML(a.blog.description),album:[]})})}},{regex:new h("twitter.com/.*/status/([0-9]*)",""),method:function(a,b){j.getJSON("https://api.twitter.com/1/statuses/oembed.json?id="+
a.matched(1),function(a){b({title:null,author:a.author_name,content:y.filterHTML(a.html),images:[]})})}},{regex:new h("amazon\\.[a-z\\.]*/gp/product/([0-9A-Z]*)",""),method:function(a){a=a.matched(1);j.getXML("http://webservices.amazon.com/onca/xml?AWSAccessKeyId=AKIAJMR3XPXGBMZJE6IA&Service=AWSECommerceService&Operation=ItemLookup&ItemId="+a,function(a){console.log(a)})}},{regex:new h("plus\\.google\\.com/([0-9]*)/posts/([a-zA-Z]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2),e=new h("<b>([^>]*)</b><br />",
""),g=null,g=function(h){j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"/activities/public?fields=items(id%2Curl)%2CnextPageToken&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o"+(null==h?"":"&requestToken="+h),function(c){var h=c.items;a.matched(0);for(var k=0;k<h.length;){var l=h[k];++k;if(-1!=l.url.indexOf(d)){j.getJSON("https://www.googleapis.com/plus/v1/activities/"+t.string(l.id)+"?fields=actor%2FdisplayName%2Cannotation%2Cobject(actor%2Cattachments%2Ccontent%2Cid%2CobjectType%2CoriginalContent%2Curl)&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",
function(a){var c=a.object.objectType,d=a.actor.actorName,g=a.object.content;e.match(g);switch(c){case "note":a=e.matched(1);g=e.replace(g,"");g=y.filterHTML(g);b({title:a,author:d,content:g,images:[]});break;default:d=a.object.attachments;g=[];for(c=0;c<d.length;){var h=d[c];++c;g.push({url:h.image.url,caption:0==h.content.length?a.object.content:h.content,author:null})}b(g)}});return}}0!=c.items.length&&g(c.requestToken)})};g()}},{regex:new h("facebook.com/photo\\.php\\?v=([0-9]*)",""),method:function(a,
b){a.matched(1);b([{caption:null,url:"http://graph.facebook.com/${id}/picture?type=small&access_token=CAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrCAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrf",author:null}])}},{regex:new h("facebook\\.com/([a-zA-Z0-9]*)",""),method:function(a,b){var c=
a.matched(1);b({album:[{url:"https://graph.facebook.com/"+c+"/picture?type=large",caption:null,author:null}],urls:new g.ds.StringMap})}},{regex:new h("plus\\.google.com/u?/?[0-9]*/([0-9]*)(/about)?",""),method:function(a,b){var c=a.matched(1);j.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"?key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",function(a){var c=a.urls,e=new g.ds.StringMap;if(null!=c)for(var h=0;h<c.length;){var j=c[h];++h;e.set(j.label,j.value)}null!=a.urls&&(null!=a.displayName&&
null!=a.aboutMe)&&b({urls:e,name:a.displayName,description:a.aboutMe,album:[{url:a.image.url,caption:null,author:a.displayName}]})})}},{regex:new h("reddit\\.com/r/([a-zA-Z0-9]*)",""),method:function(a,b){j.getJSON("http://www."+a.matched(0)+"/about.json",function(a){b(a)})}},{regex:new h("gamejolt.com/games/[^/]*/[^/]*/([0-9]*)",""),method:function(a){a=a.matched(1);j.getJSON("http://gamejolt.com/service/games/"+a+"?format=json",function(a){console.log(a)})}},{regex:new h("(0rz\\.tw|1link\\.in|1url\\.com|2\\.gp|2big\\.at|2tu\\.us|3\\.ly|307\\.to|4ms\\.me|4sq\\.com|4url\\.cc|6url\\.com|7\\.ly|a\\.gg|a\\.nf|aa\\.cx|abcurl\\.net|ad\\.vu|adf\\.ly|adjix\\.com|afx\\.cc|all\\.fuseurl\\.com|alturl\\.com|amzn\\.to|ar\\.gy|arst\\.ch|atu\\.ca|azc\\.cc|b23\\.ru|b2l\\.me|bacn\\.me|bcool\\.bz|binged\\.it|bit\\.ly|bizj\\.us|bloat\\.me|bravo\\.ly|bsa\\.ly|budurl\\.com|canurl\\.com|chilp\\.it|chzb\\.gr|cl\\.lk|cl\\.ly|clck\\.ru|cli\\.gs|cliccami\\.info|clickthru\\.ca|clop\\.in|conta\\.cc|cort\\.as|cot\\.ag|crks\\.me|ctvr\\.us|cutt\\.us|dai\\.ly|decenturl\\.com|dfl8\\.me|digbig\\.com|digg\\.com|disq\\.us|dld\\.bz|dlvr\\.it|do\\.my|doiop\\.com|dopen\\.us|easyuri\\.com|easyurl\\.net|eepurl\\.com|eweri\\.com|fa\\.by|fav\\.me|fb\\.me|fbshare\\.me|ff\\.im|fff\\.to|fire\\.to|firsturl\\.de|firsturl\\.net|flic\\.kr|flq\\.us|fly2\\.ws|fon\\.gs|freak\\.to|fuseurl\\.com|fuzzy\\.to|fwd4\\.me|fwib\\.net|g\\.ro\\.lt|gizmo\\.do|gl\\.am|go\\.9nl\\.com|go\\.ign\\.com|go\\.usa\\.gov|goo\\.gl|goshrink\\.com|gurl\\.es|hex\\.io|hiderefer\\.com|hmm\\.ph|href\\.in|hsblinks\\.com|htxt\\.it|huff\\.to|hulu\\.com|hurl\\.me|hurl\\.ws|icanhaz\\.com|idek\\.net|ilix\\.in|is\\.gd|its\\.my|ix\\.lt|j\\.mp|jijr\\.com|kl\\.am|klck\\.me|korta\\.nu|krunchd\\.com|l9k\\.net|lat\\.ms|liip\\.to|liltext\\.com|linkbee\\.com|linkbun\\.ch|liurl\\.cn|ln-s\\.net|ln-s\\.ru|lnk\\.gd|lnk\\.ms|lnkd\\.in|lnkurl\\.com|lru\\.jp|lt\\.tl|lurl\\.no|macte\\.ch|mash\\.to|merky\\.de|migre\\.me|miniurl\\.com|minurl\\.fr|mke\\.me|moby\\.to|moourl\\.com|mrte\\.ch|myloc\\.me|myurl\\.in|n\\.pr|nbc\\.co|nblo\\.gs|nn\\.nf|not\\.my|notlong\\.com|nsfw\\.in|nutshellurl\\.com|nxy\\.in|nyti\\.ms|o-x\\.fr|oc1\\.us|om\\.ly|omf\\.gd|omoikane\\.net|on\\.cnn\\.com|on\\.mktw\\.net|onforb\\.es|orz\\.se|ow\\.ly|ping\\.fm|pli\\.gs|pnt\\.me|politi\\.co|post\\.ly|pp\\.gg|profile\\.to|ptiturl\\.com|pub\\.vitrue\\.com|qlnk\\.net|qte\\.me|qu\\.tc|qy\\.fi|r\\.im|rb6\\.me|read\\.bi|readthis\\.ca|reallytinyurl\\.com|redir\\.ec|redirects\\.ca|redirx\\.com|retwt\\.me|ri\\.ms|rickroll\\.it|riz\\.gd|rt\\.nu|ru\\.ly|rubyurl\\.com|rurl\\.org|rww\\.tw|s4c\\.in|s7y\\.us|safe\\.mn|sameurl\\.com|sdut\\.us|shar\\.es|shink\\.de|shorl\\.com|short\\.ie|short\\.to|shortlinks\\.co\\.uk|shorturl\\.com|shout\\.to|show\\.my|shrinkify\\.com|shrinkr\\.com|shrt\\.fr|shrt\\.st|shrten\\.com|shrunkin\\.com|simurl\\.com|slate\\.me|smallr\\.com|smsh\\.me|smurl\\.name|sn\\.im|snipr\\.com|snipurl\\.com|snurl\\.com|sp2\\.ro|spedr\\.com|srnk\\.net|srs\\.li|starturl\\.com|su\\.pr|surl\\.co\\.uk|surl\\.hu|t\\.cn|t\\.co|t\\.lh\\.com|ta\\.gd|tbd\\.ly|tcrn\\.ch|tgr\\.me|tgr\\.ph|tighturl\\.com|tiniuri\\.com|tiny\\.cc|tiny\\.ly|tiny\\.pl|tinylink\\.in|tinyuri\\.ca|tinyurl\\.com|tk\\.|tl\\.gd|tmi\\.me|tnij\\.org|tnw\\.to|tny\\.com|to\\.|to\\.ly|togoto\\.us|totc\\.us|toysr\\.us|tpm\\.ly|tr\\.im|tra\\.kz|trunc\\.it|twhub\\.com|twirl\\.at|twitclicks\\.com|twitterurl\\.net|twitterurl\\.org|twiturl\\.de|twurl\\.cc|twurl\\.nl|u\\.mavrev\\.com|u\\.nu|u76\\.org|ub0\\.cc|ulu\\.lu|updating\\.me|ur1\\.ca|url\\.az|url\\.co\\.uk|url\\.ie|url360\\.me|url4\\.eu|urlborg\\.com|urlbrief\\.com|urlcover\\.com|urlcut\\.com|urlenco\\.de|urli\\.nl|urls\\.im|urlshorteningservicefortwitter\\.com|urlx\\.ie|urlzen\\.com|usat\\.ly|use\\.my|vb\\.ly|vgn\\.am|vl\\.am|vm\\.lc|w55\\.de|wapo\\.st|wapurl\\.co\\.uk|wipi\\.es|wp\\.me|x\\.vu|xr\\.com|xrl\\.in|xrl\\.us|xurl\\.es|xurl\\.jp|y\\.ahoo\\.it|yatuc\\.com|ye\\.pe|yep\\.it|yfrog\\.com|yhoo\\.it|yiyd\\.com|youtu\\.be|yuarel\\.com|z0p\\.de|zi\\.ma|zi\\.mu|zipmyurl\\.com|zud\\.me|zurl\\.ws|zz\\.gd|zzang\\.kr|r\\.ebay\\.com)/.*",
""),method:function(a,b){var c=p.urlEncode("http://"+a.matched(0));j.getJSON("http://api.longurl.org/v2/expand?url="+c+"&format=json&User-Agent=Reditn",function(a){a=z.field(a,"long-url");a=y.resolve(a);null!=a&&a.method(a.regex,b)})}}];y.HTML_FILTERS=[y.HTML_IMG,new h("<meta[^>]*/>","g"),new h("<(h1|header)[^>]*>.*</\\1>","g"),new h("<table([^>]*)>(.|\n|\n\r)*</table>","gm"),new h('<div class="(seperator|ga-ads)"[^>]*>(.|\n|\n\r)*</div>',"g"),new h("<([^>]*)( [^>]*)?></\\1>","g"),new h("<script[^>/]*/>",
"g"),new h("<script[^>/]*>\x3c/script>","g"),new h('style ?= ?"[^"]*"',"g")];y.HTML_CLEANERS=[{from:new h('<blockquote class="twitter-tweet">(.*)</blockquote>',"g"),to:"$1"},{from:new h("(!|\\.|,|\\?)(^ \n\t\r)","g"),to:"$1 $2"},{from:new h("(!|\\.|,|\\?)( *)","g"),to:"$1 "},{from:new h("(<br></br>|<br/>|<br />)(<br></br>|<br/>|<br />)","g"),to:"<br/>"}];x=new g.ds.StringMap;x.set("adblock","Block advertisements and sponsors");x.set("userinfo","Show information about a user upon hover");x.set("subinfo",
"Show information about a subreddit upon hover");x.set("expand","Allow expansion of images, articles, etc");x.set("text-expand","Allow expansion of images, articles etc found in comments and posts for easy viewing");x.set("dup-hider","Hide duplicate links");x.set("user-tag","Tag users");x.set("sub-tag","Tag subreddits");x.set("preview","Preview comments and posts");x.set("keys","Keyboard shortcuts");x.set("nsfw-filter","Hide NSFW content");k.DESC=x;x=new g.ds.StringMap;x.set("adblock",!0);x.set("userinfo",
!0);x.set("subinfo",!0);x.set("expand",!0);x.set("dup-hider",!0);x.set("text-expand",!0);x.set("user-tag",!0);x.set("sub-tag",!0);x.set("preview",!0);x.set("keys",!0);x.set("nsfw-filter",!1);x.set("user-tags",new g.ds.StringMap);x.set("sub-tags",new g.ds.StringMap);k.DEFAULTS=x;k.data=new g.ds.StringMap;g.Serializer.USE_CACHE=!1;g.Serializer.USE_ENUM_INDEX=!1;g.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.Unserializer.DEFAULT_RESOLVER=B;g.Unserializer.BASE64=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.ds.ObjectMap.count=0;j.main()})();
