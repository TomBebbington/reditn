// ==UserScript==
// @name			Reditn
// @namespace		http://userscripts.org/user/tophattedcoder/
// @description		Reddit tweaks and enhancements.
// @include			reddit.com
// @include			reddit.com/*
// @include			*.reddit.com
// @include			*.reddit.com/*
// @version			1.5.3
// @grant			none
// ==/UserScript==
 
function e(a){throw a;}var g=!0,h=null,k=!1;function l(){return function(){}}var m={};function n(){return p.l.T(this,"")}function q(){}m.Adblock=q;q.e=["Adblock"];
q.i=function(){q.ya(p.c.document.body.getElementsByClassName("promoted"));q.ya(p.c.document.body.getElementsByClassName("infobar"));q.ya(p.c.document.body.getElementsByClassName("goldvertisement"));var a=p.c.document.getElementById("spotlight-help");a!=h&&(a.parentNode.parentNode.style.display="none");a=p.c.document.getElementById("ad-frame");a!=h&&(a.style.display="none")};q.ya=function(a){for(var b=0,c=a.length;b<c;){var d=b++;a[d].style.display="none"}};function r(){}m.DuplicateHider=r;r.e=["DuplicateHider"];
r.i=function(){for(var a=[],b=0,c=s.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&(u.Hb(a,d.href)?d.parentNode.style.display="none":a.push(d.href))}};function w(a,b){b=b.split("u").join("");this.$b=RegExp(a,b)}m.EReg=w;w.e=["EReg"];w.prototype={replace:function(a,b){return a.replace(this.$b,b)},u:w};function x(){}m.Expand=x;x.e=["Expand"];x.Gb=function(){var a;if(x.v)a=[];else{a=[];for(var b=0,c=x.P;b<c.length;){var d=c[b];++b;d.v()&&a.push(d.url)}}return a};
x.fc=function(a){a.length==x.P.length?x.toggle(g):0>=a.length&&x.toggle(k);for(var b=0,c=x.P;b<c.length;){var d=c[b];++b;for(var f=k,j=0;j<a.length;){var t=a[j];++j;f=f||d.url==t}d.toggle(f,k)}};
x.i=function(){x.v="#showall"==p.c.window.location.hash;var a=p.c.document.getElementsByClassName("tabmenu")[0],b=p.c.document.createElement("li");x.button=p.c.document.createElement("a");x.button.href="javascript:void(0);";x.refresh();x.button.onclick=function(){x.toggle(!x.v);p.c.window.history.pushState(y.r.z(s.state()),h,x.v?"#showall":h)};b.appendChild(x.button);a.appendChild(b);a=0;for(b=s.links;a<b.length;){var c=b[a];++a;"a"==c.nodeName.toLowerCase()&&(s.Fb(c.href)==A.X?x.Eb(c.href,c,function(a,
b){var c=b.parentNode.parentNode,t=x.Rb(a),z=p.c.document.createElement("div");z.style.display=x.v?"":"none";c.appendChild(z);z.appendChild(t);t=p.c.document.createElement("li");t.className="reditn-expand";z=x.gc(z,t,a);x.P.push(z);c=c.getElementsByClassName("buttons")[0];c!=h?c.insertBefore(t,c.childNodes[0]):e("Bad DOM");x.refresh()}):x.Wb(c.href))}};
x.refresh=function(){if(x.button!=h){x.button.innerHTML=""+(x.v?"hide":"show")+" images ("+x.P.length+")";var a=p.c.document.body.getElementsByClassName("nextprev");console.log(a);if(0<a.length){for(var b=[],c=0;c<a.length;){var d=a[c];++c;for(var f=0,d=d.getElementsByTagName("a");f<d.length;){var j=d[f];++f;b.push(j)}}for(a=0;a<b.length;)c=b[a],++a,console.log(c),x.v&&-1==c.href.indexOf("#")?c.href+="#showall":!x.v&&-1!=c.href.indexOf("#")&&(c.href=B.substr(c.href,0,c.href.indexOf("#")))}x.button.style.display=
0<x.P.length?"":"none"}};x.toggle=function(a){x.v=a;for(var b=0,c=x.P;b<c.length;){var d=c[b];++b;d.toggle(a,k)}x.refresh()};
x.gc=function(a,b,c){var d=p.c.document.createElement("a");d.style.fontStyle="italic";d.href="javascript:void(0);";d.className="toggle";var f=x.v;d.innerHTML=f?"hide":"show";d.toggle=function(b,c){c==h&&(c=g);f=b==h?!f:b;d.innerHTML=f?"hide":"show";a.style.display=f?"":"none";c&&p.c.window.history.pushState(y.r.z(s.state()),h,h)};d.v=function(){return f};d.url=c;d.onclick=function(){d.toggle()};b.appendChild(d);return d};
x.Eb=function(a,b,c){var d=a;"http://"==B.substr(d,0,7)?d=B.substr(d,7,h):"https://"==B.substr(d,0,8)&&(d=B.substr(d,8,h));"www."==B.substr(d,0,4)&&(d=B.substr(d,4,h));-1!=d.indexOf("&")&&(d=B.substr(d,0,d.indexOf("&")));-1!=d.indexOf("?")&&(d=B.substr(d,0,d.indexOf("?")));"i.imgur.com/"==B.substr(d,0,12)&&3==d.split(".").length?c("http://"+d+".jpg",b):"imgur.com/"==B.substr(d,0,10)?(a=x.ha(B.substr(d,d.indexOf("/")+1,h)),c("http://i.imgur.com/"+a+".jpg",b)):"qkme.me/"==B.substr(d,0,8)?(a=x.ha(B.substr(d,
8,h)),c("http://i.qkme.me/"+a+".jpg",b)):"quickmeme.com/meme/"==B.substr(d,0,19)?(a=x.ha(B.substr(d,19,h)),c("http://i.qkme.me/"+a+".jpg",b)):"memecrunch.com/meme/"==B.substr(d,0,20)?(a=d,"/"!=a.charAt(a.length-1)&&(a+="/"),c("http://"+a+"image.jpg",b)):"memegenerator.net/instance/"==B.substr(d,0,27)?(a=x.ha(B.substr(d,27,h)),c("http://cdn.memegenerator.net/instances/400x/"+a+".jpg",b)):-1!=a.indexOf("deviantart.com/")||-1!=a.indexOf("fav.me")?s.Ya("http://backend.deviantart.com/oembed?url="+C.Z(a)+
"&format=jsonp&callback=",function(a){c(a.url,b)}):C.Ia(d,"flickr.com/photos/")?(a=B.substr(d,18,h),a=B.substr(a,a.indexOf("/")+1,h),a=B.substr(a,0,a.indexOf("/")),s.Ya("http://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key=99dcc3e77bcd8fb489f17e58191f32f7&photo_id="+a+"&format=json&jsoncallback=",function(a){if(!(a.lb==h||a.lb.size==h)){a=a.lb.size;for(var d=h,t=0,z=0;z<a.length;){var v=a[z];++z;var F=D.Ba(v.width)*D.Ba(v.height);if(d==h||F>=t&&F<=(0.6*p.c.window.innerWidth|
0)*(0.7*p.c.window.innerHeight|0))d=v.source,t=F}d==h&&(d=a[0].source);c(d,b)}})):c(a,b)};x.Wb=function(a){var b=p.c.document.createElement("link");b.href=a;b.rel="preload";p.c.document.head.appendChild(b)};
x.Rb=function(a){var b=p.c.document.createElement("img");b.src=a;b.className="resize";x.Lb(b);var c=new y.O(30);c.z=function(){if(0<b.width&&0<b.height){c.stop();if(b.width>(0.6*p.c.window.innerWidth|0)){var a=b.height/b.width;b.width=0.6*p.c.window.innerWidth|0;b.height=b.width*a|0}b.height>(0.7*p.c.window.innerHeight|0)&&(a=b.width/b.height,b.height=0.7*p.c.window.innerHeight|0,b.width=b.height*a|0)}};return b};
x.Lb=function(a){var b=0,c=0,d=1,f=k;a.onmousedown=function(j){f=g;b=a.offsetWidth/j.clientX;c=a.offsetHeight/j.clientY;d=a.offsetWidth/a.offsetHeight;j.preventDefault()};a.onmousemove=function(j){if(f){var t=j.clientX*b,z=t/d,v=j.clientY*c,F=v*d;a.width=(z>v?t:F)|0;a.height=(z>v?z:v)|0}j.preventDefault()};a.onmouseup=a.onmouseout=function(a){f=k;a.preventDefault()}};
x.ha=function(a){return-1!=a.lastIndexOf("?")?B.substr(a,0,a.lastIndexOf("?")):-1!=a.lastIndexOf("/")?B.substr(a,0,a.lastIndexOf("/")):a};function B(){}m.HxOverrides=B;B.e=["HxOverrides"];B.xb=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),f=a.getMinutes(),j=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>f?"0"+f:""+f)+":"+(10>j?"0"+j:""+j)};
B.ic=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:e("Invalid date format : "+a)}};B.sa=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};
B.substr=function(a,b,c){if(b!=h&&0!=b&&c!=h&&0>c)return"";c==h&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};B.ga=function(a){return{Va:0,Sa:a,k:function(){return this.Va<this.Sa.length},next:function(){return this.Sa[this.Va++]}}};function E(){}m.Keyboard=E;E.e=["Keyboard"];E.xa=function(){return E.M==h?h:s.links[E.M]};E.i=function(){p.c.document.onkeydown=function(a){E.Qb(a.keyCode)}};
E.jc=function(){var a=E.xa();a&&(a.parentNode.parentNode.style.border="")};E.za=function(a){E.jc();E.M=E.M!=h&&s.links[E.M+a]?E.M+=a:a=0;E.M==h&&(E.M=0);var b=E.xa().parentNode.parentNode;0==b.offsetLeft&&0==b.offsetTop?E.za(a):(b.style.border="3px solid grey",b.parentNode.scrollIntoView(g),b.focus())};E.show=function(a){a==h&&(a=g);var b=E.xa().parentNode.parentNode;b.getElementsByClassName("toggle")[0].toggle(a);b.scrollIntoView(g);b.focus()};
E.Qb=function(a){switch(a){case 39:E.show(g);break;case 37:E.show(k);break;case 38:E.za(-1);break;case 40:E.za(1)}};function u(){}m.Lambda=u;u.e=["Lambda"];u.Hb=function(a,b){var c;if(a instanceof Array)c=function(){return B.ga(a)};else if("function"==typeof a.Q){c=a.Q;var d=function(){return d.method.apply(d.scope,arguments)};d.scope=a;d.method=c;c=d}else c=a.Q;for(c=c();c.k();)if(c.next()==b)return g;return k};var A=m.LinkType={J:["LinkType"],Oa:["IMAGE","VIDEO","AUDIO","TEXT","UNKNOWN"]};
A.X=["IMAGE",0];A.X.toString=n;A.X.s=A;A.ea=["VIDEO",1];A.ea.toString=n;A.ea.s=A;A.ja=["AUDIO",2];A.ja.toString=n;A.ja.s=A;A.la=["TEXT",3];A.la.toString=n;A.la.s=A;A.da=["UNKNOWN",4];A.da.toString=n;A.da.s=A;function G(){this.length=0}m.List=G;G.e=["List"];G.prototype={Q:function(){return{h:this.h,k:function(){return this.h!=h},next:function(){if(this.h==h)return h;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];this.h==h?this.h=a:this.Zb[1]=a;this.Zb=a;this.length++},u:G};
function H(){}m.Markdown=H;H.e=["Markdown"];H.parse=function(a){for(var b=0,c=H.ac;b<c.length;){var d=c[b];++b;a=d.n.replace(a,d.o)}return C.trim(a)};function I(){}m.NSFWFilter=I;I.e=["NSFWFilter"];I.i=function(){for(var a=p.c.document.body.getElementsByClassName("nsfw-stamp"),b=0;b<a.length;){var c=a[b];++b;"li"==c.nodeName.toLowerCase()&&(c.parentNode.parentNode.parentNode.style.display="none")}};function J(){}m.Preview=J;J.e=["Preview"];
J.i=function(){for(var a=p.c.document.body.getElementsByClassName("usertext-edit"),b=0;b<a.length;){var c=a[b];++b;J.Xb(c)}};J.Xb=function(a){var b=a.getElementsByTagName("textarea")[0];if(b!=h){var c=p.c.document.createElement("div");a.appendChild(c);c.className="md";b.onchange=function(){c.innerHTML=H.parse(b.value)}}};function s(){}m.Reditn=s;s.e=["Reditn"];s.Tb=function(){"complete"==document.readyState?s.i():window.onload=function(){s.i()}};
s.i=function(){if(-1!=p.c.window.location.href.indexOf("reddit.")){s.Wa=0<p.c.document.getElementsByClassName("tabmenu").length;s.links=p.c.document.body.getElementsByClassName("title");for(var a=[],b=0,c=s.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&"parent"!=d.parentNode.className&&a.push(d)}s.links=a;s.A(K.i);s.A(q.i,"adblock");s.A(r.i,"dup-hider");s.Wa&&s.A(x.i,"expand");s.A(E.i,"keys");s.A(J.i,"preview");s.A(L.i,"subinfo");s.A(M.i,"userinfo");s.A(N.i,"user-tag");s.A(O.i,
"sub-tag");s.A(I.i,"nsfw-filter");p.c.window.history.replaceState(y.r.z(s.state()),h,x.v?"#showall":h);p.c.window.onpopstate=function(a){a=a.state;a!=h&&(a=y.p.z(a),x.fc(a.Ab),a.Ra!=x.v&&x.toggle(a.Ra))}}};s.state=function(){return{Ra:x.v,Ab:x.Gb()}};s.A=function(a,b){var c=b==h?h:K.data.get(b);if(b==h||c)try{a()}catch(d){p.c.window.alert("Module "+b+" has failed to load in Reditn due to the following error:\n "+D.f(d)),K.data.set(b,k),K.save()}};
s.ua=function(a){if(Math.Za(a)){var b=D.f(Math.abs(a));if(3<=b.length){for(var c="",d=0,f=b.length;d<f;){var j=d++,c=c+b.charAt(j);0==(b.length-(j+1))%3&&j<b.length-1&&(c+=",")}b=c}a=0>a?"-"+b:b}else a=D.f(a);return a};
s.Qa=function(a){a=y.O.hc()-a;var b=a/86400%30.4375|0,c=a/2629800%12|0;a=a/2629800/12|0;var d="";0<a&&(d+=""+a+" year"+(1>=a?"":"s"));0<c&&(d+=", "+c+" month"+(1>=c?"":"s"));d+=", "+b+" day"+(1>=b?"":"s");for(", "==B.substr(d,0,2)&&(d=B.substr(d,2,h));-1!=d.indexOf(", , ");)d=C.replace(d,", , ",", ");return d};
s.Fb=function(a){"http://"==B.substr(a,0,7)?a=B.substr(a,7,h):"https://"==B.substr(a,0,8)&&(a=B.substr(a,8,h));"www."==B.substr(a,0,4)&&(a=B.substr(a,4,h));if("reddit.com/r/"==B.substr(a,0,13)&&-1!=a.indexOf("/comments/"))a=A.la;else if(a.lastIndexOf(".")!=a.indexOf(".")&&4>=B.substr(a,a.lastIndexOf("."),h).length)switch(B.substr(a,a.lastIndexOf(".")+1,h).toLowerCase()){case "gif":case "jpg":case "jpeg":case "bmp":case "png":case "webp":case "svg":case "ico":case "tiff":case "raw":a=A.X;break;case "mpg":case "webm":case "avi":case "mp4":case "flv":case "swf":a=
A.ea;break;case "mp3":case "wav":case "midi":a=A.ja;break;default:a=A.da}else a=C.Ia(a,"flickr.com/photos/")&&18<a.length||-1!=a.indexOf("deviantart.com/")||"imgur.com/"==B.substr(a,0,10)&&"a/"!=B.substr(a,10,2)||"i.imgur.com/"==B.substr(a,0,12)||"qkme.me/"==B.substr(a,0,8)||"quickmeme.com/meme/"==B.substr(a,0,19)||"memecrunch.com/meme/"==B.substr(a,0,20)||"memegenerator.net/instance/"==B.substr(a,0,27)||C.Ia(a,"fav.me/")?A.X:"youtube.com/watch"==B.substr(a,0,17)?A.ea:A.da;return a};
s.Ya=function(a,b){var c=p.c.document.head,d="temp"+(9999999*Math.random()|0);console.log(d);var f=p.c.document.createElement("script"),j=a+C.Z(d);f.id="jsonp";window[d]=b;console.log("window."+d+" = "+D.f(b));f.type="text/javascript";f.src=j;d=p.c.document.getElementById("jsonp");d!=h&&d.parentNode.removeChild(d);c.appendChild(f)};
s.gb=function(a,b,c,d){d==h&&(d=0);c==h&&(c=0);p.c.document.body.appendChild(b);b.className="popup";b.style.position="absolute";b.style.width=(0.25*p.c.window.innerWidth|0)+"px";b.style.left=""+c+"px";b.style.top=""+d+"px";a.onmouseout=b.onblur=function(){b.parentNode.removeChild(b);a.zc=k}};
s.va=function(a,b){b==h&&(b=0);var c=p.c.document.getElementsByClassName("popup")[0];c!=h&&c.parentNode.removeChild(c);p.c.document.body.appendChild(a);c=p.c.document.createElement("a");c.style.position="absolute";c.style.right=c.style.top="5px";c.innerHTML="<b>Close</b>";c.href="javascript:void(0);";c.onclick=a.onblur=function(){a.parentNode.removeChild(a)};a.appendChild(c);a.className="popup";0!=b&&(a.style.top=""+(b-p.c.window.scrollY)+"px")};function P(){}m.Reflect=P;P.e=["Reflect"];
P.Ib=function(a){return Object.prototype.hasOwnProperty.call(a,"__id__")};P.field=function(a,b){var c=h;try{c=a[b]}catch(d){}return c};P.Bb=function(a){var b=[];if(a!=h){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&c.call(a,d)&&b.push(d)}return b};P.Mb=function(a){return"function"==typeof a&&!(a.e||a.J)};P.yb=function(a){P.Ib(a)&&delete a.__id__};var y={g:{}};y.g.q=function(){this.h={}};m["haxe.ds.StringMap"]=y.g.q;y.g.q.e=["haxe","ds","StringMap"];
y.g.q.prototype={toString:function(){var a=new Q;a.a+="{";for(var b=this.keys();b.k();){var c=b.next();a.a+=D.f(c);a.a+=" => ";a.a+=D.f(D.f(this.get(c)));b.k()&&(a.a+=", ")}a.a+="}";return a.a},Q:function(){return{Y:this.h,N:this.keys(),k:function(){return this.N.k()},next:function(){var a=this.N.next();return this.Y["$"+a]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return B.ga(a)},U:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+
a]},set:function(a,b){this.h["$"+a]=b},u:y.g.q};function K(){}m.Settings=K;K.e=["Settings"];K.Aa=function(){for(var a=new y.g.q,b=K.data.keys();b.k();){var c=b.next(),d=K.data.get(c);K.aa.get(c)!=d&&a.set(c,d)}return y.r.z(a)};K.save=function(){y.r.Na=k;p.c.window.localStorage.setItem("reditn",K.Aa())};
K.i=function(){var a=p.c.window.localStorage.getItem("reditn");if(a!=h){var b;try{b=y.p.z(a)}catch(c){b=K.data}K.data=b}K.ta();a=p.c.document.getElementById("header-bottom-right");b=a.getElementsByTagName("ul")[0];var d=p.c.document.createElement("a");d.innerHTML="reditn";d.className="pref-lang";d.href="javascript:void(0);";d.onclick=function(){K.Ha()};b==h?a.appendChild(d):a.insertBefore(d,b);d=p.c.document.createElement("span");d.innerHTML=" | ";d.className="seperator";d.style.fontWeight="none";
a.insertBefore(d,b)};
K.Ha=function(){var a=p.c.document.getElementById("reditn-config");a!=h&&a.parentNode.removeChild(a);var a=p.c.document.createElement("div"),b=p.c.document.createElement("h1");b.innerHTML="Reditn settings";a.appendChild(b);s.va(a);var c=p.c.document.createElement("form");c.id="reditn-config";c.action="javascript:void(0);";c.onchange=function(){for(var a=c.childNodes,b=0;b<a.length;){var d=a[b];++b;if("button"!=d.type&&"input"==d.nodeName.toLowerCase()){var f=void 0;switch(d.type.toLowerCase()){case "checkbox":f=d.checked;
break;default:f=d.value}K.data.set(d.name,f)}}K.save()};b=p.c.document.createElement("input");b.type="button";b.value="Restore default settings";b.onclick=function(){K.ta(g);K.save();K.Ha()};c.appendChild(b);b=K.ab("Export settings to text",function(){p.c.window.alert(p.c.window.btoa(K.Aa()))});c.appendChild(b);b=K.ab("Import settings",function(){K.data=y.p.z(p.c.window.atob(p.c.window.prompt("Settings to import",p.c.window.btoa(K.Aa()))));K.ta();K.save();K.Ha()});c.appendChild(b);c.appendChild(p.c.document.createElement("br"));
for(b=K.data.keys();b.k();){var d=b.next(),f=K.data.get(d);if(!p.l.L(f,y.g.q)&&K.La.U(d)){var j=K.La.get(d),t=p.c.document.createElement("label");t.setAttribute("for",d);t.style.position="absolute";t.style.width="46%";t.style.textAlign="right";t.innerHTML=""+j+" ";c.appendChild(t);j=p.c.document.createElement("input");j.style.position="absolute";j.style.left="54%";j.style.textAlign="left";j.style.width="46%";j.name=d;c.appendChild(j);c.appendChild(p.c.document.createElement("br"));j.type=p.l.L(f,
R)?"checkbox":p.l.L(f,String)?"text":p.l.L(f,Date)?"datetime":p.l.L(f,S)?"number":h;p.l.L(f,R)?j.checked=K.data.get(d):j.value=K.data.get(d)}}b=p.c.document.createElement("div");b.style.fontWeight="bold";b.innerHTML="Close this dialog and refresh the page to see your changes in effect. Changes will be saved automatically.";c.appendChild(b);a.appendChild(c)};K.ab=function(a,b){var c=p.c.document.createElement("input");c.type="button";c.value=a;c.onclick=b;return c};
K.ta=function(a){a==h&&(a=k);for(var b=K.aa.keys();b.k();){var c=b.next();if(a||!K.data.U(c))K.data.set(c,p.l.L(K.aa.get(c),y.g.q)?new y.g.q:K.aa.get(c))}};function D(){}m.Std=D;D.e=["Std"];D.f=function(a){return p.l.T(a,"")};D.Ba=function(a){var b=parseInt(a,10);if(0==b&&(120==B.sa(a,1)||88==B.sa(a,1)))b=parseInt(a);return isNaN(b)?h:b};D.eb=function(a){return parseFloat(a)};function Q(){this.a=""}m.StringBuf=Q;Q.e=["StringBuf"];
Q.prototype={Pa:function(a,b,c){this.a+=c==h?B.substr(a,b,h):B.substr(a,b,c)},u:Q};function C(){}m.StringTools=C;C.e=["StringTools"];C.Z=function(a){return encodeURIComponent(a)};C.kc=function(a){return decodeURIComponent(a.split("+").join(" "))};C.fa=function(a){return a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};C.Ia=function(a,b){return a.length>=b.length&&B.substr(a,0,b.length)==b};C.$a=function(a,b){var c=B.sa(a,b);return 8<c&&14>c||32==c};
C.Sb=function(a){for(var b=a.length,c=0;c<b&&C.$a(a,c);)c++;return 0<c?B.substr(a,c,b-c):a};C.cc=function(a){for(var b=a.length,c=0;c<b&&C.$a(a,b-c-1);)c++;return 0<c?B.substr(a,0,b-c):a};C.trim=function(a){return C.Sb(C.cc(a))};C.replace=function(a,b,c){return a.split(b).join(c)};function L(){}m.SubredditInfo=L;L.e=["SubredditInfo"];L.i=function(){for(var a=p.c.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=L.sb}};
L.sb=function(a){var b=a.target,c=b.innerHTML;a=p.c.document.createElement("div");s.gb(b,a,b.offsetLeft+b.offsetWidth,b.offsetTop);var d=y.B.parse(y.H.hb("/r/"+c+"/about.json"));d.data!=h&&(d=d.data);var f=s.ua(d.Ac),b=H.parse(d.Yb==h?d.description:d.Yb),d=s.Qa(d.wb),c="<b>Name:</b> "+c+"<br>"+("<b>Subscribers:</b> "+f+"<br>"),c=c+("<b>Description:</b> "+b+"<br>"),c=c+("<b>Age:</b> "+d+"<br>");a.innerHTML=c};function O(){}m.SubredditTagger=O;O.e=["SubredditTagger"];
O.i=function(){for(var a=p.c.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=a[b];++b;O.wa(c)}};
O.wa=function(a){var b=p.c.document.createElement("span"),c=C.trim(a.innerHTML),d=K.data.get("sub-tags").U(c)?K.data.get("sub-tags").get(c):h;b.className="flair";var f=p.c.document.createElement("span");f.innerHTML=d==h?"":C.fa(d)+" ";b.appendChild(f);var j=p.c.document.createElement("a");j.href="javascript:void(0);";j.innerHTML="[+]";b.appendChild(j);j.onclick=function(){var a=p.c.document.createElement("div"),b=p.c.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+
c+" ";a.appendChild(b);var v=p.c.document.createElement("input");v.name="tag-change";v.value=d;v.style.width="100%";v.onchange=function(){K.data.get("sub-tags").set(c,v.value);f.innerHTML=C.fa(v.value)+" ";K.save()};a.appendChild(v);s.va(a,j.offsetTop+j.offsetHeight);v.focus()};a.parentNode.insertBefore(b,a.nextSibling)};var T=m.ValueType={J:["ValueType"],Oa:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};T.ba=["TNull",0];T.ba.toString=n;T.ba.s=T;T.oa=["TInt",1];
T.oa.toString=n;T.oa.s=T;T.ma=["TFloat",2];T.ma.toString=n;T.ma.s=T;T.ka=["TBool",3];T.ka.toString=n;T.ka.s=T;T.ca=["TObject",4];T.ca.toString=n;T.ca.s=T;T.na=["TFunction",5];T.na.toString=n;T.na.s=T;T.Ma=function(a){a=["TClass",6,a];a.s=T;a.toString=n;return a};T.qb=function(a){a=["TEnum",7,a];a.s=T;a.toString=n;return a};T.pa=["TUnknown",8];T.pa.toString=n;T.pa.s=T;function U(){}m.Type=U;U.e=["Type"];U.Xa=function(a){return a.e.join(".")};U.Db=function(a){return a.J.join(".")};
U.Da=function(a){a=m[a];return a==h||!a.e?h:a};U.Ea=function(a){a=m[a];return a==h||!a.J?h:a};U.Ta=function(a){function b(){}b.prototype=a.prototype;return new b};U.Ua=function(a,b,c){var d=P.field(a,b);d==h&&e("No such constructor "+b);if(P.Mb(d))return c==h&&e("Constructor "+b+" need parameters"),d.apply(a,c);c!=h&&0!=c.length&&e("Constructor "+b+" does not need parameters");return d};U.Cb=function(a){return a.Oa.slice()};
U["typeof"]=function(a){switch(typeof a){case "boolean":return T.ka;case "string":return T.Ma(String);case "number":return Math.ceil(a)==a%2147483648?T.oa:T.ma;case "object":if(a==h)return T.ba;var b=a.s;if(b!=h)return T.qb(b);a=a.u;return a!=h?T.Ma(a):T.ca;case "function":return a.e||a.J?T.ca:T.na;case "undefined":return T.ba;default:return T.pa}};function M(){}m.UserInfo=M;M.e=["UserInfo"];
M.i=function(){for(var a=p.c.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=M.tb}};
M.tb=function(a){var b=a.target,c=b.innerHTML,c=B.substr(c,c.lastIndexOf("/")+1,h);a=p.c.document.createElement("div");s.gb(b,a,b.offsetLeft+b.offsetWidth,b.offsetTop);b=y.B.parse(y.H.hb("/user/"+c+"/about.json"));b.data!=h&&(b=b.data);var c="<b>User:</b> "+D.f(b.name)+"<br>",d=s.Qa(b.wb),c=c+("<b>Account age:</b> "+d+"<br>")+("<b>Karma:</b> "+s.ua(b.yc)+" link karma, "+s.ua(b.wc)+" comment karma");b.Pb!=h&&b.Pb&&(c+="<br><b>Moderator</b>");b.Ob!=h&&b.Ob&&(c+="<br><b>Gold</b>");a.innerHTML=c};
function N(){}m.UserTagger=N;N.e=["UserTagger"];N.i=function(){for(var a=p.c.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;N.wa(c)}};
N.wa=function(a){var b=p.c.document.createElement("span"),c=C.trim(a.innerHTML),d=K.data.get("user-tags").U(c)?K.data.get("user-tags").get(c):h;b.className="flair";var f=p.c.document.createElement("span");f.innerHTML=d==h?"":C.fa(d)+" ";b.appendChild(f);var j=p.c.document.createElement("a");j.href="javascript:void(0);";j.innerHTML="[+]";b.appendChild(j);j.onclick=function(){var a=p.c.document.createElement("div"),b=p.c.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML=
"Tag for "+c+" ";a.appendChild(b);var v=p.c.document.createElement("input");v.name="tag-change";v.value=d;v.style.width="100%";v.onchange=function(){K.data.get("user-tags").set(c,v.value);f.innerHTML=C.fa(v.value)+" ";K.save()};a.appendChild(v);s.va(a,j.offsetTop+j.offsetHeight);v.focus()};a.parentNode.insertBefore(b,a.nextSibling)};y.H=function(a){this.url=a;this.headers=new y.g.q;this.cb=new y.g.q;this.async=g};m["haxe.Http"]=y.H;y.H.e=["haxe","Http"];
y.H.hb=function(a){a=new y.H(a);a.async=k;var b=h;a.bb=function(a){b=a};a.W=function(a){e(a)};a.bc(k);return b};
y.H.prototype={W:l(),bb:l(),bc:function(a){function b(){if(4==d.readyState){var a;try{a=d.status}catch(b){a=h}void 0==a&&(a=h);if(a!=h&&200<=a&&400>a)c.bb(c.ib=d.responseText);else if(a==h)c.W("Failed to connect or resolve host");else switch(a){case 12029:c.W("Failed to connect to host");break;case 12007:c.W("Unknown host");break;default:c.ib=d.responseText,c.W("Http Error #"+d.status)}}}var c=this;c.ib=h;var d=p.c.vb();this.async&&(d.onreadystatechange=b);var f=this.Vb;if(f!=h)a=g;else for(var j=
this.cb.keys();j.k();)var t=j.next(),f=f==h?"":f+"&",f=f+(C.Z(t)+"="+C.Z(this.cb.get(t)));try{a?d.open("POST",this.url,this.async):f!=h?(d.open("GET",this.url+(1>=this.url.split("?").length?"?":"&")+f,this.async),f=h):d.open("GET",this.url,this.async)}catch(z){this.W(z.toString());return}this.headers.get("Content-Type")==h&&(a&&this.Vb==h)&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.keys();a.k();)j=a.next(),d.setRequestHeader(j,this.headers.get(j));d.send(f);
this.async||b()},u:y.H};y.B=l();m["haxe.Json"]=y.B;y.B.e=["haxe","Json"];y.B.parse=function(a){return(new y.B).zb(a)};
y.B.prototype={Ub:function(a){for(var b=this.d-1,c=45==a,d=!c,f=48==a,j=k,t=k,z=k,v=k;;){a=this.m.charCodeAt(this.d++);switch(a){case 48:f&&!j&&this.V(b);c&&(c=k,f=g);d=g;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f&&!j&&this.V(b);c&&(c=k);d=g;f=k;break;case 46:(c||j)&&this.V(b);d=k;j=g;break;case 101:case 69:(c||f||t)&&this.V(b);d=k;t=g;break;case 43:case 45:(!t||z)&&this.V(b);d=k;z=g;break;default:d||this.V(b),this.d--,v=g}if(v)break}a=D.eb(B.substr(this.m,b,this.d-
b));b=a|0;return b==a?b:a},V:function(a){e("Invalid number at position "+a+": "+B.substr(this.m,a,this.d-a))},fb:function(){for(var a=this.d,b=new Q;;){var c=this.m.charCodeAt(this.d++);if(34==c)break;if(92==c){b.Pa(this.m,a,this.d-a-1);c=this.m.charCodeAt(this.d++);switch(c){case 114:b.a+="\r";break;case 110:b.a+="\n";break;case 116:b.a+="\t";break;case 98:b.a+="\b";break;case 102:b.a+="\f";break;case 47:case 92:case 34:b.a+=String.fromCharCode(c);break;case 117:a=D.Ba("0x"+B.substr(this.m,this.d,
4));this.d+=4;b.a+=String.fromCharCode(a);break;default:e("Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.d-1))}a=this.d}else c!=c&&e("Unclosed string")}b.Pa(this.m,a,this.d-a-1);return b.a},Ca:function(){for(;;){var a=this.m.charCodeAt(this.d++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=h,a=h;;){var d=this.m.charCodeAt(this.d++);switch(d){case 32:case 13:case 10:case 9:break;case 125:return(c!=h||a==k)&&this.w(),b;case 58:c==h&&this.w();b[c]=
this.Ca();c=h;a=g;break;case 44:a?a=k:this.w();break;case 34:a&&this.w();c=this.fb();break;default:this.w()}}break;case 91:b=[];for(a=h;;)switch(d=this.m.charCodeAt(this.d++),d){case 32:case 13:case 10:case 9:break;case 93:return a==k&&this.w(),b;case 44:a?a=k:this.w();break;default:a&&this.w(),this.d--,b.push(this.Ca()),a=g}break;case 116:a=this.d;if(114!=this.m.charCodeAt(this.d++)||117!=this.m.charCodeAt(this.d++)||101!=this.m.charCodeAt(this.d++))this.d=a,this.w();return g;case 102:a=this.d;if(97!=
this.m.charCodeAt(this.d++)||108!=this.m.charCodeAt(this.d++)||115!=this.m.charCodeAt(this.d++)||101!=this.m.charCodeAt(this.d++))this.d=a,this.w();return k;case 110:a=this.d;if(117!=this.m.charCodeAt(this.d++)||108!=this.m.charCodeAt(this.d++)||108!=this.m.charCodeAt(this.d++))this.d=a,this.w();return h;case 34:return this.fb();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.Ub(a);default:this.w()}}},w:function(){this.d--;e("Invalid char "+this.m.charCodeAt(this.d)+
" at position "+this.d)},zb:function(a){this.m=a;this.d=0;return this.Ca()},u:y.B};y.r=function(){this.b=new Q;this.j=[];this.Ja=y.r.Na;this.ob=y.r.rb;this.kb=new y.g.q;this.dc=0};m["haxe.Serializer"]=y.r;y.r.e=["haxe","Serializer"];y.r.z=function(a){var b=new y.r;b.F(a);return b.toString()};
y.r.prototype={F:function(a){var b=U["typeof"](a);switch(b[1]){case 0:this.b.a+="n";break;case 1:if(0==a){this.b.a+="z";break}this.b.a+="i";this.b.a+=D.f(a);break;case 2:Math.Nb(a)?this.b.a+="k":Math.Za(a)?(this.b.a+="d",this.b.a+=D.f(a)):this.b.a+=D.f(0>a?"m":"p");break;case 3:this.b.a+=D.f(a?"t":"f");break;case 6:b=b[2];if(b==String){this.R(a);break}if(this.Ja&&this.Ga(a))break;switch(b){case Array:var c=0;this.b.a+="a";for(var d=a.length,f=0;f<d;)b=f++,a[b]==h?c++:(0<c&&(1==c?this.b.a+="n":(this.b.a+=
"u",this.b.a+=D.f(c)),c=0),this.F(a[b]));0<c&&(1==c?this.b.a+="n":(this.b.a+="u",this.b.a+=D.f(c)));this.b.a+="h";break;case G:this.b.a+="l";for(a=a.Q();a.k();)b=a.next(),this.F(b);this.b.a+="h";break;case Date:this.b.a+="v";this.b.a+=D.f(B.xb(a));break;case y.g.q:this.b.a+="b";for(c=a.keys();c.k();)b=c.next(),this.R(b),this.F(a.get(b));this.b.a+="h";break;case y.g.S:this.b.a+="q";for(c=a.keys();c.k();)b=c.next(),this.b.a+=":",this.b.a+=D.f(b),this.F(a.get(b));this.b.a+="h";break;case y.g.I:this.b.a+=
"M";for(c=a.keys();c.k();)b=c.next(),d=P.field(b,"__id__"),P.yb(b),this.F(b),b.K=d,this.F(a.h[b.K]);this.b.a+="h";break;case y.C.G:b=0;c=a.length-2;d=new Q;for(f=y.r.$;b<c;){var j=a.a[b++],t=a.a[b++],z=a.a[b++];d.a+=D.f(f.charAt(j>>2));d.a+=D.f(f.charAt((j<<4|t>>4)&63));d.a+=D.f(f.charAt((t<<2|z>>6)&63));d.a+=D.f(f.charAt(z&63))}b==c?(j=a.a[b++],t=a.a[b++],d.a+=D.f(f.charAt(j>>2)),d.a+=D.f(f.charAt((j<<4|t>>4)&63)),d.a+=D.f(f.charAt(t<<2&63))):b==c+1&&(j=a.a[b++],d.a+=D.f(f.charAt(j>>2)),d.a+=D.f(f.charAt(j<<
4&63)));b=d.a;this.b.a+="s";this.b.a+=D.f(b.length);this.b.a+=":";this.b.a+=D.f(b);break;default:this.j.pop(),a.Jb!=h?(this.b.a+="C",this.R(U.Xa(b)),this.j.push(a),a.Jb(this),this.b.a+="g"):(this.b.a+="c",this.R(U.Xa(b)),this.j.push(a),this.jb(a))}break;case 4:if(this.Ja&&this.Ga(a))break;this.b.a+="o";this.jb(a);break;case 7:b=b[2];if(this.Ja&&this.Ga(a))break;this.j.pop();this.b.a+=D.f(this.ob?"j":"w");this.R(U.Db(b));this.ob?(this.b.a+=":",this.b.a+=D.f(a[1])):this.R(a[0]);this.b.a+=":";d=a.length;
this.b.a+=D.f(d-2);for(f=2;f<d;)b=f++,this.F(a[b]);this.j.push(a);break;case 5:e("Cannot serialize function");default:e("Cannot serialize "+D.f(a))}},jb:function(a){for(var b=0,c=P.Bb(a);b<c.length;){var d=c[b];++b;this.R(d);this.F(P.field(a,d))}this.b.a+="g"},Ga:function(a){for(var b=typeof a,c=0,d=this.j.length;c<d;){var f=c++,j=this.j[f];if(typeof j==b&&j==a)return this.b.a+="r",this.b.a+=D.f(f),g}this.j.push(a);return k},R:function(a){var b=this.kb.get(a);b!=h?(this.b.a+="R",this.b.a+=D.f(b)):
(this.kb.set(a,this.dc++),this.b.a+="y",a=C.Z(a),this.b.a+=D.f(a.length),this.b.a+=":",this.b.a+=D.f(a))},toString:function(){return this.b.a},u:y.r};y.O=function(a){var b=this;this.id=setInterval(function(){b.z()},a)};m["haxe.Timer"]=y.O;y.O.e=["haxe","Timer"];y.O.hc=function(){return(new Date).getTime()/1E3};y.O.prototype={z:function(){console.log("run")},stop:function(){this.id!=h&&(clearInterval(this.id),this.id=h)},u:y.O};
y.p=function(a){this.b=a;this.length=a.length;this.d=0;this.Fa=[];this.j=[];a=y.p.Ka;a==h&&(a=U,y.p.Ka=a);this.ec(a)};m["haxe.Unserializer"]=y.p;y.p.e=["haxe","Unserializer"];y.p.Kb=function(){for(var a=[],b=0,c=y.p.$.length;b<c;){var d=b++;a[y.p.$.charCodeAt(d)]=d}return a};y.p.z=function(a){return(new y.p(a)).t()};
y.p.prototype={t:function(){switch(this.b.charCodeAt(this.d++)){case 110:return h;case 116:return g;case 102:return k;case 122:return 0;case 105:return this.D();case 100:for(var a=this.d;;){var b=this.b.charCodeAt(this.d);if(43<=b&&58>b||101==b||69==b)this.d++;else break}return D.eb(B.substr(this.b,a,this.d-a));case 121:return b=this.D(),(58!=this.b.charCodeAt(this.d++)||this.length-this.d<b)&&e("Invalid string length"),a=B.substr(this.b,this.d,b),this.d+=b,a=C.kc(a),this.Fa.push(a),a;case 107:return Math.NaN;
case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.b,a=[];for(this.j.push(a);;){b=this.b.charCodeAt(this.d);if(104==b){this.d++;break}117==b?(this.d++,b=this.D(),a[a.length+b-1]=h):a.push(this.t())}return a;case 111:return b={},this.j.push(b),this.nb(b),b;case 114:return b=this.D(),(0>b||b>=this.j.length)&&e("Invalid reference"),this.j[b];case 82:return b=this.D(),(0>b||b>=this.Fa.length)&&e("Invalid string reference"),this.Fa[b];case 120:e(this.t());
case 99:return b=this.t(),a=this.ia.Da(b),a==h&&e("Class not found "+b),b=U.Ta(a),this.j.push(b),this.nb(b),b;case 119:return b=this.t(),a=this.ia.Ea(b),a==h&&e("Enum not found "+b),b=this.mb(a,this.t()),this.j.push(b),b;case 106:b=this.t();a=this.ia.Ea(b);a==h&&e("Enum not found "+b);this.d++;var c=this.D(),d=U.Cb(a)[c];d==h&&e("Unknown enum index "+b+"@"+c);b=this.mb(a,d);this.j.push(b);return b;case 108:b=new G;for(this.j.push(b);104!=this.b.charCodeAt(this.d);)b.add(this.t());this.d++;return b;
case 98:c=new y.g.q;for(this.j.push(c);104!=this.b.charCodeAt(this.d);)a=this.t(),c.set(a,this.t());this.d++;return c;case 113:c=new y.g.S;this.j.push(c);for(b=this.b.charCodeAt(this.d++);58==b;)a=this.D(),c.set(a,this.t()),b=this.b.charCodeAt(this.d++);104!=b&&e("Invalid IntMap format");return c;case 77:c=new y.g.I;for(this.j.push(c);104!=this.b.charCodeAt(this.d);)a=this.t(),c.set(a,this.t());this.d++;return c;case 118:return b=B.ic(B.substr(this.b,this.d,19)),this.j.push(b),this.d+=19,b;case 115:b=
this.D();c=this.b;(58!=this.b.charCodeAt(this.d++)||this.length-this.d<b)&&e("Invalid bytes length");d=y.p.pb;d==h&&(d=y.p.Kb(),y.p.pb=d);for(var a=this.d,f=b&3,j=a+(b-f),t=y.C.G.ub(3*(b>>2)+(2<=f?f-1:0)),z=0;a<j;){var v=d[c.charCodeAt(a++)],F=d[c.charCodeAt(a++)];t.a[z++]=(v<<2|F>>4)&255;v=d[c.charCodeAt(a++)];t.a[z++]=(F<<4|v>>2)&255;F=d[c.charCodeAt(a++)];t.a[z++]=(v<<6|F)&255}2<=f&&(v=d[c.charCodeAt(a++)],F=d[c.charCodeAt(a++)],t.a[z++]=(v<<2|F>>4)&255,3==f&&(v=d[c.charCodeAt(a++)],t.a[z++]=(F<<
4|v>>2)&255));this.d+=b;this.j.push(t);return t;case 67:return b=this.t(),a=this.ia.Da(b),a==h&&e("Class not found "+b),b=U.Ta(a),this.j.push(b),b.xc(this),103!=this.b.charCodeAt(this.d++)&&e("Invalid custom data"),b}this.d--;e("Invalid char "+this.b.charAt(this.d)+" at position "+this.d)},mb:function(a,b){58!=this.b.charCodeAt(this.d++)&&e("Invalid enum format");var c=this.D();if(0==c)return U.Ua(a,b);for(var d=[];0<c--;)d.push(this.t());return U.Ua(a,b,d)},nb:function(a){for(;;){this.d>=this.length&&
e("Invalid object");if(103==this.b.charCodeAt(this.d))break;var b=this.t();p.l.L(b,String)||e("Invalid object key");var c=this.t();a[b]=c}this.d++},D:function(){for(var a=0,b=k,c=this.d;;){var d=this.b.charCodeAt(this.d);if(d!=d)break;if(45==d){if(this.d!=c)break;b=g}else{if(48>d||57<d)break;a=10*a+(d-48)}this.d++}b&&(a*=-1);return a},ec:function(a){this.ia=a==h?{Da:function(){return h},Ea:function(){return h}}:a},u:y.p};y.g.S=function(){this.h={}};m["haxe.ds.IntMap"]=y.g.S;y.g.S.e=["haxe","ds","IntMap"];
y.g.S.prototype={toString:function(){var a=new Q;a.a+="{";for(var b=this.keys();b.k();){var c=b.next();a.a+=D.f(c);a.a+=" => ";a.a+=D.f(D.f(this.get(c)));b.k()&&(a.a+=", ")}a.a+="}";return a.a},Q:function(){return{Y:this.h,N:this.keys(),k:function(){return this.N.k()},next:function(){var a=this.N.next();return this.Y[a]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return B.ga(a)},U:function(a){return this.h.hasOwnProperty(a)},get:function(a){return this.h[a]},
set:function(a,b){this.h[a]=b},u:y.g.S};y.g.I=function(){this.h={};this.h.ra={}};m["haxe.ds.ObjectMap"]=y.g.I;y.g.I.e=["haxe","ds","ObjectMap"];
y.g.I.prototype={toString:function(){var a=new Q;a.a+="{";for(var b=this.keys();b.k();){var c=b.next();a.a+=D.f(D.f(c));a.a+=" => ";a.a+=D.f(D.f(this.h[c.K]));b.k()&&(a.a+=", ")}a.a+="}";return a.a},Q:function(){return{Y:this.h,N:this.keys(),k:function(){return this.N.k()},next:function(){var a=this.N.next();return this.Y[a.K]}}},keys:function(){var a=[],b;for(b in this.h.ra)this.h.hasOwnProperty(b)&&a.push(this.h.ra[b]);return B.ga(a)},U:function(a){return this.h.hasOwnProperty(a.K)},get:function(a){return this.h[a.K]},
set:function(a,b){var c=a.K!=h?a.K:a.K=++y.g.I.count;this.h[c]=b;this.h.ra[c]=a},u:y.g.I};y.C={};y.C.G=function(a,b){this.length=a;this.a=b};m["haxe.io.Bytes"]=y.C.G;y.C.G.e=["haxe","io","Bytes"];y.C.G.ub=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new y.C.G(a,b)};y.C.G.prototype={u:y.C.G};var p={l:l()};m["js.Boot"]=p.l;p.l.e=["js","Boot"];
p.l.T=function(a,b){if(a==h)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.e||a.J))c="object";switch(c){case "object":if(a instanceof Array){if(a.s){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,f=a.length;d<f;)var j=d++,c=2!=j?c+(","+p.l.T(a[j],b)):c+p.l.T(a[j],b);return c+")"}d=a.length;c="[";b+="\t";for(f=0;f<d;)j=f++,c+=(0<j?",":"")+p.l.T(a[j],b);return c+"]"}try{f=a.toString}catch(t){return"???"}if(f!=h&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=
c))return c;f=h;c="{\n";b+="\t";d=a.hasOwnProperty!=h;for(f in a)if(!d||a.hasOwnProperty(f))"prototype"==f||("__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f)||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+p.l.T(a[f],b));b=b.substring(1);return c+="\n"+b+"}";case "function":return"<function>";case "string":return a;default:return String(a)}};
p.l.qa=function(a,b){if(a==h)return k;if(a==b)return g;var c=a.uc;if(c!=h)for(var d=0,f=c.length;d<f;){var j=d++,j=c[j];if(j==b||p.l.qa(j,b))return g}return p.l.qa(a.vc,b)};
p.l.L=function(a,b){try{if(a instanceof b)return b==Array?a.s==h:g;if(p.l.qa(a.u,b))return g}catch(c){if(b==h)return k}switch(b){case S:return Math.ceil(a%2147483648)===a;case V:return"number"==typeof a;case R:return a===g||a===k;case String:return"string"==typeof a;case W:return g;default:if(a==h)return k;if(b==X&&a.e!=h)return g;h;if(b==Y&&a.J!=h)return g;h;return a.s==b}};p.c=l();m["js.Browser"]=p.c;p.c.e=["js","Browser"];
p.c.vb=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");e("Unable to create XMLHttpRequest object.")};Math.e=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;m.sc=Math;Math.Za=function(a){return isFinite(a)};Math.Nb=function(a){return isNaN(a)};String.prototype.u=m.tc=String;String.e=["String"];
Array.prototype.u=m.lc=Array;Array.e=["Array"];Date.prototype.u=m.oc=Date;Date.e=["Date"];var S=m.rc={e:["Int"]},W=m.pc={e:["Dynamic"]},V=m.qc=Number;V.e=["Float"];var R=m.mc=Boolean;R.J=["Bool"];var X=m.nc={e:["Class"]},Y={};"undefined"!=typeof JSON&&(y.B=JSON);x.P=[];
H.ac=[{n:new w("\\x3E ([^\n]+)","g"),o:"<blockquote>$1</blockquote>"},{n:new w("___([^___]+)___","g"),o:"<b><i>$1</i></b>"},{n:new w("\\*\\*([^\\*\\*|\\*]+)\\*\\*","g"),o:"<b>$1</b>"},{n:new w("__([^__|_]+)__","g"),o:"<b>$1</b>"},{n:new w("\\*([^\\*|\\*\\*]+)\\*","g"),o:"<i>$1</i>"},{n:new w("_([^_|__]+)_","g"),o:"<i>$1</i>"},{n:new w("\\[([^\\]]+)\\]\\(([^\\)]+)\\)","g"),o:'<a href="$2">$1</a>'},{n:new w("(.*?)\n\\x3D=*","g"),o:"<h2>$1</h2>"},{n:new w("(.*?)\n\\x2D-*","g"),o:"<h3>$1</h3>"},{n:new w("\\x23\\x23\\x23\\x23\\x23\\x23([^\n]+)\n",
"g"),o:"<h6>$1</h6>"},{n:new w("\\x23\\x23\\x23\\x23\\x23([^\n]+)\n","g"),o:"<h5>$1/h5>"},{n:new w("\\x23\\x23\\x23\\x23([^\n]+)\n","g"),o:"<h4>$1</h4>"},{n:new w("\\x23\\x23\\x23([^\n]+)\n","g"),o:"<h3>$1</h3>"},{n:new w("\\x23\\x23([^\n]+)\n","g"),o:"<h2>$1</h2>"},{n:new w("\\x23([^\n]+)\n","g"),o:"<h1>$1</h1>"},{n:new w("\n?([^\n]+)\n\n","g"),o:"<p>$1</p>"},{n:new w("\n?([^\n]+)\n","g"),o:"$1 "},{n:new w("\n[\\+\\*\\-] ([^\n]+)","g"),o:"<li><p>$1</p></li>"},{n:new w("\n[0-9]*[.\\):]([^\n]+)","g"),
o:"<li><p>$1</p></li>"},{n:new w("\\x3Cli\\x3E([^\n+]+)\\x3C/li\\x3E",""),o:"<ul><li>$1</li></ul>"}];s.Wa=g;var Z=new y.g.q;Z.set("adblock","Block advertisements and sponsors");Z.set("userinfo","Show information about a user upon hover");Z.set("subinfo","Show information about a subreddit upon hover");Z.set("expand","Allow expansion of images");Z.set("dup-hider","Hide duplicate links");Z.set("user-tag","Tag users");Z.set("sub-tag","Tag subreddits");Z.set("preview","Preview comments and posts");
Z.set("keys","Keyboard shortcuts");Z.set("nsfw-filter","Hide NSFW content");K.La=Z;var $=new y.g.q;$.set("adblock",g);$.set("userinfo",g);$.set("subinfo",g);$.set("expand",g);$.set("dup-hider",g);$.set("user-tag",g);$.set("sub-tag",g);$.set("preview",g);$.set("keys",g);$.set("nsfw-filter",g);$.set("user-tags",new y.g.q);$.set("sub-tags",new y.g.q);K.aa=$;K.data=new y.g.q;y.r.Na=k;y.r.rb=k;y.r.$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";y.p.Ka=U;y.p.$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
y.g.I.count=0;p.c.window="undefined"!=typeof window?window:h;p.c.document="undefined"!=typeof window?window.document:h;s.Tb();
