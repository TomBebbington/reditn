(function(){var m={},B=function(){return f.Boot.__string_rec(this,"")},C=function(){};m.Adblock=C;C.__name__=["Adblock"];C.init=function(){C.hideAll(f.Browser.document.body.getElementsByClassName("promoted"));C.hideAll(f.Browser.document.body.getElementsByClassName("infobar"));C.hideAll(f.Browser.document.body.getElementsByClassName("goldvertisement"));var a=f.Browser.document.getElementById("spotlight-help");null!=a&&h.show(a.parentNode.parentNode,!1);a=f.Browser.document.getElementById("ad-frame");
null!=a&&(a.style.display="none",-1!=a.className.indexOf("link")&&k.remove(h.links,a.getElementsByClassName("entry")[0].getElementsByTagName("a")[0]))};C.hideAll=function(a){for(var b=0,c=a.length;b<c;){var d=b++;h.show(a[d],!1)}};var K=function(){};m.DuplicateHider=K;K.__name__=["DuplicateHider"];K.init=function(){for(var a=[],b=0,c=h.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&(L.has(a,d.href)?h.show(d.parentNode.parentNode.parentNode,!1):a.push(d.href))}};var g=function(a,
b){b=b.split("u").join("");this.r=RegExp(a,b)};m.EReg=g;g.__name__=["EReg"];g.prototype={replace:function(a,b){return a.replace(this.r,b)},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:k.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;a=b}else{if(c=this.match(0>c?k.substr(a,b,null):k.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;a=c}return a},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},
matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:g};var r=function(){};m.Expand=r;r.__name__=["Expand"];r.init=function(){r.toggled="#showall"==f.Browser.window.location.hash;var a=f.Browser.document.getElementsByClassName("tabmenu")[0],b=f.Browser.document.createElement("li");r.button=f.Browser.document.createElement("a");
r.button.href="javascript:void(0);";r.refresh();r.button.onclick=function(){r.toggle(!r.toggled);f.Browser.window.history.pushState(e.Serializer.run(h.state()),null,r.toggled?"#showall":null)};b.appendChild(r.button);null!=a&&a.appendChild(b);a=0;for(b=h.links;a<b.length;){var c=[b[a]];++a;"a"==c[0].nodeName.toLowerCase()&&(c[0].onchange=function(a){return function(){var b=u.resolve(a[0].href);null!=b&&b.method(b.regex,function(a){return function(b){var c=a[0].parentNode.parentNode.parentNode,d=f.Browser.document.createElement("div");
d.className="expando";d.style.display="none";d.style.display=r.toggled?"":"none";-1!=d.className.indexOf("link")&&k.remove(h.links,d.getElementsByClassName("entry")[0].getElementsByTagName("a")[0]);var l="selftext";if(s.hasField(b,"price")){var e=f.Browser.document.createElement("div");e.className="usertext";d.appendChild(e);var g=f.Browser.document.createElement("div"),j=f.Browser.document.createElement("span");j.innerHTML="<b>Category:</b> "+p.htmlEscape(b.category)+"<br>"+("<b>Location:</b> "+
p.htmlEscape(b.location)+"<br>")+("<b>Price:</b> "+p.htmlEscape(b.price)+"<br>")+("<p>"+b.description+"</p>");g.appendChild(j);g.className="md";g.appendChild(h.embedAlbum(b.images));e.appendChild(g);l="item"}else s.hasField(b,"content")?(e=f.Browser.document.createElement("div"),e.className="usertext",d.appendChild(e),g=f.Browser.document.createElement("div"),j=f.Browser.document.createElement("span"),j.innerHTML=b.content,g.appendChild(j),0<b.images.length&&g.appendChild(h.embedAlbum(b.images)),
g.className="md",e.appendChild(g)):f.Boot.__instanceof(b,Array)&&s.hasField(b[0],"url")?(e=h.embedAlbum(b),d.appendChild(e),l="image"):s.hasField(b,"developers")&&(console.log("Repository: "+q.string(b)),e=f.Browser.document.createElement("div"),e.className="usertext",g=f.Browser.document.createElement("div"),j=f.Browser.document.createElement("span"),j.innerHTML=""+q.string(b.description)+'<br><a href="'+q.string(b.url)+'"><b>Clone repo</b></a><br>',null!=b.album&&0<b.album.length&&j.appendChild(h.embedAlbum(b.album)),
g.appendChild(j),g.className="md",e.appendChild(g),d.appendChild(e));c=r.makeSelfButton(c,l,a[0].href).parentNode;l=0;for(e=c.getElementsByClassName("expando");l<e.length;)j=e[l],++l,c.removeChild(j);c.appendChild(d);r.refresh()}}(a))}}(c),c[0].onchange(null))}};r.makeSelfButton=function(a,b,c){var d=f.Browser.document.createElement("div"),l="expando-button "+b+" ";d.className=""+l+" collapsed";var x=!1,e={toggled:function(){return x},toggle:function(a){x=a;d.className=l+(x?"expanded":"collapsed");
for(var b=d.parentNode.getElementsByClassName("expando"),c=0;c<b.length;){var e=b[c];++c;e.style.display=a?"":"none";-1!=e.className.indexOf("link")&&k.remove(h.links,e.getElementsByClassName("entry")[0].getElementsByTagName("a")[0])}},url:c,element:d};d.onclick=function(){e.toggle(!x)};a=a.getElementsByClassName("tagline")[0];a.parentNode.insertBefore(d,a);r.buttons.push(e);r.toggled&&e.toggle(!0);r.refresh();return d};r.refresh=function(){if(null!=r.button){r.button.innerHTML=""+(r.toggled?"hide":
"show")+" all ("+r.buttons.length+")";for(var a=[],b=f.Browser.document.body.getElementsByClassName("next"),c=f.Browser.document.body.getElementsByClassName("prev"),d=0;d<b.length;){var l=b[d];++d;a.push(l)}for(d=0;d<c.length;)b=c[d],++d,a.push(b);for(d=0;d<a.length;)c=a[d],++d,"a"==c.nodeName.toLowerCase()&&(r.toggled&&-1==c.href.indexOf("#")?c.href+="#showall":!r.toggled&&-1!=c.href.indexOf("#")&&(c.href=k.substr(c.href,0,c.href.indexOf("#"))));h.show(r.button,0<r.buttons.length)}};r.toggle=function(a){r.toggled=
a;for(var b=0,c=r.buttons;b<c.length;){var d=c[b];++b;d.toggle(a)}r.refresh()};r.loadImage=function(a){var b=f.Browser.document.createElement("img");b.src=a;b.className="resize";r.initResize(b);var c=new e.Timer(30);c.run=function(){if(0<b.width&&0<b.height){c.stop();if(b.width>(0.7*f.Browser.window.innerWidth|0)){var a=b.height/b.width;b.width=0.7*f.Browser.window.innerWidth|0;b.height=b.width*a|0}b.height>(0.6*f.Browser.window.innerHeight|0)&&(a=b.width/b.height,b.height=0.6*f.Browser.window.innerHeight|
0,b.width=b.height*a|0)}};return b};r.initResize=function(a){var b=0,c=0,d=1,l=!1;a.onmousedown=function(x){l=!0;b=a.offsetWidth/x.clientX;c=a.offsetHeight/x.clientY;d=a.offsetWidth/a.offsetHeight;x.preventDefault()};a.onmousemove=function(x){if(l){var e=x.clientX*b,f=e/d,h=x.clientY*c,g=h*d;a.width=(f>h?e:g)|0;a.height=(f>h?f:h)|0}x.preventDefault()};a.onmouseup=a.onmouseout=function(a){l=!1;a.preventDefault()}};var k=function(){};m.HxOverrides=k;k.__name__=["HxOverrides"];k.dateStr=function(a){var b=
a.getMonth()+1,c=a.getDate(),d=a.getHours(),l=a.getMinutes(),x=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>l?"0"+l:""+l)+":"+(10>x?"0"+x:""+x)};k.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),
new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};k.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};k.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};k.remove=function(a,b){for(var c=0,d=a.length;c<d;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};k.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},
next:function(){return this.arr[this.cur++]}}};var v=function(){};m.Keyboard=v;v.__name__=["Keyboard"];v.get_highlighted=function(){return null==v.current?null:h.links[v.current].parentNode.parentNode.parentNode};v.init=function(){f.Browser.document.onkeydown=function(a){v.keyDown(a.keyCode)}};v.unhighlight=function(){var a=v.get_highlighted();null!=a&&(a.style.border="")};v.highlight=function(a){v.unhighlight();null!=v.current&&h.links[v.current+a]&&(v.current+=a);null==v.current&&(v.current=0);
a=v.get_highlighted();a.style.border="3px solid grey";a.scrollIntoView(!0);a.focus()};v.show=function(a){null==a&&(a=!0);var b=v.get_highlighted(),c=b.getElementsByClassName("toggle")[0];if(null!=c.toggle)c.toggle(a);else if(c=b.getElementsByClassName("expando-button")[0],null!=c&&(a?-1==c.className.indexOf("expanded"):-1!=c.className.indexOf("expanded")))c.onclick(null);b.scrollIntoView(!0);b.focus()};v.keyDown=function(a){switch(a){case 39:v.show(!0);break;case 37:v.show(!1);break;case 38:v.highlight(-1);
break;case 40:v.highlight(1)}};var L=function(){};m.Lambda=L;L.__name__=["Lambda"];L.has=function(a,b){var c;if(a instanceof Array)c=function(){return k.iter(a)};else if("function"==typeof a.iterator){c=a.iterator;var d=function(){return d.method.apply(d.scope,arguments)};d.scope=a;d.method=c;c=d}else c=a.iterator;for(c=c();c.hasNext();)if(c.next()==b)return!0;return!1};var h=function(){};m.Reditn=h;h.__name__=["Reditn"];h.main=function(){"complete"==document.readyState?h.init():f.Browser.window.onload=
function(){h.init()}};h.init=function(){if(-1!=f.Browser.window.location.href.indexOf("reddit.")){h.fullPage=0<f.Browser.document.getElementsByClassName("tabmenu").length;h.links=f.Browser.document.body.getElementsByClassName("title");for(var a=[],b=0,c=h.links;b<c.length;){var d=[c[b]];++b;"a"==d[0].nodeName.toLowerCase()&&"parent"!=d[0].parentNode.className&&a.push(function(){h.expandURL(d[0].href,function(a){return function(b){a[0].href=b;if(null!=a[0].onchange)a[0].onchange(null)}}(d));return d[0]}(this))}h.links=
a;h.wrap(j.init);h.wrap(C.init,"adblock");h.wrap(K.init,"dup-hider");h.wrap(M.init,"nsfw-filter");N.init();h.wrap(r.init,"expand");h.wrap(v.init,"keys");h.wrap(E.init,"preview");h.wrap(F.init,"subinfo");h.wrap(G.init,"userinfo");h.wrap(H.init,"user-tag");h.wrap(I.init,"sub-tag");f.Browser.window.history.replaceState(e.Serializer.run(h.state()),null,r.toggled?"#showall":null);f.Browser.window.onpopstate=function(a){a=a.state;null!=a&&(a=e.Unserializer.run(a),a.allExpanded!=r.toggled&&r.toggle(a.allExpanded))}}};
h.state=function(){return{allExpanded:r.toggled}};h.wrap=function(a,b){var c=null==b?null:j.data.get(b);if(null==b||c)try{a()}catch(d){console.log("Module "+b+" has failed to load in Reditn due to the following error:\n "+q.string(d))}};h.formatNumber=function(a){if(Math.isFinite(a)){var b=q.string(Math.abs(a)),c;-1!=b.indexOf(".")?(c=k.substr(b,b.indexOf("."),null),b=k.substr(b,0,b.indexOf("."))):c="";if(3<=b.length){for(var d="",l=0,x=b.length;l<x;){var e=l++,d=d+b.charAt(e);0==(b.length-(e+1))%
3&&e<b.length-1&&(d+=",")}b=d}a=(0>a?"-"+b:b)+c}else a=q.string(a);return a};h.formatPrice=function(a){var b=h.formatNumber(a|0);a=q.string(a);for(a=-1==a.indexOf(".")?".":k.substr(a,a.indexOf("."),null);3>a.length;)a+="0";return""+b+a};h.show=function(a,b){a.style.display=b?"":"none";-1!=a.className.indexOf("link")&&k.remove(h.links,a.getElementsByClassName("entry")[0].getElementsByTagName("a")[0])};h.age=function(a){a=e.Timer.stamp()-a;var b=a/86400%30.4375|0,c=a/2629800%12|0;a=a/2629800/12|0;var d=
"";0<a&&(d+=""+a+" year"+(1>=a?"":"s"));0<c&&(d+=", "+c+" month"+(1>=c?"":"s"));d+=", "+b+" day"+(1>=b?"":"s");for(p.startsWith(d,", ")&&(d=k.substr(d,2,null));-1!=d.indexOf(", , ");)d=p.replace(d,", , ",", ");return d};h.expandURL=function(a,b){var c=u.trimURL(a);if(-1==c.indexOf("/"))b(a);else switch(c=k.substr(c,0,c.indexOf("/")),c){case "0rz.tw":case "1link.in":case "1url.com":case "2.gp":case "2big.at":case "2tu.us":case "3.ly":case "307.to":case "4ms.me":case "4sq.com":case "4url.cc":case "6url.com":case "7.ly":case "a.gg":case "a.nf":case "aa.cx":case "abcurl.net":case "ad.vu":case "adf.ly":case "adjix.com":case "afx.cc":case "all.fuseurl.com":case "alturl.com":case "amzn.to":case "ar.gy":case "arst.ch":case "atu.ca":case "azc.cc":case "b23.ru":case "b2l.me":case "bacn.me":case "bcool.bz":case "binged.it":case "bit.ly":case "bizj.us":case "bloat.me":case "bravo.ly":case "bsa.ly":case "budurl.com":case "canurl.com":case "chilp.it":case "chzb.gr":case "cl.lk":case "cl.ly":case "clck.ru":case "cli.gs":case "cliccami.info":case "clickthru.ca":case "clop.in":case "conta.cc":case "cort.as":case "cot.ag":case "crks.me":case "ctvr.us":case "cutt.us":case "dai.ly":case "decenturl.com":case "dfl8.me":case "digbig.com":case "digg.com":case "disq.us":case "dld.bz":case "dlvr.it":case "do.my":case "doiop.com":case "dopen.us":case "easyuri.com":case "easyurl.net":case "eepurl.com":case "eweri.com":case "fa.by":case "fav.me":case "fb.me":case "fbshare.me":case "ff.im":case "fff.to":case "fire.to":case "firsturl.de":case "firsturl.net":case "flic.kr":case "flq.us":case "fly2.ws":case "fon.gs":case "freak.to":case "fuseurl.com":case "fuzzy.to":case "fwd4.me":case "fwib.net":case "g.ro.lt":case "gizmo.do":case "gl.am":case "go.9nl.com":case "go.ign.com":case "go.usa.gov":case "goo.gl":case "goshrink.com":case "gurl.es":case "hex.io":case "hiderefer.com":case "hmm.ph":case "href.in":case "hsblinks.com":case "htxt.it":case "huff.to":case "hulu.com":case "hurl.me":case "hurl.ws":case "icanhaz.com":case "idek.net":case "ilix.in":case "is.gd":case "its.my":case "ix.lt":case "j.mp":case "jijr.com":case "kl.am":case "klck.me":case "korta.nu":case "krunchd.com":case "l9k.net":case "lat.ms":case "liip.to":case "liltext.com":case "linkbee.com":case "linkbun.ch":case "liurl.cn":case "ln-s.net":case "ln-s.ru":case "lnk.gd":case "lnk.ms":case "lnkd.in":case "lnkurl.com":case "lru.jp":case "lt.tl":case "lurl.no":case "macte.ch":case "mash.to":case "merky.de":case "migre.me":case "miniurl.com":case "minurl.fr":case "mke.me":case "moby.to":case "moourl.com":case "mrte.ch":case "myloc.me":case "myurl.in":case "n.pr":case "nbc.co":case "nblo.gs":case "nn.nf":case "not.my":case "notlong.com":case "nsfw.in":case "nutshellurl.com":case "nxy.in":case "nyti.ms":case "o-x.fr":case "oc1.us":case "om.ly":case "omf.gd":case "omoikane.net":case "on.cnn.com":case "on.mktw.net":case "onforb.es":case "orz.se":case "ow.ly":case "ping.fm":case "pli.gs":case "pnt.me":case "politi.co":case "post.ly":case "pp.gg":case "profile.to":case "ptiturl.com":case "pub.vitrue.com":case "qlnk.net":case "qte.me":case "qu.tc":case "qy.fi":case "r.im":case "rb6.me":case "read.bi":case "readthis.ca":case "reallytinyurl.com":case "redir.ec":case "redirects.ca":case "redirx.com":case "retwt.me":case "ri.ms":case "rickroll.it":case "riz.gd":case "rt.nu":case "ru.ly":case "rubyurl.com":case "rurl.org":case "rww.tw":case "s4c.in":case "s7y.us":case "safe.mn":case "sameurl.com":case "sdut.us":case "shar.es":case "shink.de":case "shorl.com":case "short.ie":case "short.to":case "shortlinks.co.uk":case "shorturl.com":case "shout.to":case "show.my":case "shrinkify.com":case "shrinkr.com":case "shrt.fr":case "shrt.st":case "shrten.com":case "shrunkin.com":case "simurl.com":case "slate.me":case "smallr.com":case "smsh.me":case "smurl.name":case "sn.im":case "snipr.com":case "snipurl.com":case "snurl.com":case "sp2.ro":case "spedr.com":case "srnk.net":case "srs.li":case "starturl.com":case "su.pr":case "surl.co.uk":case "surl.hu":case "t.cn":case "t.co":case "t.lh.com":case "ta.gd":case "tbd.ly":case "tcrn.ch":case "tgr.me":case "tgr.ph":case "tighturl.com":case "tiniuri.com":case "tiny.cc":case "tiny.ly":case "tiny.pl":case "tinylink.in":case "tinyuri.ca":case "tinyurl.com":case "tk.":case "tl.gd":case "tmi.me":case "tnij.org":case "tnw.to":case "tny.com":case "to.":case "to.ly":case "togoto.us":case "totc.us":case "toysr.us":case "tpm.ly":case "tr.im":case "tra.kz":case "trunc.it":case "twhub.com":case "twirl.at":case "twitclicks.com":case "twitterurl.net":case "twitterurl.org":case "twiturl.de":case "twurl.cc":case "twurl.nl":case "u.mavrev.com":case "u.nu":case "u76.org":case "ub0.cc":case "ulu.lu":case "updating.me":case "ur1.ca":case "url.az":case "url.co.uk":case "url.ie":case "url360.me":case "url4.eu":case "urlborg.com":case "urlbrief.com":case "urlcover.com":case "urlcut.com":case "urlenco.de":case "urli.nl":case "urls.im":case "urlshorteningservicefortwitter.com":case "urlx.ie":case "urlzen.com":case "usat.ly":case "use.my":case "vb.ly":case "vgn.am":case "vl.am":case "vm.lc":case "w55.de":case "wapo.st":case "wapurl.co.uk":case "wipi.es":case "wp.me":case "x.vu":case "xr.com":case "xrl.in":case "xrl.us":case "xurl.es":case "xurl.jp":case "y.ahoo.it":case "yatuc.com":case "ye.pe":case "yep.it":case "yfrog.com":case "yhoo.it":case "yiyd.com":case "youtu.be":case "yuarel.com":case "z0p.de":case "zi.ma":case "zi.mu":case "zipmyurl.com":case "zud.me":case "zurl.ws":case "zz.gd":case "zzang.kr":case "r.ebay.com":c=
p.urlEncode(a);h.getJSON("http://api.longurl.org/v2/expand?url="+c+"&format=json&User-Agent=Reditn",function(a){b(s.field(a,"long-url"))});break;default:b(a)}};h.embedAlbum=function(a){var b=f.Browser.document.createElement("span");b.style.textAlign="center";b.className="expando";for(var c=[],d=0;d<a.length;){var l=a[d];++d;c.push(function(){var a=r.loadImage(l.url);b.appendChild(a);h.show(a,!1);return a}(this))}var e=null,g=f.Browser.document.createElement("span");g.style.fontWeight="bold";g.style.marginLeft=
"10px";var j=0,z=null,m=null,n=null;1<a.length&&(z=f.Browser.document.createElement("button"),z.innerHTML="Prev",b.appendChild(z),m=f.Browser.document.createElement("span"),m.style.textAlign="center",m.style.paddingLeft=m.style.paddingRight="5px",b.appendChild(m),n=f.Browser.document.createElement("button"),n.innerHTML="Next",b.appendChild(n));if(1<a.length||null!=a[0].caption&&0<a[0].caption.length)b.appendChild(g),b.appendChild(f.Browser.document.createElement("br"));var s=function(d){if(!(0>d||
d>=a.length)){var l=a[d],f=null;null!=e&&(e.style.display="none",-1!=e.className.indexOf("link")&&k.remove(h.links,e.getElementsByClassName("entry")[0].getElementsByTagName("a")[0]),f=q.parseInt(e.style.height));e=c[d];e.style.display="block";if(null!=f){var j=e.width/e.height;e.style.height=f+"px";e.style.width=(f*j|0)+"px"}b.appendChild(e);null!=z&&(f=h.formatNumber(a.length),j=h.formatNumber(d+1),m.innerHTML=""+j+" of "+f,z.disabled=0>=d,n.disabled=d>=a.length-1);g.style.display=null!=l.caption?
"":"none";-1!=g.className.indexOf("link")&&k.remove(h.links,g.getElementsByClassName("entry")[0].getElementsByTagName("a")[0]);null!=l.caption&&(g.innerHTML=p.htmlEscape(l.caption))}};s(0);null!=z&&(z.onmousedown=function(){s(--j)},n.onmousedown=function(){s(++j)});return b};h.getData=function(a){for(;null!=a.data;)a=a.data;for(;null!=a.response;)a=a.response;return a};h.getText=function(a,b,c,d,l){a=new e.Http(a);a.setHeader("Accept-Encoding","gzip");null!=c&&a.setHeader("Authorization",c);null!=
d&&a.setHeader("Content-Type",d);a.onData=b;null!=l&&a.setPostData(l);a.request(null!=l)};h.getMonthYear=function(a){var b;switch(a.getMonth()){case 0:b="January";break;case 1:b="February";break;case 2:b="March";break;case 3:b="April";break;case 4:b="May";break;case 5:b="June";break;case 6:b="July";break;case 7:b="August";break;case 8:b="September";break;case 9:b="October";break;case 10:b="November";break;case 11:b="December";break;default:b=null}a=q.string(a.getFullYear());return""+b+", "+a};h.getJSON=
function(a,b,c,d,l){null==d&&(d="application/json");h.getText(a,function(c){p.startsWith(c,"jsonFlickrApi(")&&p.endsWith(c,")")&&(c=c.substring(14,c.length-1));try{b(h.getData(e.Json.parse(c)))}catch(d){console.log('Error getting "'+a+'" - could not parse '+c)}},c,d,l)};h.popUp=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);f.Browser.document.body.appendChild(b);b.className="popup";b.style.position="absolute";b.style.width=(0.25*f.Browser.window.innerWidth|0)+"px";b.style.left=""+c+"px";b.style.top=
""+(d-30)+"px";a.onmouseout=b.onblur=function(){b.parentNode.removeChild(b);a.mouseover=!1};return b};h.fullPopUp=function(a,b){null==b&&(b=0);var c=f.Browser.document.getElementsByClassName("popup")[0];null!=c&&c.parentNode.removeChild(c);f.Browser.document.body.appendChild(a);c=f.Browser.document.createElement("a");c.style.position="absolute";c.style.right=c.style.top="5px";c.innerHTML="<b>Close</b>";c.href="javascript:void(0);";c.onclick=a.onblur=function(){a.parentNode.removeChild(a)};a.appendChild(c);
a.className="popup";0!=b&&(a.style.top=""+(b-f.Browser.window.scrollY)+"px");return a};var p=function(){};m.StringTools=p;p.__name__=["StringTools"];p.urlEncode=function(a){return encodeURIComponent(a)};p.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};p.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};p.htmlUnescape=function(a){return a.split("&gt;").join(">").split("&lt;").join("<").split("&quot;").join('"').split("&#039;").join("'").split("&amp;").join("&")};
p.startsWith=function(a,b){return a.length>=b.length&&k.substr(a,0,b.length)==b};p.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&k.substr(a,d-c,c)==b};p.isSpace=function(a,b){var c=k.cca(a,b);return 8<c&&14>c||32==c};p.ltrim=function(a){for(var b=a.length,c=0;c<b&&p.isSpace(a,c);)c++;return 0<c?k.substr(a,c,b-c):a};p.rtrim=function(a){for(var b=a.length,c=0;c<b&&p.isSpace(a,b-c-1);)c++;return 0<c?k.substr(a,0,b-c):a};p.trim=function(a){return p.ltrim(p.rtrim(a))};p.replace=function(a,
b,c){return a.split(b).join(c)};var e={Json:function(){}};m["haxe.Json"]=e.Json;e.Json.__name__=["haxe","Json"];e.Json.parse=function(a){return(new e.Json).doParse(a)};e.Json.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,d=!c,l=48==a,e=!1,f=!1,g=!1,h=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:l&&!e&&this.invalidNumber(b);c&&(c=!1,l=!0);d=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:l&&!e&&this.invalidNumber(b);c&&(c=!1);d=!0;l=!1;
break;case 46:(c||e)&&this.invalidNumber(b);d=!1;e=!0;break;case 101:case 69:(c||l||f)&&this.invalidNumber(b);d=!1;f=!0;break;case 43:case 45:(!f||g)&&this.invalidNumber(b);d=!1;g=!0;break;default:d||this.invalidNumber(b),this.pos--,h=!0}if(h)break}a=q.parseFloat(k.substr(this.str,b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+k.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new D;;){var c=this.str.charCodeAt(this.pos++);
if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\b";break;case 102:b.b+="\f";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);break;case 117:a=q.parseInt("0x"+k.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=
c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();
c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;
case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);
default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:e.Json};e.Http=function(a){this.url=a;this.headers=new e.ds.StringMap;this.params=new e.ds.StringMap;this.async=!0};m["haxe.Http"]=e.Http;e.Http.__name__=["haxe","Http"];e.Http.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=this;b.responseData=
null;var c=f.Browser.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(b.responseData=c.responseText);else if(null==a)b.onError("Failed to connect or resolve host");else switch(a){case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=
d);var l=this.postData;if(null!=l)a=!0;else for(var e=this.params.keys();e.hasNext();)var g=e.next(),l=null==l?"":l+"&",l=l+(p.urlEncode(g)+"="+p.urlEncode(this.params.get(g)));try{if(a)c.open("POST",this.url,this.async);else if(null!=l){var h=1>=this.url.split("?").length;c.open("GET",this.url+(h?"?":"&")+l,this.async);l=null}else c.open("GET",this.url,this.async)}catch(z){this.onError(z.toString());return}null==this.headers.get("Content-Type")&&(a&&null==this.postData)&&c.setRequestHeader("Content-Type",
"application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)e=a.next(),c.setRequestHeader(e,this.headers.get(e));c.send(l);this.async||d(null)},setPostData:function(a){this.postData=a;return this},setHeader:function(a,b){this.headers.set(a,b);return this},__class__:e.Http};var t=function(){};m.IMap=t;t.__name__=["IMap"];e.ds={};e.ds.StringMap=function(){this.h={}};m["haxe.ds.StringMap"]=e.ds.StringMap;e.ds.StringMap.__name__=["haxe","ds","StringMap"];e.ds.StringMap.__interfaces__=
[t];e.ds.StringMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return k.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:e.ds.StringMap};var q=function(){};m.Std=q;q.__name__=["Std"];q.string=function(a){return f.Boot.__string_rec(a,"")};q.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==k.cca(a,1)||88==k.cca(a,1)))b=parseInt(a);return isNaN(b)?
null:b};q.parseFloat=function(a){return parseFloat(a)};var f={Boot:function(){}};m["js.Boot"]=f.Boot;f.Boot.__name__=["js","Boot"];f.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,l=a.length;d<l;)var e=d++,c=2!=e?c+(","+f.Boot.__string_rec(a[e],b)):c+f.Boot.__string_rec(a[e],
b);return c+")"}d=a.length;c="[";b+="\t";for(l=0;l<d;)e=l++,c+=(0<e?",":"")+f.Boot.__string_rec(a[e],b);return c+"]"}try{l=a.toString}catch(g){return"???"}if(null!=l&&l!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;l=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(l in a)if(!d||a.hasOwnProperty(l))"prototype"==l||("__class__"==l||"__super__"==l||"__interfaces__"==l||"__properties__"==l)||(2!=c.length&&(c+=", \n"),c+=b+l+" : "+f.Boot.__string_rec(a[l],b));b=b.substring(1);return c+=
"\n"+b+"}";case "function":return"<function>";case "string":return a;default:return String(a)}};f.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,l=c.length;d<l;){var e=d++,e=c[e];if(e==b||f.Boot.__interfLoop(e,b))return!0}return f.Boot.__interfLoop(a.__super__,b)};f.Boot.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(f.Boot.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case P:return Math.ceil(a%
2147483648)===a;case Q:return"number"==typeof a;case O:return!0===a||!1===a;case String:return"string"==typeof a;case R:return!0;default:if(null==a)return!1;if(b==S&&null!=a.__name__)return!0;null;if(b==T&&null!=a.__ename__)return!0;null;return a.__enum__==b}};var s=function(){};m.Reflect=s;s.__name__=["Reflect"];s.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};s.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};s.fields=function(a){var b=[];if(null!=a){var c=
Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&c.call(a,d)&&b.push(d)}return b};s.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};s.deleteField=function(a,b){if(!s.hasField(a,b))return!1;delete a[b];return!0};var y,A;y=function(){};m["parser.MediaWiki"]=y;y.__name__=["parser","MediaWiki"];y.parse=function(a,b){for(var c=0,d=y.regex;c<d.length;){var e=d[c];for(++c;e.from.match(a);)a=e.from.replace(a,e.to)}return a=p.replace(a,"$BASE",b)};y.trimTo=function(a,
b){b=p.trim(p.replace(b,"_"," "));console.log("Trimming "+a+" to "+b);for(var c={pos:0,len:0},d=null;y.sections.matchSub(a,c.pos+c.len);)if(c=y.sections.matchedPos(),p.trim(y.sections.matched(2))==b){d=y.sections.matched(1);break}null!=d&&(a=k.substr(a,c.pos+c.len,null),a=k.substr(a,0,a.indexOf("<h"+d+">")));return a};f.Browser=function(){};m["js.Browser"]=f.Browser;f.Browser.__name__=["js","Browser"];f.Browser.getLocalStorage=function(){try{var a=f.Browser.window.localStorage;a.getItem("");return a}catch(b){return null}};
f.Browser.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw"Unable to create XMLHttpRequest object.";};A=function(){};m["parser.Markdown"]=A;A.__name__=["parser","Markdown"];A.parse=function(a){for(var b=0,c=A.regex;b<c.length;){var d=c[b];for(++b;d.from.match(a);)a=d.from.replace(a,d.to)}console.log("Parsed "+a);return a};var u=function(){};m.Link=u;u.__name__=["Link"];
u.resolve=function(a){a=u.trimURL(a);for(var b=0,c=u.sites;b<c.length;){var d=c[b];++b;try{if(d.regex.match(a))return d}catch(e){console.log("Error "+q.string(e)+" whilst processing regex "+q.string(d.regex))}}return null};u.trimURL=function(a){p.startsWith(a,"http://")?a=k.substr(a,7,null):p.startsWith(a,"https://")&&(a=k.substr(a,8,null));p.startsWith(a,"www.")&&(a=k.substr(a,4,null));-1!=a.indexOf("&")&&(a=k.substr(a,0,a.indexOf("&")));-1!=a.indexOf("?")&&(a=k.substr(a,0,a.indexOf("?")));-1!=a.indexOf("#")&&
-1==a.indexOf("/wiki/")&&(a=k.substr(a,0,a.indexOf("#")));return a};u.filterHTML=function(a){for(var b=0,c=u.HTML_FILTERS;b<c.length;){var d=c[b];++b;a=d.replace(a,"")}return a};var J=function(){this.length=0};m.List=J;J.__name__=["List"];J.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:J};
var M=function(){};m.NSFWFilter=M;M.__name__=["NSFWFilter"];M.init=function(){for(var a=f.Browser.document.body.getElementsByClassName("nsfw-stamp"),b=0;b<a.length;){var c=a[b];++b;"li"==c.nodeName.toLowerCase()&&h.show(c.parentNode.parentNode.parentNode,!1)}};var E=function(){};m.Preview=E;E.__name__=["Preview"];E.init=function(){for(var a=f.Browser.document.body.getElementsByClassName("usertext-edit"),b=0;b<a.length;){var c=a[b];++b;E.preview(c)}};E.preview=function(a){var b=a.getElementsByTagName("textarea")[0];
if(null!=b){var c=f.Browser.document.createElement("div");a.appendChild(c);c.className="md";var d=null;b.onfocus=function(){d=new e.Timer(100);d.run=function(){c.innerHTML=A.parse(b.value)}};b.onblur=function(){d.stop();d=null}}};var j=function(){};m.Settings=j;j.__name__=["Settings"];j.optimisedData=function(){for(var a=new e.ds.StringMap,b=j.data.keys();b.hasNext();){var c=b.next(),d=j.data.get(c);j.DEFAULTS.get(c)!=d&&a.set(c,d)}return e.Serializer.run(a)};j.save=function(){e.Serializer.USE_CACHE=
!1;f.Browser.getLocalStorage().setItem("reditn",j.optimisedData())};j.init=function(){var a=f.Browser.getLocalStorage().getItem("reditn");if(null!=a){var b;try{b=e.Unserializer.run(a)}catch(c){b=j.data}j.data=b}j.fixMissing();a=f.Browser.document.getElementById("header-bottom-right");b=a.getElementsByTagName("ul")[0];var d=f.Browser.document.createElement("a");d.innerHTML="reditn";d.className="pref-lang";d.href="javascript:void(0);";d.onclick=function(){j.settingsPopUp()};null==b?a.appendChild(d):
a.insertBefore(d,b);d=f.Browser.document.createElement("span");d.innerHTML=" | ";d.className="seperator";d.style.fontWeight="none";a.insertBefore(d,b)};j.settingsPopUp=function(){var a=f.Browser.document.getElementById("reditn-config");null!=a&&a.parentNode.removeChild(a);var a=f.Browser.document.createElement("div"),b=f.Browser.document.createElement("h1");b.innerHTML="Reditn settings";a.appendChild(b);h.fullPopUp(a);var c=f.Browser.document.createElement("form");c.id="reditn-config";c.action="javascript:void(0);";
c.onchange=function(){for(var a=c.childNodes,b=0;b<a.length;){var d=a[b];++b;if("button"!=d.type&&"input"==d.nodeName.toLowerCase()){var e=void 0;switch(d.type.toLowerCase()){case "checkbox":e=d.checked;break;default:e=d.value}j.data.set(d.name,e)}}j.save()};b=f.Browser.document.createElement("input");b.type="button";b.value="Restore default settings";b.onclick=function(){j.fixMissing(!0);j.save();j.settingsPopUp()};c.appendChild(b);b=j.makeButton("Export settings to text",function(){f.Browser.window.alert(f.Browser.window.btoa(j.optimisedData()))});
c.appendChild(b);b=j.makeButton("Import settings",function(){j.data=e.Unserializer.run(f.Browser.window.atob(f.Browser.window.prompt("Settings to import",f.Browser.window.btoa(j.optimisedData()))));j.fixMissing();j.save();j.settingsPopUp()});c.appendChild(b);c.appendChild(f.Browser.document.createElement("br"));for(b=j.data.keys();b.hasNext();){var d=b.next(),l=j.data.get(d);if(!f.Boot.__instanceof(l,e.ds.StringMap)&&j.DESC.exists(d)){var g=j.DESC.get(d),k=f.Browser.document.createElement("label");
k.setAttribute("for",d);k.style.position="absolute";k.style.width="46%";k.style.textAlign="right";k.innerHTML=""+g+" ";c.appendChild(k);g=f.Browser.document.createElement("input");g.style.position="absolute";g.style.left="54%";g.style.textAlign="left";g.style.width="46%";g.name=d;c.appendChild(g);c.appendChild(f.Browser.document.createElement("br"));g.type=f.Boot.__instanceof(l,O)?"checkbox":f.Boot.__instanceof(l,String)?"text":f.Boot.__instanceof(l,Date)?"datetime":f.Boot.__instanceof(l,P)?"number":
null;f.Boot.__instanceof(l,O)?g.checked=j.data.get(d):g.value=j.data.get(d)}}b=f.Browser.document.createElement("div");b.style.fontWeight="bold";b.innerHTML="Close this dialog and refresh the page to see your changes in effect. Changes will be saved automatically.";c.appendChild(b);a.appendChild(c)};j.makeButton=function(a,b){var c=f.Browser.document.createElement("input");c.type="button";c.value=a;c.onclick=b;return c};j.fixMissing=function(a){null==a&&(a=!1);for(var b=j.DEFAULTS.keys();b.hasNext();){var c=
b.next();if(a||!j.data.exists(c))j.data.set(c,f.Boot.__instanceof(j.DEFAULTS.get(c),e.ds.StringMap)?new e.ds.StringMap:j.DEFAULTS.get(c))}};var D=function(){this.b=""};m.StringBuf=D;D.__name__=["StringBuf"];D.prototype={addSub:function(a,b,c){this.b+=null==c?k.substr(a,b,null):k.substr(a,b,c)},__class__:D};var N=function(){};m.Style=N;N.__name__=["Style"];N.init=function(){var a=f.Browser.document.createElement("style");a.innerHTML='.expando-button.image.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -23px;\n\tbackground-repeat:no-repeat\n}';
f.Browser.document.head.appendChild(a)};var F=function(){};m.SubredditInfo=F;F.__name__=["SubredditInfo"];F.init=function(){for(var a=f.Browser.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=F._onMouseOverSubreddit}};F._onMouseOverSubreddit=function(a){a=a.target;var b=a.innerHTML,c=f.Browser.document.createElement("div");h.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);h.getJSON("/r/"+b+"/about.json",function(a){var e=h.formatNumber(a.subscribers),
f=h.formatNumber(a.accounts_active),g=A.parse(a.public_description);a=h.age(a.created_utc);var k="<b>Name:</b> "+b+" <br>",z=j.data.get("sub-tags");z.exists(b)&&(k+="<b>Tag:</b> "+z.get(b)+"<br>");k=k+("<b>Subscribers:</b> "+e+" <br>")+("<b>Active Users:</b> "+f+" <br>");k+="<b>Description:</b> "+g+" <br>";k+="<b>Age:</b> "+a+" <br>";c.innerHTML=k})};var I=function(){};m.SubredditTagger=I;I.__name__=["SubredditTagger"];I.init=function(){for(var a=f.Browser.document.body.getElementsByClassName("subreddit"),
b=0;b<a.length;){var c=a[b];++b;I.getTag(c)}};I.getTag=function(a){var b=f.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=j.data.get("sub-tags").exists(c)?j.data.get("sub-tags").get(c):null;b.className="flair";var e=f.Browser.document.createElement("span");e.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(e);var g=f.Browser.document.createElement("a");g.href="javascript:void(0);";g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=f.Browser.document.createElement("div"),
b=f.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var k=f.Browser.document.createElement("input");k.name="tag-change";k.value=d;k.style.width="100%";k.onchange=function(){j.data.get("sub-tags").set(c,k.value);e.innerHTML=p.htmlEscape(k.value)+" ";j.save();a.parentNode.removeChild(a)};a.appendChild(k);h.fullPopUp(a,g.offsetTop+g.offsetHeight);k.focus()};a.parentNode.insertBefore(b,a.nextSibling)};var n=m.ValueType={__ename__:["ValueType"],
__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};n.TNull=["TNull",0];n.TNull.toString=B;n.TNull.__enum__=n;n.TInt=["TInt",1];n.TInt.toString=B;n.TInt.__enum__=n;n.TFloat=["TFloat",2];n.TFloat.toString=B;n.TFloat.__enum__=n;n.TBool=["TBool",3];n.TBool.toString=B;n.TBool.__enum__=n;n.TObject=["TObject",4];n.TObject.toString=B;n.TObject.__enum__=n;n.TFunction=["TFunction",5];n.TFunction.toString=B;n.TFunction.__enum__=n;n.TClass=function(a){a=["TClass",6,a];
a.__enum__=n;a.toString=B;return a};n.TEnum=function(a){a=["TEnum",7,a];a.__enum__=n;a.toString=B;return a};n.TUnknown=["TUnknown",8];n.TUnknown.toString=B;n.TUnknown.__enum__=n;var w=function(){};m.Type=w;w.__name__=["Type"];w.getClassName=function(a){return a.__name__.join(".")};w.getEnumName=function(a){return a.__ename__.join(".")};w.resolveClass=function(a){a=m[a];return null==a||!a.__name__?null:a};w.resolveEnum=function(a){a=m[a];return null==a||!a.__ename__?null:a};w.createEmptyInstance=function(a){function b(){}
b.prototype=a.prototype;return new b};w.createEnum=function(a,b,c){var d=s.field(a,b);if(null==d)throw"No such constructor "+b;if(s.isFunction(d)){if(null==c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};w.getEnumConstructs=function(a){return a.__constructs__.slice()};w["typeof"]=function(a){switch(typeof a){case "boolean":return n.TBool;case "string":return n.TClass(String);case "number":return Math.ceil(a)==
a%2147483648?n.TInt:n.TFloat;case "object":if(null==a)return n.TNull;var b=a.__enum__;if(null!=b)return n.TEnum(b);a=a.__class__;return null!=a?n.TClass(a):n.TObject;case "function":return a.__name__||a.__ename__?n.TObject:n.TFunction;case "undefined":return n.TNull;default:return n.TUnknown}};var G=function(){};m.UserInfo=G;G.__name__=["UserInfo"];G.init=function(){for(var a=f.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=G._onMouseOverUser}};
G._onMouseOverUser=function(a){a=a.target;var b=a.innerHTML,b=k.substr(b,b.lastIndexOf("/")+1,null),c=f.Browser.document.createElement("div");h.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);h.getJSON("/user/"+b+"/about.json",function(a){var b=a.name,e=h.age(a.created_utc),f=h.formatNumber(a.link_karma),g=h.formatNumber(a.comment_karma),k="<b>User:</b> "+b+"<br>",p=j.data.get("user-tags");p.exists(b)&&(k+="<b>Tag:</b> "+p.get(b)+"<br>");k=k+("<b>Account age:</b> "+e+"<br>")+("<b>Karma:</b> "+f+
" link karma, "+g+" comment karma");a.is_mod&&(k+="<br><b>Moderator</b>");a.is_gold&&(k+="<br><b>Gold</b>");c.innerHTML=k})};var H=function(){};m.UserTagger=H;H.__name__=["UserTagger"];H.init=function(){for(var a=f.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;H.getTag(c)}};H.getTag=function(a){var b=f.Browser.document.createElement("span"),c=p.trim(a.innerHTML),d=j.data.get("user-tags").exists(c)?j.data.get("user-tags").get(c):null;b.className="flair";var e=
f.Browser.document.createElement("span");e.innerHTML=null==d?"":p.htmlEscape(d)+" ";b.appendChild(e);var g=f.Browser.document.createElement("a");g.href="javascript:void(0);";g.innerHTML="[+]";b.appendChild(g);g.onclick=function(){var a=f.Browser.document.createElement("div"),b=f.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var k=f.Browser.document.createElement("input");k.name="tag-change";k.value=d;k.style.width="100%";k.onchange=
function(){j.data.get("user-tags").set(c,k.value);e.innerHTML=p.htmlEscape(k.value)+" ";j.save();a.parentNode.removeChild(a)};a.appendChild(k);h.fullPopUp(a,g.offsetTop+g.offsetHeight);k.focus()};a.parentNode.insertBefore(b,a.nextSibling)};e.Serializer=function(){this.buf=new D;this.cache=[];this.useCache=e.Serializer.USE_CACHE;this.useEnumIndex=e.Serializer.USE_ENUM_INDEX;this.shash=new e.ds.StringMap;this.scount=0};m["haxe.Serializer"]=e.Serializer;e.Serializer.__name__=["haxe","Serializer"];e.Serializer.run=
function(a){var b=new e.Serializer;b.serialize(a);return b.toString()};e.Serializer.prototype={serialize:function(a){var b=w["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=q.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=q.string(a)):this.buf.b+=q.string(0>a?"m":"p");break;case 3:this.buf.b+=q.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&
this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var d=a.length,l=0;l<d;)b=l++,null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=q.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=q.string(c)));this.buf.b+="h";break;case J:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=q.string(k.dateStr(a));break;case e.ds.StringMap:this.buf.b+=
"b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));this.buf.b+="h";break;case e.ds.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=q.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case e.ds.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=c.next(),d=s.field(b,"__id__"),s.deleteField(b,"__id__"),this.serialize(b),b.__id__=d,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case e.io.Bytes:b=0;c=a.length-
2;d=new D;for(l=e.Serializer.BASE64;b<c;){var f=a.b[b++],g=a.b[b++],h=a.b[b++];d.b+=q.string(l.charAt(f>>2));d.b+=q.string(l.charAt((f<<4|g>>4)&63));d.b+=q.string(l.charAt((g<<2|h>>6)&63));d.b+=q.string(l.charAt(h&63))}b==c?(f=a.b[b++],g=a.b[b++],d.b+=q.string(l.charAt(f>>2)),d.b+=q.string(l.charAt((f<<4|g>>4)&63)),d.b+=q.string(l.charAt(g<<2&63))):b==c+1&&(f=a.b[b++],d.b+=q.string(l.charAt(f>>2)),d.b+=q.string(l.charAt(f<<4&63)));b=d.b;this.buf.b+="s";this.buf.b+=q.string(b.length);this.buf.b+=":";
this.buf.b+=q.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(w.getClassName(b)),this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(w.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=q.string(this.useEnumIndex?
"j":"w");this.serializeString(w.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=q.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";d=a.length;this.buf.b+=q.string(d-2);for(l=2;l<d;)b=l++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+q.string(a);}},serializeFields:function(a){for(var b=0,c=s.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(s.field(a,d))}this.buf.b+="g"},serializeRef:function(a){for(var b=
typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b+=q.string(e),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=q.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=p.urlEncode(a),this.buf.b+=q.string(a.length),this.buf.b+=":",this.buf.b+=q.string(a))},toString:function(){return this.buf.b},__class__:e.Serializer};e.Timer=function(a){var b=this;this.id=
setInterval(function(){b.run()},a)};m["haxe.Timer"]=e.Timer;e.Timer.__name__=["haxe","Timer"];e.Timer.stamp=function(){return(new Date).getTime()/1E3};e.Timer.prototype={run:function(){console.log("run")},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:e.Timer};e.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=e.Unserializer.DEFAULT_RESOLVER;null==a&&(a=w,e.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};m["haxe.Unserializer"]=
e.Unserializer;e.Unserializer.__name__=["haxe","Unserializer"];e.Unserializer.initCodes=function(){for(var a=[],b=0,c=e.Unserializer.BASE64.length;b<c;){var d=b++;a[e.Unserializer.BASE64.charCodeAt(d)]=d}return a};e.Unserializer.run=function(a){return(new e.Unserializer(a)).unserialize()};e.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return q.parseFloat(k.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=k.substr(this.buf,this.pos,b);this.pos+=b;a=p.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=
this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();
a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=w.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=w.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+
b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new J;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new e.ds.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new e.ds.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);
if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new e.ds.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=k.strDate(k.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";d=e.Unserializer.CODES;null==d&&(d=e.Unserializer.initCodes(),e.Unserializer.CODES=
d);for(var a=this.pos,f=b&3,g=a+(b-f),h=e.io.Bytes.alloc(3*(b>>2)+(2<=f?f-1:0)),j=0;a<g;){var m=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)];h.b[j++]=(m<<2|n>>4)&255;m=d[c.charCodeAt(a++)];h.b[j++]=(n<<4|m>>2)&255;n=d[c.charCodeAt(a++)];h.b[j++]=(m<<6|n)&255}2<=f&&(m=d[c.charCodeAt(a++)],n=d[c.charCodeAt(a++)],h.b[j++]=(m<<2|n>>4)&255,3==f&&(m=d[c.charCodeAt(a++)],h.b[j++]=(n<<4|m>>2)&255));this.pos+=b;this.cache.push(h);return h;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==
a)throw"Class not found "+b;b=w.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return w.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return w.createEnum(a,b,d)},unserializeObject:function(a){for(;;){if(this.pos>=
this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!f.Boot.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},
resolveEnum:function(){return null}}:a},__class__:e.Unserializer};e.ds.IntMap=function(){this.h={}};m["haxe.ds.IntMap"]=e.ds.IntMap;e.ds.IntMap.__name__=["haxe","ds","IntMap"];e.ds.IntMap.__interfaces__=[t];e.ds.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return k.iter(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:e.ds.IntMap};e.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};m["haxe.ds.ObjectMap"]=e.ds.ObjectMap;
e.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];e.ds.ObjectMap.__interfaces__=[t];e.ds.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return k.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=++e.ds.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:e.ds.ObjectMap};e.io={};e.io.Bytes=function(a,b){this.length=a;this.b=b};m["haxe.io.Bytes"]=e.io.Bytes;e.io.Bytes.__name__=["haxe","io","Bytes"];
e.io.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new e.io.Bytes(a,b)};e.io.Bytes.prototype={__class__:e.io.Bytes};Array.prototype.indexOf?k.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0}:null;"undefined"!=typeof JSON&&(e.Json=JSON);String.prototype.__class__=m.String=String;String.__name__=["String"];Array.prototype.__class__=m.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=m.Date=Date;Date.__name__=["Date"];var P=m.Int={__name__:["Int"]},
R=m.Dynamic={__name__:["Dynamic"]},Q=m.Float=Number;Q.__name__=["Float"];var O=m.Bool=Boolean;O.__ename__=["Bool"];var S=m.Class={__name__:["Class"]},T={};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;m.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};r.buttons=[];h.fullPage=!0;y.regex=[{from:new g("\\[\\[([^\\]\\|]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$1</a>'},
{from:new g("\\[\\[([^\\]\\|]*)\\|([^\\]\\|]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$2</a>'},{from:new g("\\[\\[File:([^\\]]*)\\]\\]",""),to:""},{from:new g("{{spaced ndash}}",""),to:" - "},{from:new g("\\{\\{Monthyear\\}\\}",""),to:h.getMonthYear(new Date)},{from:new g("{{convert|([0-9]*)|([^\\|]*)[^\\}]*}}",""),to:"$1"},{from:new g("{{([^{}]*)}}",""),to:""},{from:new g("{\\|([^[\\|\\}]]*)\\|}",""),to:""},{from:new g("\\[([^ \\[\\]]*) ([^\\[\\]]*)\\]",""),to:""},{from:new g("'''([^']*)'''",""),
to:"<b>$1</b>"},{from:new g("''([^']*)''",""),to:"<em>$1</em>"},{from:new g("^======([^=]*)======","m"),to:"<h6>$1</h6>"},{from:new g("^=====([^=]*)=====","m"),to:"<h5>$1</h5>"},{from:new g("^====([^=]*)====","m"),to:"<h4>$1</h4>"},{from:new g("^===([^=]*)===","m"),to:"<h3>$1</h3>"},{from:new g("^==([^=]*)==","m"),to:"<h2>$1</h2>"},{from:new g("\n\\* ?([^\n]*)",""),to:"<li>$1</li>"},{from:new g("<ref>[^<>]*</ref>",""),to:""},{from:new g("\n",""),to:""},{from:new g("<br><br>",""),to:"<br>"},{from:new g("\x3c!--Interwiki links--\x3e.*",
""),to:""}];y.sections=new g("<h([1-6])>([^<>]*)</h[1-6]>","");f.Browser.window="undefined"!=typeof window?window:null;f.Browser.document="undefined"!=typeof window?window.document:null;A.images=new g("!\\[([^\\]]*)\\]\\(([^\\)\\.]+\\.(jpg|bmp|png|jpeg|gif))\\)","");A.regex=[{from:new g("(\\*\\*|__)([^\\1\n]*?)\\1",""),to:"<b>$2</b>"},{from:new g("(\\*|_)([^\\1\n]*?)\\1",""),to:"<em>$2</em>"},{from:new g("^[\\*|+|-] (.*)$","m"),to:"<ul><li>$1</li></ul>"},{from:new g("</ul><ul>",""),to:""},{from:new g("\n> (?=[^\n\r]*)",
""),to:"<blockquote>$1</blockquote>"},{from:new g("</blockquote>\n?\r?<blockquote>$",""),to:""},{from:new g("~~([^~]*?)~~",""),to:"<del>$1</del>"},{from:new g("\\^([^\\^]+)",""),to:"<sup>$1</sup>"},{from:new g(':"([^:"]*?)":',""),to:"<q>$1</q>"},{from:A.images,to:""},{from:new g("\\[([^\\[]+)\\]\\(([^\\)]+)\\)",""),to:'<a href="$2">$1</a>'},{from:new g("^#####([^#\n]+)(#####)?$","m"),to:"<h2>$1</h2>"},{from:new g("^####([^#\n]+)(####)?$","m"),to:"<h3>$1</h3>"},{from:new g("^###([^#\n]+)(###)?$","m"),
to:"<h4>$1</h4>"},{from:new g("^##([^#\n]+)(##)?$","m"),to:"<h5>$1</h5>"},{from:new g("^#([^#\n]+)(#)?$","m"),to:"<h6>$1</h6>"},{from:new g("^(#*)([^#\n])\\1?$","m"),to:"<h2>$2</h2>"},{from:new g("(.*)\n\r?(?==+)\n",""),to:"<h3>$1</h3>"},{from:new g("(.*)\n\r?(?=(-|#)+)\n",""),to:"<h2>$1</h2>"},{from:new g('(```*|")([^`""]+)\\1',"m"),to:"<pre>$2</pre>"},{from:new g("<pre>(.*)\n\n(.*)</pre>",""),to:"<pre>$1\n$2</pre>"},{from:new g("\n\n",""),to:"<br>\n"}];u.HTML_IMG=new g('<img .*?src="([^"]*)"/?>',
"");u.sites=[{regex:new g(".*\\.(jpeg|gif|jpg|bmp|png)",""),method:function(a,b){b([{url:"http://"+a.matched(0),caption:null}])}},{regex:new g("imgur.com/(a|gallery)/([^/]*)",""),method:function(a,b){var c=a.matched(2),d;switch(a.matched(1)){case "a":d="album";break;case "gallery":d="gallery/album";break;default:d="album"}h.getJSON("https://api.imgur.com/3/"+d+"/"+c,function(a){var c=[];if(0>=a.images_count)c.push({url:"http://i.imgur.com/"+a.id+".jpg",caption:a.title});else{var d=0;for(a=a.images;d<
a.length;){var e=a[d];++d;c.push({url:"http://i.imgur.com/"+e.id+".jpg",caption:e.title})}}b(c)},"Client-ID cc1f254578d6c52")}},{regex:new g("imgur\\.com/(r/[^/]*/)?([a-zA-Z0-9]*)",""),method:function(a,b){var c=null==a.matched(1)||-1!=a.matched(1).indexOf("/")?a.matched(2):a.matched(1);b([{url:"http://i.imgur.com/"+c+".jpg",caption:null}])}},{regex:new g("(qkme\\.me|quickmeme\\.com/meme|m\\.quickmeme.com/meme)/([^/]*)",""),method:function(a,b){b([{url:"http://i.qkme.me/"+a.matched(2)+".jpg",caption:null}])}},
{regex:new g("memecrunch.com/meme/([^/]*)/([^/]*)",""),method:function(a,b){b([{url:"http://"+a.matched(0)+"/image.png",caption:null}])}},{regex:new g("memegenerator\\.net/instance/([^/]*)",""),method:function(a,b){b([{url:"http://cdn.memegenerator.net/instances/400x/"+a.matched(1)+".jpg",caption:null}])}},{regex:new g("imgflip\\.com/i/([^/]*)",""),method:function(a,b){b([{url:"http://i.imgflip.com/"+a.matched(1)+".jpg",caption:null}])}},{regex:new g("xkcd.com/([0-9]*)",""),method:function(a,b){h.getJSON("http://xkcd.com/"+
a.matched(1)+"/info.0.json",function(a){b([{url:a.img,caption:a.title}])})}},{regex:new g("explosm.net/comics/([0-9]*)",""),method:function(a,b){h.getText("http://"+a.matched(0),function(c){var d=new g('http://www\\.explosm\\.net/db/files/Comics/[^"]*',"");if(d.match(c))b([{url:d.matched(0),caption:null}]);else throw""+q.string(d)+" not matched by "+a.matched(0);},null,null,null)}},{regex:new g("livememe.com/([^/]*)",""),method:function(a,b){b([{url:"http://livememe.com/"+a.matched(1)+".jpg",caption:null}])}},
{regex:new g("(([^\\.]*\\.)?deviantart\\.com/art|fav\\.me)/.*",""),method:function(a,b){h.getJSON("http://backend.deviantart.com/oembed?url="+p.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:""+a.title+" by "+a.author_name}])})}},{regex:new g("flickr\\.com(/[^/]*)*?/([0-9@]*)/",""),method:function(a,b){h.getJSON("http://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key=99dcc3e77bcd8fb489f17e58191f32f7&photo_id="+a.matched(2)+"&format=json",function(a){null==
a.sizes||null==a.sizes.size||(a=a.sizes.size,b([{url:a[a.length-1].source,caption:null}]))})}},{regex:new g("ebay\\.([a-zA-Z\\.]*)/itm(/[^/]*)?/([0-9]*)",""),method:function(a,b){a.matched(1);var c="http://open.api.ebay.com/shopping?callname=GetSingleItem&responseencoding=JSON&appid=ThomasDa-1e6c-4d29-a156-85557acee70b&siteid=0&version=515&ItemID="+a.matched(3)+"&IncludeSelector=TextDescription";h.getJSON(c,function(a){var c=a.Item.PictureURL.map(function(a){return{url:a,caption:null}});b({title:a.Item.Title,
category:a.Item.PrimaryCategoryName,location:a.Item.Location+", "+a.Item.Country,description:u.filterHTML(a.Item.Description),images:c,price:h.formatPrice(a.Item.ConvertedCurrentPrice.Value)+" "+a.Item.ConvertedCurrentPrice.CurrencyID})})}},{regex:new g("([^\\.]*\\.wordpress\\.com)/[0-9/]*([^/]*)/?",""),method:function(a,b){var c="http://public-api.wordpress.com/rest/v1/sites/"+p.htmlEscape(a.matched(1))+"/posts/slug:"+p.htmlEscape(a.matched(2));h.getJSON(c,function(a){var c=a.attachments,e=p.htmlUnescape(a.title),
f=u.filterHTML(a.content);a=a.author.name;var g;try{for(var h=[],k=0,j=s.fields(c);k<j.length;){var m=j[k];++k;h.push(function(){var a=s.field(c,m);return a.mime_type.startsWith("image/")?{url:a.URL,caption:null}:null}(this))}g=h}catch(n){g=[]}b({title:e,content:f,author:a,images:g})})}},{regex:new g("(.*)/wiki/([^#]*)(#.*)?",""),method:function(a,b){var c=a.matched(1),d=a.matched(2),e=a.matched(3);null!=e&&(e=p.trim(k.substr(e,1,null)));null!=e&&0==e.length&&(e=null);p.endsWith(c,".wikia.com")||
(c+="/w");var f=null,f=function(a){h.getJSON("http://"+c+"/api.php?format=json&prop=revisions&action=query&titles="+a+"&rvprop=content",function(d){d=d.query.pages;for(var g=0,k=s.fields(d);g<k.length;){var j=k[g];++g;j=s.field(d,j);j=[s.field(j.revisions[0],"*")];if(p.startsWith(j[0],"#REDIRECT [[")){f(j[0].substring(12,j[0].lastIndexOf("]]")));break}j[0]=y.parse(j[0],c);null!=e&&(j[0]=y.trimTo(j[0],e));h.getJSON("http://"+c+"/api.php?format=json&action=query&prop=images&titles="+p.htmlEscape(a),
function(a){return function(d){d=d.query.pages;for(var e=0,f=s.fields(d);e<f.length;){var g=f[e];++e;var g=[s.field(d,g)],l=g[0].images,k=[[]];if(null!=l&&0<l.length)for(var j=[null==l?0:l.length],m=0;m<l.length;){var n=l[m];++m;h.getJSON("http://"+c+"/api.php?action=query&titles="+p.urlEncode(n.title)+"&prop=imageinfo&iiprop=url&format=json",function(a,c,d,e){return function(f){f=f.query.pages;for(var g=0,l=s.fields(f);g<l.length;){var h=l[g];++g;h=s.field(f,h);null!=h&&(null!=h.pageinfo&&1<=h.imageinfo.length)&&
c[0].push({url:h.imageinfo[0].url,caption:null})}0>=--a[0]&&b({title:d[0].title,content:e[0],author:null,images:c[0]})}}(j,k,g,a))}else b({title:g[0].title,content:a[0],author:null,images:[]})}}}(j))}})};f(d)}},{regex:new g("github\\.com/([^/]*)/([^/]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2);h.getJSON("https://api.github.com/repos/"+c+"/"+d+"/readme?client_id=39d85b9ac427f1176763&client_secret=5117570b83363ca0c71a196edc5b348af150c25d",function(a){if(null!=a.content){a=a.content;
a=p.replace(a,"\n","");a=p.trim(a);a=f.Browser.window.atob(a);for(var e=A.images,g=[],h=a;e.match(h);){var j=e.matched(2);j.indexOf(".")==j.lastIndexOf(".")&&(p.startsWith(j,"/")&&(j=k.substr(j,1,null)),j="https://github.com/"+c+"/"+d+"/raw/master/"+j);g.push({url:j,caption:e.matched(1)});h=k.substr(h,e.matchedPos().pos+e.matchedPos().len,null)}b({name:d,developers:[c],description:A.parse(a),url:"git://github.com/"+c+"/"+d+".git",album:g})}})}},{regex:new g("sourceforge.net/projects/([a-zA-Z-]*)",
""),method:function(a,b){h.getJSON("http://sourceforge.net/api/project/name/"+a.matched(1)+"/json",function(a){a=a.Project;for(var d=a.developers,e=a.name,f=a.description,g=[],h=0;h<d.length;){var j=d[h];++h;g.push(j.name)}for(var m=s.field(a,"download-page"),d=0,h=s.fields(a);d<h.length;)j=h[d],++d,p.endsWith(j,"Repository")&&(m=k.substr(j,0,j.length-10).toLowerCase(),j=s.field(a,j).location,m=p.replace(j,"http:",""+m+":"));b({name:e,description:f,developers:g,url:m,album:[]})})}},{regex:new g("twitter.com/([^/]*)/status/([0-9]*)",
""),method:function(a,b){var c=function(){h.getJSON("https://api.twitter.com/1.1/statuses/show.json?id="+a.matched(1),function(a){b({title:null,author:a.author.name,images:[],content:a.text})},"Bearer TGhEbnl1dlE1b3pGemo4TGtrRkcxRjJwSW05aFVaUUVSYmFwVmFLODpGeGNDNVl6dnBaVkdYWjNXT2ViWmc=")};null!=u.twitterToken?c(u.twitterToken):h.getJSON("https://api.twitter.com/oauth2/token",function(a){console.log(a);c(""+a.token_type+" "+a.access_token)},"Basic TGhEbnl1dlE1b3pGemo4TGtrRkcxRjJwSW05aFVaUUVSYmFwVmFLODpGeGNDNVl6dnBaVkdYWjNXT2ViWmc=",
"application/x-www-form-urlencoded;charset=UTF-8","grant_type=client_credentials")}},{regex:new g("(digitaltrends\\.com|webupd8\\.org)/.*",""),method:function(a,b){h.getText("http://"+a.matched(0),function(a){var d=new g("<title>(.*)</title>","");if(d.match(a)){a=k.substr(a,a.indexOf("<article"),null);a=k.substr(a,a.indexOf(">")+1,null);a=k.substr(a,0,a.indexOf("</article>"));for(var e=[];u.HTML_IMG.match(a);)e.push({url:u.HTML_IMG.matched(1),caption:null}),a=u.HTML_IMG.replace(a,"");a=u.filterHTML(a);
b({title:d.matched(1),content:a,author:null,images:e})}},null,null,null)}},{regex:new g("([^\\.]*)\\.tumblr\\.com/(post|image)/([0-9]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(3);h.getJSON("http://api.tumblr.com/v2/blog/"+c+".tumblr.com/posts/json?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE&id="+d,function(a){var c=a.posts[0];switch(c.type){case "text":for(var d=[];u.HTML_IMG.match(c.body);)d.push({url:u.HTML_IMG.matched(1),caption:null}),c.body=u.HTML_IMG.replace(c.body,
"");c.body=u.filterHTML(c.body);a={title:c.title,content:c.body,author:a.blog.name,images:d};break;case "quote":a={title:null,content:q.string(c.text)+"<br/><b>"+q.string(c.source)+"</b>",author:a.blog.name,images:[]};break;case "photo":a=c.photos;c=[];for(d=0;d<a.length;){var e=a[d];++d;c.push({url:e.original_size.url,caption:e.caption})}a=c;break;default:a=null}b(a)})}}];u.HTML_FILTERS=[u.HTML_IMG,new g("<meta[^>]*/>","g"),new g("<(h1|header)[^>]*>.*</\\1>","g"),new g("<table([^>]*)>(.|\n|\n\r)*</table>",
"gm"),new g('<div class="(seperator|ga-ads)"[^>]*>(.|\n|\n\r)*</div>',"g"),new g("<([^>]*)( [^>]*)?></\\1>","g"),new g("<script[^>/]*/>","g"),new g("<script[^>/]*>\x3c/script>","g"),new g("(<br></br>|<br ?/>)(<br></br>|<br ?/>)","g"),new g('style ?= ?"[^"]*"',"g")];t=new e.ds.StringMap;t.set("adblock","Block advertisements and sponsors");t.set("userinfo","Show information about a user upon hover");t.set("subinfo","Show information about a subreddit upon hover");t.set("expand","Allow expansion of images, articles, etc");
t.set("dup-hider","Hide duplicate links");t.set("user-tag","Tag users");t.set("sub-tag","Tag subreddits");t.set("preview","Preview comments and posts");t.set("keys","Keyboard shortcuts");t.set("nsfw-filter","Hide NSFW content");j.DESC=t;t=new e.ds.StringMap;t.set("adblock",!0);t.set("userinfo",!0);t.set("subinfo",!0);t.set("expand",!0);t.set("dup-hider",!0);t.set("user-tag",!0);t.set("sub-tag",!0);t.set("preview",!0);t.set("keys",!0);t.set("nsfw-filter",!0);t.set("user-tags",new e.ds.StringMap);t.set("sub-tags",
new e.ds.StringMap);j.DEFAULTS=t;j.data=new e.ds.StringMap;e.Serializer.USE_CACHE=!1;e.Serializer.USE_ENUM_INDEX=!1;e.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";e.Unserializer.DEFAULT_RESOLVER=w;e.Unserializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";e.ds.ObjectMap.count=0;h.main()})();
