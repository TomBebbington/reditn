(function(){var q={},G=function(){return j.Boot.__string_rec(this,"")},I=function(){};q.Adblock=I;I.__name__=["Adblock"];I.init=function(){I.hideAll(document.body.getElementsByClassName("promoted"));I.hideAll(document.body.getElementsByClassName("infobar"));I.hideAll(document.body.getElementsByClassName("goldvertisement"));var a=document.getElementById("spotlight-help");null!=a&&h.show(a.parentNode.parentNode,!1);a=document.getElementById("ad-frame");null!=a&&h.show(a,!1)};I.hideAll=function(a){for(var b=
0,c=a.length;b<c;){var d=b++;h.show(a[d],!1)}};var g=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};q.EReg=g;g.__name__=["EReg"];g.prototype={replace:function(a,b){return a.replace(this.r,b)},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:k.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;a=b}else{if(c=this.match(0>c?k.substr(a,b,null):k.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;a=c}return a},matchedPos:function(){if(null==this.r.m)throw"No string matched";
return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,this.r.s.length-a)},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return this.r.s.substr(0,this.r.m.index)},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);
this.r.s=a;return null!=this.r.m},__class__:g};var t=function(){};q.AutoScroll=t;t.__name__=["AutoScroll"];t.getLastId=function(){var a=document.body.getElementsByClassName("thing");return h.getThingId(a[a.length-1])};t.init=function(){t.regex.match(window.location.href)&&(t.count=r.parseInt(t.regex.matched(1)));t.nextBtn=document.body.getElementsByClassName("nextprev")[0];t.refresh();t.last=document.body.getElementsByClassName("sitetable")[0];window.addEventListener("scroll",function(){window.scrollY+
window.innerHeight>document.body.offsetHeight-window.innerHeight&&t.canLoad&&t.loadNext()})};t.loadNext=function(){null!=t.nextBtn&&(t.canLoad=!1,t.count+=50,h.getText(t.next,function(a){var b=document.createElement("div");b.innerHTML=a;b=b.getElementsByClassName("sitetable")[0];t.last.parentNode.appendChild(b);t.last=b;t.refresh();t.canLoad=!0;t.nextBtn.parentNode.removeChild(t.nextBtn);b.parentNode.appendChild(t.nextBtn);h.refreshLinks();x.Storage.data.get("expand")&&u.refresh(null,b);window.history.pushState(e.Serializer.run(h.state()),
null,t.next)}))};t.refresh=function(){if(null!=t.nextBtn){var a=window.location.href;-1!=a.indexOf("?")&&(a=k.substr(a,0,a.indexOf("?")));n.endsWith(a,"/")&&(a=k.substr(a,0,a.length-1));var b;-1!=a.indexOf("#")?(a=k.substr(a,0,a.indexOf("#")),b=window.location.hash):b="";var c=t.getLastId();t.next=""+a+"/?count="+t.count+"&after="+c+b;a=0;for(b=t.nextBtn.childNodes;a<b.length;)c=b[a],++a,"a"==c.nodeName.toLowerCase()&&-1!=c.rel.indexOf("next")&&(c.href=t.next)}};var R=function(){};q.DuplicateHider=
R;R.__name__=["DuplicateHider"];R.init=function(){for(var a=[],b=0,c=h.links;b<c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&(S.has(a,d.href)?h.show(d.parentElement.parentElement.parentElement,!1):a.push(d.href))}};var u=function(){};q.Expand=u;u.__name__=["Expand"];u.init=function(){u.toggled="#showall"==j.Browser.window.location.hash;var a=j.Browser.document.getElementsByClassName("tabmenu")[0],b=j.Browser.document.createElement("li");u.button=j.Browser.document.createElement("a");u.button.href=
"javascript:void(0);";u.button.onclick=function(){u.toggle(!u.toggled);window.history.pushState(e.Serializer.run(h.state()),null,u.toggled?"#showall":"#")};b.appendChild(u.button);null!=a&&a.appendChild(b);u.refresh()};u.defaultButton=function(a){a=a.getElementsByClassName("expando-button");0<a.length&&(a=u.adaptButton(a[0]),a.toggle(u.toggled,!1),u.buttons.push(a))};u.adaptButton=function(a){var b=j.Boot.__cast(a.parentElement.getElementsByTagName("a")[0],HTMLAnchorElement).href;a.style.width=a.style.height=
"23px";return{toggled:function(){return-1!=a.className.indexOf("expanded")},toggle:function(b,d){var f=-1!=a.className.indexOf("expanded");if(b!=f)a.onclick(null);u.queue++;e.Timer.delay(function(){0<a.parentElement.getElementsByClassName("error").length?(a.onclick(null),a.onclick(null)):u.queue--},1E3*u.queue);d&&window.history.pushState(e.Serializer.run(h.state()),null,null)},url:b,element:a}};u.refresh=function(a,b){null==a&&(a=!1);if(null!=u.button){u.button.innerHTML=""+(u.toggled?"hide":"show")+
" all";for(var c=j.Browser.document.body.getElementsByClassName("nextprev"),d=0;d<c.length;){var f=c[d];++d;var v,e=void 0,e=[];v=0;for(f=f.getElementsByTagName("a");v<f.length;){var l=f[v];++v;e.push(l)}v=e;for(e=0;e<v.length;)f=v[e],++e,"a"==f.nodeName.toLowerCase()&&(u.toggled&&-1==f.href.indexOf("#")?f.href+="#showall":!u.toggled&&-1!=f.href.indexOf("#")&&(f.href=k.substr(f.href,0,f.href.indexOf("#"))))}}d=0;for(c=null==b?h.links:b.getElementsByClassName("title");d<c.length;)if(v=c[d],++d,"a"==
v.nodeName.toLowerCase()){f=!1;if(a){e=0;for(l=u.buttons;e<l.length;){var g=l[e];++e;if(g.url==v.href){f=!0;break}}if(f)continue}e=v.parentElement.parentElement.parentElement.getElementsByClassName("entry")[0];0==e.getElementsByClassName("expando-button").length?z.createButton(v.href,e,null,e.getElementsByClassName("tagline")[0]):u.defaultButton(e)}};u.toggle=function(a){u.toggled=a;for(var b=0,c=u.buttons;b<c.length;){var d=c[b];++b;d.toggle(a,!1)}u.refresh()};u.loadImage=function(a){var b=j.Browser.document.createElement("img");
b.src=a;b.className="resize";u.initResize(b);var c=new e.Timer(30);c.run=function(){if(0<b.width&&0<b.height){c.stop();if(b.width>(0.7*j.Browser.window.innerWidth|0)){var a=b.height/b.width;b.width=0.7*j.Browser.window.innerWidth|0;b.height=b.width*a|0}b.height>(0.6*j.Browser.window.innerHeight|0)&&(a=b.width/b.height,b.height=0.6*j.Browser.window.innerHeight|0,b.width=b.height*a|0)}};return b};u.initResize=function(a){var b=0,c=0,d=0,f=!1;a.addEventListener("mousedown",function(v){if(!v.altKey&&
!v.ctrlKey&&!v.metaKey){f=!0;var e=a.getBoundingClientRect(),h=v.clientY-e.top;b=a.offsetWidth/(v.clientX-e.left);c=a.offsetHeight/h;d=a.offsetWidth/a.offsetHeight;v.preventDefault()}});a.addEventListener("mousemove",function(v){if(f){var e=a.getBoundingClientRect(),h=(v.clientX-e.left)*b,g=h/d,e=(v.clientY-e.top)*c,k=e*d;a.width=(g>e||h>k?h:k)|0;a.height=(g>e||h>k?g:e)|0;v.preventDefault()}});a.addEventListener("dblclick",function(){a.width=a.naturalWidth;a.height=a.naturalHeight});a.addEventListener("mouseup",
function(a){f=!1;a.preventDefault()});a.addEventListener("mouseout",function(a){f=!1;a.preventDefault()})};var k=function(){};q.HxOverrides=k;k.__name__=["HxOverrides"];k.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),f=a.getMinutes(),v=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>f?"0"+f:""+f)+":"+(10>v?"0"+v:""+v)};k.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);
b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};k.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};k.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};k.remove=
function(a,b){for(var c=0,d=a.length;c<d;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};k.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var m=function(){};q.Keyboard=m;m.__name__=["Keyboard"];m.init=function(){j.Browser.document.onkeydown=function(a){m.keyDown(a.keyCode)}};m.unhighlight=function(){if(null!=(null!=h.links[m.current]?h.links[m.current].parentElement.parentElement.parentElement:null))(null!=
h.links[m.current]?h.links[m.current].parentElement.parentElement.parentElement:null).style.border=""};m.highlight=function(a){m.unhighlight();null!=m.current&&m.current+a<h.links.length&&(m.current+=a);if(null==m.current||null==(null!=h.links[m.current]?h.links[m.current].parentElement.parentElement.parentElement:null))m.current=0;(null!=h.links[m.current]?h.links[m.current].parentElement.parentElement.parentElement:null).style.border="3px solid grey";(null!=h.links[m.current]?h.links[m.current].parentElement.parentElement.parentElement:
null).scrollIntoViewIfNeeded(!0)};m.show=function(a){null==a&&(a=!0);for(var b=(null!=h.links[m.current]?h.links[m.current].parentElement.parentElement.parentElement:null).getElementsByClassName("expando-button")[0],c=0,d=u.buttons;c<d.length;){var f=d[c];++c;if(f.element==b){f.toggle(a,!0);(null!=h.links[m.current]?h.links[m.current].parentElement.parentElement.parentElement:null).scrollIntoViewIfNeeded(!0);break}}};m.keyDown=function(a){for(m.keys.push(a);m.keys.length>m.konami.length;)k.remove(m.keys,
m.keys[0]);for(var b=m.keys.length>=m.konami.length,c=0,d=m.keys.length;c<d;){var f=c++;if(m.keys[f]!=m.konami[f]){b=!1;break}}b&&E.run();switch(a){case 39:m.show(!0);break;case 37:m.show(!1);break;case 38:m.highlight(-1);break;case 40:m.highlight(1)}};var E=function(){};q.Konami=E;E.__name__=["Konami"];E.translate=function(a){for(var b=0;E.filter.matchSub(a,b);)b=E.filter.matchedPos(),a=E.words[r.random(E.words.length)],console.log(a),b=b.pos+a.length,a=E.filter.matchedLeft()+a+E.filter.matchedRight();
return a};E.run=function(){j.Browser.document.title="Dubbit - the back page of the wubbanet";for(var a=0,b=h.links;a<b.length;){var c=b[a];++a;c.innerHTML=E.translate(c.innerHTML)}a=0;for(b=j.Browser.document.body.getElementsByClassName("author");a<b.length;)c=b[a],++a,c.innerHTML="dubstep";a=0;for(b=j.Browser.document.body.getElementsByClassName("subreddit");a<b.length;)c=b[a],++a,c.innerHTML="people with brains";a=0;for(b=j.Browser.document.body.getElementsByClassName("score");a<b.length;)c=b[a],
++a,c.innerHTML="-&infin;";a=0;for(b=document.body.getElementsByTagName("p");a<b.length;)c=b[a],++a,"parent"!=c.className&&(c.innerHTML=E.translate(c.innerHTML))};var S=function(){};q.Lambda=S;S.__name__=["Lambda"];S.has=function(a,b){var c;if(a instanceof Array)c=function(){return k.iter(a)};else if("function"==typeof a.iterator)if(c=a.iterator,null==c)c=null;else{null==c.__id__&&(c.__id__=Z++);var d;null==a.hx__closures__?a.hx__closures__={}:d=a.hx__closures__[c.__id__];null==d&&(d=function(){return d.method.apply(d.scope,
arguments)},d.scope=a,d.method=c,a.hx__closures__[c.__id__]=d);c=d}else c=a.iterator;for(c=c();c.hasNext();)if(c.next()==b)return!0;return!1};var h=function(){};q.Reditn=h;h.__name__=["Reditn"];h.main=function(){x.Browser.onload(h.init)};h.getThingId=function(a){var b=0;for(a=a.className.split(" ");b<a.length;){var c=a[b];++b;if(n.startsWith(c,"id-"))return k.substr(c,3,null)}return null};h.refreshLinks=function(){h.links=document.body.getElementsByClassName("title");for(var a=[],b=0,c=h.links;b<
c.length;){var d=c[b];++b;"a"==d.nodeName.toLowerCase()&&"parent"!=d.parentElement.className&&a.push(d)}h.links=a};h.init=function(){-1==window.location.href.indexOf("reddit.")||window.reditn_loaded||(window.reditn_loaded=!0,h.links=[],h.fullPage=0<document.getElementsByClassName("tabmenu").length,h.wrap(F.init),h.wrap(I.init,"adblock"),h.wrap(R.init,"dup-hider"),h.wrap(T.init,"nsfw-filter"),h.refreshLinks(),U.init(),console.log(chrome),console.log(y.fields(chrome)),x.Browser.notify({title:"Hello world!",
message:"HELLO!",icon:"icon128.png"}),h.wrap(t.init,"autoscroll"),h.wrap(u.init,"expand"),h.wrap(V.init,"text-expand"),h.wrap(m.init,"keyboard"),h.wrap(L.init,"preview"),h.wrap(M.init,"subinfo"),h.wrap(N.init,"useringo"),h.wrap(O.init,"user-tag"),h.wrap(P.init,"sub-tag"),window.history.replaceState(e.Serializer.run(h.state()),null,u.toggled?"#showall":null),window.onpopstate=function(a){a=a.state;if(null!=a){a=e.Unserializer.run(a);a.allExpanded!=u.toggled&&u.toggle(a.allExpanded);for(var b=0,c=u.buttons;b<
c.length;){var d=c[b];++b;var f=a.expanded;f.exists(d.url)&&d.toggle(f.get(d.url),!1)}}})};h.state=function(){for(var a=new e.ds.StringMap,b=0,c=u.buttons;b<c.length;){var d=c[b];++b;d.toggled()!=u.toggled&&a.set(d.url,d.toggled())}return{allExpanded:u.toggled,expanded:a}};h.wrap=function(a,b){var c=null==b?null:x.Storage.data.get(b);(null==b||c)&&a()};h.formatNumber=function(a){if(Math.isFinite(a)){var b=r.string(Math.abs(a)),c;-1!=b.indexOf(".")?(c=k.substr(b,b.indexOf("."),null),b=k.substr(b,0,
b.indexOf("."))):c="";if(3<=b.length){for(var d="",f=0,v=b.length;f<v;){var e=f++,d=d+b.charAt(e);0==(b.length-(e+1))%3&&e<b.length-1&&(d+=",")}b=d}a=(0>a?"-"+b:b)+c}else a=r.string(a);return a};h.formatPrice=function(a){var b=h.formatNumber(a|0);a=r.string(a);for(a=-1==a.indexOf(".")?".":k.substr(a,a.indexOf("."),null);3>a.length;)a+="0";return""+b+a};h.show=function(a,b){a.style.display=b?"":"none";if(-1!=a.className.indexOf("link")&&!b){var c=a.getElementsByClassName("entry")[0];k.remove(h.links,
c.getElementsByTagName("a")[0])}};h.age=function(a){if(86400>a)return"less than a day";a=e.Timer.stamp()-a;var b=a/86400%30.4375|0,c=a/2629800%12|0;a=a/2629800/12|0;var d="";0<a&&(d+=""+a+" year"+(1>=a?"":"s"));0<c&&(d+=", "+c+" month"+(1>=c?"":"s"));d+=", "+b+" day"+(1>=b?"":"s");for(n.startsWith(d,", ")&&(d=k.substr(d,2,null));-1!=d.indexOf(", , ");)d=n.replace(d,", , ",", ");return d};h.embedAlbum=function(a){var b=document.createElement("span");b.style.textAlign="center";for(var c=[],d=0;d<a.length;){var f=
a[d];++d;c.push(function(){var a=u.loadImage(f.url);a.title=(null!=f.caption?f.caption+" ":"")+(null!=f.author?"by "+f.author:"");b.appendChild(a);h.show(a,!1);return a}(this))}var v=null,e=document.createElement("span");e.style.fontWeight="bold";e.style.marginLeft="10px";var l=0,g=null,k=null,p=null;1<a.length&&(g=document.createElement("button"),g.innerHTML="Prev",b.appendChild(g),k=document.createElement("span"),k.style.textAlign="center",k.style.paddingLeft=k.style.paddingRight="5px",b.appendChild(k),
p=document.createElement("button"),p.innerHTML="Next",b.appendChild(p));if(1<a.length||null!=a[0].caption&&0<a[0].caption.length)b.appendChild(e),b.appendChild(document.createElement("br"));var j=function(d){if(!(0>d||d>=a.length)){var f=a[d],l=null;null!=v&&(h.show(v,!1),l=r.parseInt(v.style.height));v=c[d];v.style.display="block";if(null!=l){var j=v.width/v.height;v.style.height=l+"px";v.style.width=(l*j|0)+"px"}b.appendChild(v);null!=g&&(l=h.formatNumber(a.length),j=h.formatNumber(d+1),k.innerHTML=
""+j+" of "+l,g.disabled=0>=d,p.disabled=d>=a.length-1);h.show(e,null!=f.caption);null!=f.caption&&(e.innerHTML=n.htmlEscape(f.caption),null!=f.author&&(e.innerHTML+=" <em>by "+f.author+"</em>"))}};j(0);null!=g&&(g.onmousedown=function(){j(--l)},p.onmousedown=function(){j(++l)});return b};h.getData=function(a){for(;null!=a.data;)a=a.data;for(;null!=a.response;)a=a.response;return a};h.getText=function(a,b,c,d,f){a=new e.Http(a);null!=c&&a.setHeader("Authorization",c);null!=d&&a.setHeader("Content-Type",
d);a.onData=b;null!=f&&a.setPostData(f);a.request(null!=f)};h.embedMap=function(a){for(var b=document.createElement("dl"),c=a.keys();c.hasNext();){var d=c.next();if(null!=a.get(d)&&0<a.get(d).length){var f=document.createElement("dt");f.innerHTML=d;b.appendChild(f);f=document.createElement("dd");f.innerHTML=a.get(d);b.appendChild(f)}}b.className="md reditn-table";return b};h.getJSON=function(a,b,c,d,f){null==d&&(d="application/json");h.getText(a,function(a){n.startsWith(a,"jsonFlickrApi(")&&n.endsWith(a,
")")&&(a=a.substring(14,a.length-1));b(h.getData(e.Json.parse(a)))},c,d,f)};h.getXML=function(a,b,c,d,f){null==d&&(d="application/json");h.getText(a,function(a){b(h.getData(s.parse(a)))},c,d,f)};h.popUp=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);document.body.appendChild(b);b.className="popup";b.style.position="absolute";b.style.width=(0.25*window.innerWidth|0)+"px";b.style.left=""+c+"px";b.style.top=""+(d-30)+"px";a.onmouseout=b.onblur=function(){b.parentElement.removeChild(b);a.mouseover=!1};
return b};h.fullPopUp=function(a,b){null==b&&(b=0);var c=document.getElementsByClassName("popup")[0];null!=c&&c.parentElement.removeChild(c);document.body.appendChild(a);c=document.createElement("a");c.style.position="absolute";c.style.right=c.style.top="5px";c.innerHTML="<b>Close</b>";c.href="javascript:void(0);";c.onclick=a.onblur=function(){a.parentElement.removeChild(a)};a.appendChild(c);a.className="popup";0!=b&&(a.style.top=""+(b-window.scrollY)+"px");return a};var n=function(){};q.StringTools=
n;n.__name__=["StringTools"];n.urlEncode=function(a){return encodeURIComponent(a)};n.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};n.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};n.htmlUnescape=function(a){return a.split("&gt;").join(">").split("&lt;").join("<").split("&quot;").join('"').split("&#039;").join("'").split("&amp;").join("&")};n.startsWith=
function(a,b){return a.length>=b.length&&k.substr(a,0,b.length)==b};n.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&k.substr(a,d-c,c)==b};n.isSpace=function(a,b){var c=k.cca(a,b);return 8<c&&14>c||32==c};n.ltrim=function(a){for(var b=a.length,c=0;c<b&&n.isSpace(a,c);)c++;return 0<c?k.substr(a,c,b-c):a};n.rtrim=function(a){for(var b=a.length,c=0;c<b&&n.isSpace(a,b-c-1);)c++;return 0<c?k.substr(a,0,b-c):a};n.trim=function(a){return n.ltrim(n.rtrim(a))};n.replace=function(a,b,c){return a.split(b).join(c)};
var e={Json:function(){}};q["haxe.Json"]=e.Json;e.Json.__name__=["haxe","Json"];e.Json.parse=function(a){return(new e.Json).doParse(a)};e.Json.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,d=!c,f=48==a,v=!1,e=!1,h=!1,g=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:f&&!v&&this.invalidNumber(b);c&&(c=!1,f=!0);d=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f&&!v&&this.invalidNumber(b);c&&(c=!1);d=!0;f=!1;break;case 46:(c||v)&&this.invalidNumber(b);
d=!1;v=!0;break;case 101:case 69:(c||f||e)&&this.invalidNumber(b);d=!1;e=!0;break;case 43:case 45:(!e||h)&&this.invalidNumber(b);d=!1;h=!0;break;default:d||this.invalidNumber(b),this.pos--,g=!0}if(g)break}a=r.parseFloat(k.substr(this.str,b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+k.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new H;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,
a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\b";break;case 102:b.b+="\f";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);break;case 117:a=r.parseInt("0x"+k.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,
a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;
case 91:b=[];for(a=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=
this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);default:this.invalidChar()}}},
invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:e.Json};e.Http=function(a){this.url=a;this.headers=new e.ds.StringMap;this.params=new e.ds.StringMap;this.async=!0};q["haxe.Http"]=e.Http;e.Http.__name__=["haxe","Http"];e.Http.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=this;b.responseData=null;var c=j.Browser.createXMLHttpRequest(),
d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(b.responseData=c.responseText);else if(null==a)b.onError("Failed to connect or resolve host");else switch(a){case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var f=this.postData;if(null!=f)a=
!0;else for(var e=this.params.keys();e.hasNext();)var h=e.next(),f=null==f?"":f+"&",f=f+(n.urlEncode(h)+"="+n.urlEncode(this.params.get(h)));try{if(a)c.open("POST",this.url,this.async);else if(null!=f){var l=1>=this.url.split("?").length;c.open("GET",this.url+(l?"?":"&")+f,this.async);f=null}else c.open("GET",this.url,this.async)}catch(g){this.onError(g.toString());return}null==this.headers.get("Content-Type")&&(a&&null==this.postData)&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
for(a=this.headers.keys();a.hasNext();)e=a.next(),c.setRequestHeader(e,this.headers.get(e));c.send(f);this.async||d(null)},setPostData:function(a){this.postData=a;return this},setHeader:function(a,b){this.headers.set(a,b);return this},__class__:e.Http};var A=function(){};q.IMap=A;A.__name__=["IMap"];e.ds={};e.ds.StringMap=function(){this.h={}};q["haxe.ds.StringMap"]=e.ds.StringMap;e.ds.StringMap.__name__=["haxe","ds","StringMap"];e.ds.StringMap.__interfaces__=[A];e.ds.StringMap.prototype={keys:function(){var a=
[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return k.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:e.ds.StringMap};var r=function(){};q.Std=r;r.__name__=["Std"];r.string=function(a){return j.Boot.__string_rec(a,"")};r.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==k.cca(a,1)||88==k.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};r.parseFloat=function(a){return parseFloat(a)};
r.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var j={Boot:function(){}};q["js.Boot"]=j.Boot;j.Boot.__name__=["js","Boot"];j.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,f=a.length;d<f;)var e=d++,c=2!=e?c+(","+j.Boot.__string_rec(a[e],b)):c+j.Boot.__string_rec(a[e],
b);return c+")"}d=a.length;c="[";b+="\t";for(f=0;f<d;)e=f++,c+=(0<e?",":"")+j.Boot.__string_rec(a[e],b);return c+"]"}try{f=a.toString}catch(h){return"???"}if(null!=f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;f=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(f in a)if(!d||a.hasOwnProperty(f))"prototype"==f||("__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f)||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+j.Boot.__string_rec(a[f],b));b=b.substring(1);return c+=
"\n"+b+"}";case "function":return"<function>";case "string":return a;default:return String(a)}};j.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var e=d++,e=c[e];if(e==b||j.Boot.__interfLoop(e,b))return!0}return j.Boot.__interfLoop(a.__super__,b)};j.Boot.__instanceof=function(a,b){if(null==b)return!1;switch(b){case X:return(a|0)===a;case Y:return"number"==typeof a;case W:return"boolean"==typeof a;case String:return"string"==
typeof a;case $:return!0;default:if(null!=a){if("function"==typeof b){if(a instanceof b)return b==Array?null==a.__enum__:!0;if(j.Boot.__interfLoop(a.__class__,b))return!0}}else return!1;return b==aa&&null!=a.__name__||b==ba&&null!=a.__ename__?!0:a.__enum__==b}};j.Boot.__cast=function(a,b){if(j.Boot.__instanceof(a,b))return a;throw"Cannot cast "+r.string(a)+" to "+r.string(b);};var y=function(){};q.Reflect=y;y.__name__=["Reflect"];y.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,
b)};y.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};y.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&("hx__closures__"!=d&&c.call(a,d))&&b.push(d)}return b};y.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};y.deleteField=function(a,b){if(!y.hasField(a,b))return!1;delete a[b];return!0};var B,D;B=function(){};q["parser.MediaWiki"]=B;B.__name__=["parser","MediaWiki"];B.parse=function(a,b){for(var c=
0,d=B.regex;c<d.length;){var f=d[c];++c;for(var e=0;f.from.match(a)&&64>e++;)a=f.from.replace(a,f.to),f.from.matchedPos()}a=n.replace(a,"$BASE",b);n.startsWith(a,"<br>")&&(a=k.substr(a,4,null));a.split("{{").length<a.split("}}").length&&(a=k.substr(a,a.indexOf("}}")+2,null));return a};B.trimTo=function(a,b){b=n.trim(n.replace(b,"_"," "));for(var c={pos:0,len:0},d=null;B.sections.matchSub(a,c.pos+c.len);)if(c=B.sections.matchedPos(),n.trim(B.sections.matched(2))==n.trim(b)){d=B.sections.matched(1).length;
break}null!=d&&(a=k.substr(a,c.pos+c.len,null),a=k.substr(a,0,a.indexOf("<h"+d+">")));return a};B.getAlbum=function(a){for(var b=[];B.IMAGES.match(a);){var c=B.IMAGES.matchedPos();a=k.substr(a,c.pos+c.len,null);c=B.IMAGES.matched(2)+"."+B.IMAGES.matched(3);n.startsWith(c,"File:")&&(c=k.substr(c,5,null));b.push({url:c,caption:null,author:null})}return b};D=function(){};q["parser.Markdown"]=D;D.__name__=["parser","Markdown"];D.parse=function(a){for(;D.header.match(a);)D.header.matchedPos(),a=1+D.header.matched(1).length,
6<a&&(a=6),a=D.header.matchedLeft()+("<h"+a+">"+D.header.matched(2)+"</h"+a+">")+D.header.matchedRight();for(var b=0,c=D.regex;b<c.length;){var d=c[b];for(++b;d.from.match(a);)a=d.from.replace(a,d.to)}return a};var s=function(){};q.Xml=s;s.__name__=["Xml"];s.parse=function(a){return e.xml.Parser.parse(a)};s.createElement=function(a){var b=new s;b.nodeType=s.Element;b._children=[];b._attributes=new e.ds.StringMap;b.set_nodeName(a);return b};s.createPCData=function(a){var b=new s;b.nodeType=s.PCData;
b.set_nodeValue(a);return b};s.createCData=function(a){var b=new s;b.nodeType=s.CData;b.set_nodeValue(a);return b};s.createComment=function(a){var b=new s;b.nodeType=s.Comment;b.set_nodeValue(a);return b};s.createDocType=function(a){var b=new s;b.nodeType=s.DocType;b.set_nodeValue(a);return b};s.createProcessingInstruction=function(a){var b=new s;b.nodeType=s.ProcessingInstruction;b.set_nodeValue(a);return b};s.createDocument=function(){var a=new s;a.nodeType=s.Document;a._children=[];return a};s.prototype=
{addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&k.remove(a._parent._children,a);a._parent=this;this._children.push(a)},exists:function(a){if(this.nodeType!=s.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=s.Element)throw"bad nodeType";this._attributes.set(a,b)},set_nodeValue:function(a){if(this.nodeType==s.Element||this.nodeType==s.Document)throw"bad nodeType";return this._nodeValue=a},set_nodeName:function(a){if(this.nodeType!=
s.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=s.Element)throw"bad nodeType";return this._nodeName},__class__:s};e.xml={};e.xml.Parser=function(){};q["haxe.xml.Parser"]=e.xml.Parser;e.xml.Parser.__name__=["haxe","xml","Parser"];e.xml.Parser.parse=function(a){var b=s.createDocument();e.xml.Parser.doParse(a,0,b);return b};e.xml.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,f=1,h=1,g=null,l=0,K=0,j=0,p=a.charCodeAt(b),n=new H;p==p;){switch(f){case 0:switch(p){case 10:case 13:case 9:case 32:break;
default:f=h;continue}break;case 1:switch(p){case 60:f=0;h=2;break;default:l=b;f=13;continue}break;case 13:60==p?(f=s.createPCData(n.b+k.substr(a,l,b-l)),n=new H,c.addChild(f),K++,f=0,h=2):38==p&&(n.addSub(a,l,b-l),f=18,h=13,l=b+1);break;case 17:93==p&&(93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(f=s.createCData(k.substr(a,l,b-l)),c.addChild(f),K++,b+=2,f=1);break;case 2:switch(p){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=k.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;f=
17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=k.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;f=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;f=15}l=b+1;break;case 63:f=14;l=b;break;case 47:if(null==c)throw"Expected node name";l=b+1;f=0;h=10;break;default:f=3;l=b;continue}break;case 3:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(b==l)throw"Expected node name";d=s.createElement(k.substr(a,
l,b-l));c.addChild(d);f=0;h=4;continue}break;case 4:switch(p){case 47:f=11;K++;break;case 62:f=9;K++;break;default:f=5;l=b;continue}break;case 5:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(l==b)throw"Expected attribute name";g=k.substr(a,l,b-l);if(d.exists(g))throw"Duplicate attribute";f=0;h=6;continue}break;case 6:switch(p){case 61:f=0;h=7;break;default:throw"Expected =";}break;case 7:switch(p){case 34:case 39:f=8;l=b;break;default:throw'Expected "';}break;case 8:p==
a.charCodeAt(l)&&(h=k.substr(a,l+1,b-l-1),d.set(g,h),f=0,h=4);break;case 9:l=b=e.xml.Parser.doParse(a,b,d);f=1;break;case 11:switch(p){case 62:f=1;break;default:throw"Expected >";}break;case 12:switch(p){case 62:return 0==K&&c.addChild(s.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(l==b)throw"Expected node name";if(k.substr(a,l,b-l)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";f=0;h=12;continue}break;
case 15:45==p&&(45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(c.addChild(s.createComment(k.substr(a,l,b-l))),b+=2,f=1);break;case 16:91==p?j++:93==p?j--:62==p&&0==j&&(c.addChild(s.createDocType(k.substr(a,l,b-l))),f=1);break;case 14:63==p&&62==a.charCodeAt(b+1)&&(b++,f=k.substr(a,l+1,b-l-2),c.addChild(s.createProcessingInstruction(f)),f=1);break;case 18:59==p&&(l=k.substr(a,l,b-l),35==l.charCodeAt(0)?(l=120==l.charCodeAt(1)?r.parseInt("0"+k.substr(l,1,l.length-1)):r.parseInt(k.substr(l,1,l.length-
1)),n.b+=r.string(String.fromCharCode(l))):n.b=e.xml.Parser.escapes.exists(l)?n.b+r.string(e.xml.Parser.escapes.get(l)):n.b+r.string("&"+l+";"),l=b+1,f=h)}p=a.charCodeAt(++b)}1==f&&(l=b,f=13);if(13==f)return(b!=l||0==K)&&c.addChild(s.createPCData(n.b+k.substr(a,l,b-l))),b;throw"Unexpected end";};var H=function(){this.b=""};q.StringBuf=H;H.__name__=["StringBuf"];H.prototype={addSub:function(a,b,c){this.b+=null==c?k.substr(a,b,null):k.substr(a,b,c)},__class__:H};var z=function(){};q.Link=z;z.__name__=
["Link"];z.resolve=function(a){a=z.trimURL(a);for(var b=0,c=z.sites;b<c.length;){var d=c[b];++b;try{if(d.regex.match(a)&&d.regex.matchedPos().len==a.length)return d}catch(f){console.log("Error "+r.string(f)+" whilst processing regex "+r.string(d.regex))}}return null};z.trimURL=function(a){n.startsWith(a,"http://")?a=k.substr(a,7,null):n.startsWith(a,"https://")&&(a=k.substr(a,8,null));n.startsWith(a,"www.")?a=k.substr(a,4,null):n.startsWith(a,"m.")&&(a=k.substr(a,2,null));-1!=a.indexOf("&")&&(a=k.substr(a,
0,a.indexOf("&")));-1!=a.indexOf("?")&&(!n.startsWith(a,"facebook.com/")&&!n.startsWith(a,"youtube.com/"))&&(a=k.substr(a,0,a.indexOf("?")));-1!=a.indexOf("#")&&-1==a.indexOf("/wiki/")&&(a=k.substr(a,0,a.indexOf("#")));n.endsWith(a,"/")&&(a=k.substr(a,0,a.length-1));return a};z.filterHTML=function(a){for(var b=0,c=z.HTML_FILTERS;b<c.length;){var d=c[b];for(++b;d.match(a);)a=d.replace(a,"")}b=0;for(c=z.HTML_CLEANERS;b<c.length;)d=c[b],++b,a=d.from.replace(a,d.to);if(n.startsWith(a,"<br>")||n.startsWith(a,
"<br />"))a=k.substr(a,a.indexOf(">")+1,null);n.endsWith(a,"<br>")&&(a=k.substr(a,0,a.length-4));return a};z.createButton=function(a,b,c,d){var f=z.resolve(a),v=null;if(null!=f){var g=document.createElement("div"),l="expando-button reditn-expando-button ",k=u.toggled,q=k?"expanded":"collapsed",p=null;g.className=""+l+" "+q;v={toggled:function(){return k},toggle:function(a,b){k=a;g.className=l+(q=k?"expanded":"collapsed");null!=p&&h.show(p,a);b&&window.history.pushState(e.Serializer.run(h.state()),
null,null)},url:a,element:g};g.onclick=function(){v.toggle(!k,!0)};f.method(f.regex,function(f){var s="selftext",m;if(y.hasField(f,"urls")){var w=[];for(m=f.urls.keys();m.hasNext();){var t=m.next();w.push('<li><a href="'+f.urls.get(t)+'">'+t+"</a></li>")}m=j.Browser.document.createElement("div");m.className="usertext";t=j.Browser.document.createElement("div");t.appendChild(h.embedMap(function(){var a=new e.ds.StringMap;a.set("Name",f.name);a.set("Description",f.description);a.set("Links",w.join(""));
return a}(this)));0<f.album.length&&(t.appendChild(j.Browser.document.createElement("br")),t.appendChild(h.embedAlbum(f.album)));m.appendChild(t)}else if(y.hasField(f,"price"))console.log(f),m=j.Browser.document.createElement("div"),m.className="usertext",s=j.Browser.document.createElement("div"),s.appendChild(h.embedMap(function(){var a=new e.ds.StringMap;a.set("Category",n.htmlEscape(f.category));a.set("Location",n.htmlEscape(f.location));a.set("Price",n.htmlEscape(f.price));a.set("Description",
f.description);return a}(this))),s.appendChild(h.embedAlbum(f.images)),m.appendChild(s),s="item";else if(y.hasField(f,"subscribers"))m=j.Browser.document.createElement("div"),m.className="usertext",m.appendChild(h.embedMap(function(){var a=new e.ds.StringMap;a.set("Age",h.age(f.created_utc));a.set("Subscribers",h.formatNumber(f.subscribers));a.set("Active users",h.formatNumber(f.accounts_active));a.set("Description",D.parse(f.description));return a}(this)));else if(y.hasField(f,"html"))m=j.Browser.document.createElement("div"),
m.innerHTML=f.html,s="video";else if(y.hasField(f,"content")){m=j.Browser.document.createElement("div");m.className="usertext";var t=j.Browser.document.createElement("div"),x=j.Browser.document.createElement("span");x.innerHTML=f.content;t.appendChild(x);null!=f.images&&0<f.images.length&&(t.appendChild(j.Browser.document.createElement("br")),t.appendChild(h.embedAlbum(f.images)));t.className="md";m.appendChild(t)}else j.Boot.__instanceof(f,Array)&&y.hasField(f[0],"url")?(m=h.embedAlbum(f),s="image"):
y.hasField(f,"developers")?(console.log(a),m=document.createElement("div"),m.className="usertext",t=j.Browser.document.createElement("div"),x=j.Browser.document.createElement("span"),x.innerHTML=""+r.string(f.description)+'<br><a href="'+r.string(f.url)+'"><b>Clone repo</b></a><br>',null!=f.album&&0<f.album.length&&x.appendChild(h.embedAlbum(f.album)),t.appendChild(x),t.className="md",m.appendChild(t)):(console.log("Unknown value: "+r.string(f)),m=null);null!=m&&(p=document.createElement("div"),p.className=
"expando",p.appendChild(m),l+=""+s+" ",g.className=""+l+" "+q,u.buttons.push(v),h.show(p,k),null==c?b.appendChild(p):b.insertBefore(p,c),null==d?b.insertBefore(g,p):b.insertBefore(g,d))})}return null!=v?v.element:null};var Q=function(){this.length=0};q.List=Q;Q.__name__=["List"];Q.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:
this.q[1]=a;this.q=a;this.length++},__class__:Q};var T=function(){};q.NSFWFilter=T;T.__name__=["NSFWFilter"];T.init=function(){for(var a=j.Browser.document.body.getElementsByClassName("nsfw-stamp"),b=0;b<a.length;){var c=a[b];++b;"li"==c.nodeName.toLowerCase()&&h.show(c.parentNode.parentNode.parentNode,!1)}};var L=function(){};q.Preview=L;L.__name__=["Preview"];L.init=function(){for(var a=j.Browser.document.body.getElementsByClassName("usertext-edit"),b=0;b<a.length;){var c=a[b];++b;L.preview(c)}};
L.preview=function(a){var b=a.getElementsByTagName("textarea")[0];if(null!=b){var c=j.Browser.document.createElement("div");a.appendChild(c);c.className="md";var d=null;b.onfocus=function(){d=new e.Timer(100);d.run=function(){c.innerHTML=D.parse(b.value)}};b.onblur=function(){d.stop();d=null}}};var F=function(){};q.Settings=F;F.__name__=["Settings"];F.fixMissing=function(a){null==a&&(a=!1);for(var b=F.settings.keys();b.hasNext();){var c=b.next();if(!x.Storage.data.exists(c)||a){var d=F.settings.get(c).def;
x.Storage.data.set(c,d)}}};F.init=function(){F.fixMissing();var a=document.getElementById("header-bottom-right");if(null!=a){var b=a.getElementsByTagName("ul")[0],c=document.createElement("a");c.innerHTML="reditn";c.className="pref-lang";c.href="javascript:void(0);";c.onclick=function(){F.settingsPopUp()};null==b?a.appendChild(c):a.insertBefore(c,b);c=document.createElement("span");c.innerHTML=" | ";c.className="seperator";c.style.fontWeight="none";a.insertBefore(c,b)}};F.settingsPopUp=function(){var a=
document.getElementById("reditn-config");null!=a&&a.parentElement.removeChild(a);var a=document.createElement("div"),b=document.createElement("h1");b.innerHTML="Reditn settings";a.appendChild(b);h.fullPopUp(a);var c=document.createElement("form");c.id="reditn-config";c.action="javascript:void(0);";c.onchange=function(){for(var a=c.childNodes,b=0;b<a.length;){var d=a[b];++b;if("button"!=d.type&&"input"==d.nodeName.toLowerCase()){var f=void 0;switch(d.type.toLowerCase()){case "checkbox":f=d.checked;
break;default:f=d.value}x.Storage.data.set(d.name,f)}}x.Storage.flush()};b=document.createElement("input");b.type="button";b.value="Restore default settings";b.onclick=function(){F.fixMissing(!0);x.Storage.flush();F.settingsPopUp()};c.appendChild(b);c.appendChild(document.createElement("br"));for(b=F.settings.keys();b.hasNext();){var d=b.next(),f=F.settings.get(d),e=x.Storage.data.get(d);if(null!=f.desc){var g=document.createElement("label");g.setAttribute("for",d);g.style.position="absolute";g.style.width=
"46%";g.style.textAlign="right";g.innerHTML=f.desc;c.appendChild(g);f=document.createElement("input");f.style.position="absolute";f.style.left="54%";f.style.textAlign="left";f.style.width="46%";f.name=d;c.appendChild(f);c.appendChild(document.createElement("br"));f.type=j.Boot.__instanceof(e,W)?"checkbox":j.Boot.__instanceof(e,String)?"text":j.Boot.__instanceof(e,Date)?"datetime":j.Boot.__instanceof(e,X)?"number":"text";j.Boot.__instanceof(e,W)?f.checked=x.Storage.data.get(d):f.value=x.Storage.data.get(d)}}b=
document.createElement("div");b.style.fontWeight="bold";b.innerHTML="Close this dialog and refresh the page to see your changes in effect. Changes will be saved automatically.";c.appendChild(b);a.appendChild(c)};var U=function(){};q.Style=U;U.__name__=["Style"];U.init=function(){var a=document.createElement("style");a.innerHTML='.expando-button.image.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.image.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -0px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed{\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-24px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.collapsed:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-0px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-72px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button.item.expanded:hover {\n\tbackground-image:url("https://raw.github.com/TopHattedCoder/reditn/master/src/sprites.png");\n\tbackground-position:-48px -23px;\n\tbackground-repeat:no-repeat\n}\n.expando-button {\n\tfloat: left;\n}\n.expando-button.collapsed {\n\tpadding: 0px;\n}\np .expando-button {\n\tdisplay: inline-block;\n\tfloat: none;\n\tmargin: 0px;\n\tpadding: 0px;\n}\ndl.reditn-table  {\n\tfloat: left;\n\twidth: 100%;\n\tpadding: 0;\n}\n.reditn-table dt {\n\tclear: left;\n\tfloat: left;\n\twidth: 16%;\n\tfont-weight: bold;\n\ttext-align: right;\n}\n.reditn-table dd {\n\tfloat: left;\n\ttext-align: left;\n}';
document.head.appendChild(a)};var M=function(){};q.SubredditInfo=M;M.__name__=["SubredditInfo"];M.init=function(){for(var a=j.Browser.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=M._onMouseOverSubreddit}};M._onMouseOverSubreddit=function(a){a=a.target;var b=a.innerHTML,c=j.Browser.document.createElement("div");h.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);h.getJSON("/r/"+b+"/about.json",function(a){var f=h.formatNumber(a.subscribers),e=h.formatNumber(a.accounts_active),
g=D.parse(a.public_description);a=h.age(a.created_utc);var l="<b>Name:</b> "+b+" <br>",k=x.Storage.data.get("sub-tags");k.exists(b)&&(l+="<b>Tag:</b> "+k.get(b)+"<br>");l=l+("<b>Subscribers:</b> "+f+" <br>")+("<b>Active Users:</b> "+e+" <br>");l+="<b>Description:</b> "+g+" <br>";l+="<b>Age:</b> "+a+" <br>";c.innerHTML=l})};var P=function(){};q.SubredditTagger=P;P.__name__=["SubredditTagger"];P.init=function(){for(var a=j.Browser.document.body.getElementsByClassName("subreddit"),b=0;b<a.length;){var c=
a[b];++b;P.getTag(c)}};P.getTag=function(a){var b=j.Browser.document.createElement("span"),c=n.trim(a.innerHTML),d=x.Storage.data.get("sub-tags").exists(c)?x.Storage.data.get("sub-tags").get(c):null;b.className="flair";var f=j.Browser.document.createElement("span");f.innerHTML=null==d?"":n.htmlEscape(d)+" ";b.appendChild(f);var e=j.Browser.document.createElement("a");e.href="javascript:void(0);";e.innerHTML="[+]";b.appendChild(e);e.onclick=function(){var a=j.Browser.document.createElement("div"),
b=j.Browser.document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var g=j.Browser.document.createElement("input");g.name="tag-change";g.value=d;g.style.width="100%";g.onchange=function(){x.Storage.data.get("sub-tags").set(c,g.value);f.innerHTML=n.htmlEscape(g.value)+" ";x.Storage.flush();a.parentElement.removeChild(a)};a.appendChild(g);h.fullPopUp(a,e.offsetTop+e.offsetHeight);g.focus()};a.parentElement.insertBefore(b,a.nextSibling)};var V=
function(){};q.TextExpand=V;V.__name__=["TextExpand"];V.init=function(){for(var a=document.body.getElementsByClassName("usertext-body"),b=0;b<a.length;){var c=a[b];++b;var d=void 0;try{d=j.Boot.__cast(c,Element).getElementsByClassName("md")[0]}catch(f){d=null}c=d;if(null!=c){c=c.getElementsByTagName("a");for(d=0;d<c.length;){var e=c[d];++d;z.createButton(e.href,e.parentElement,e.nextSibling)}}}};var w=q.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};
w.TNull=["TNull",0];w.TNull.toString=G;w.TNull.__enum__=w;w.TInt=["TInt",1];w.TInt.toString=G;w.TInt.__enum__=w;w.TFloat=["TFloat",2];w.TFloat.toString=G;w.TFloat.__enum__=w;w.TBool=["TBool",3];w.TBool.toString=G;w.TBool.__enum__=w;w.TObject=["TObject",4];w.TObject.toString=G;w.TObject.__enum__=w;w.TFunction=["TFunction",5];w.TFunction.toString=G;w.TFunction.__enum__=w;w.TClass=function(a){a=["TClass",6,a];a.__enum__=w;a.toString=G;return a};w.TEnum=function(a){a=["TEnum",7,a];a.__enum__=w;a.toString=
G;return a};w.TUnknown=["TUnknown",8];w.TUnknown.toString=G;w.TUnknown.__enum__=w;var C=function(){};q.Type=C;C.__name__=["Type"];C.getClassName=function(a){return a.__name__.join(".")};C.getEnumName=function(a){return a.__ename__.join(".")};C.resolveClass=function(a){a=q[a];return null==a||!a.__name__?null:a};C.resolveEnum=function(a){a=q[a];return null==a||!a.__ename__?null:a};C.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};C.createEnum=function(a,b,c){var d=
y.field(a,b);if(null==d)throw"No such constructor "+b;if(y.isFunction(d)){if(null==c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};C.getEnumConstructs=function(a){return a.__constructs__.slice()};C["typeof"]=function(a){switch(typeof a){case "boolean":return w.TBool;case "string":return w.TClass(String);case "number":return Math.ceil(a)==a%2147483648?w.TInt:w.TFloat;case "object":if(null==a)return w.TNull;
var b=a.__enum__;if(null!=b)return w.TEnum(b);a=a.__class__;return null!=a?w.TClass(a):w.TObject;case "function":return a.__name__||a.__ename__?w.TObject:w.TFunction;case "undefined":return w.TNull;default:return w.TUnknown}};var N=function(){};q.UserInfo=N;N.__name__=["UserInfo"];N.init=function(){for(var a=j.Browser.document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;c.onmouseover=N._onMouseOverUser}};N._onMouseOverUser=function(a){a=a.target;var b=a.innerHTML,b=k.substr(b,
b.lastIndexOf("/")+1,null),c=j.Browser.document.createElement("div");h.popUp(a,c,a.offsetLeft+a.offsetWidth,a.offsetTop);h.getJSON("/user/"+b+"/about.json",function(a){var b=a.name,e=h.age(a.created_utc),g=h.formatNumber(a.link_karma),l=h.formatNumber(a.comment_karma),k="<b>User:</b> "+b+"<br>",j=x.Storage.data.get("user-tags");j.exists(b)&&(k+="<b>Tag:</b> "+j.get(b)+"<br>");k=k+("<b>Account age:</b> "+e+"<br>")+("<b>Karma:</b> "+g+" link karma, "+l+" comment karma");a.is_mod&&(k+="<br><b>Moderator</b>");
a.is_gold&&(k+="<br><b>Gold</b>");c.innerHTML=k})};var O=function(){};q.UserTagger=O;O.__name__=["UserTagger"];O.init=function(){for(var a=document.body.getElementsByClassName("author"),b=0;b<a.length;){var c=a[b];++b;O.getTag(c)}};O.getTag=function(a){var b=document.createElement("span"),c=n.trim(a.innerHTML),d=x.Storage.data.get("user-tags").exists(c)?x.Storage.data.get("user-tags").get(c):null;b.className="flair";var f=document.createElement("span");f.innerHTML=null==d?"":n.htmlEscape(d)+" ";b.appendChild(f);
var e=document.createElement("a");e.href="javascript:void(0);";e.innerHTML="[+]";b.appendChild(e);e.onclick=function(){var a=document.createElement("div"),b=document.createElement("label");b.setAttribute("for","tag-change");b.innerHTML="Tag for "+c+" ";a.appendChild(b);var g=document.createElement("input");g.name="tag-change";g.value=d;g.style.width="100%";g.onchange=function(){x.Storage.data.get("user-tags").set(c,g.value);f.innerHTML=n.htmlEscape(g.value)+" ";x.Storage.flush();a.parentElement.removeChild(a)};
a.appendChild(g);h.fullPopUp(a,e.offsetTop+e.offsetHeight);g.focus()};a.parentElement.insertBefore(b,a.nextSibling)};q.XmlType={__ename__:["XmlType"],__constructs__:[]};var x={Browser:function(){}};q["ext.Browser"]=x.Browser;x.Browser.__name__=["ext","Browser"];x.Browser.onload=function(a){switch(document.readyState){case "complete":a();break;default:window.onload=function(){a()}}};x.Browser.notify=function(a){var b={type:"basic",title:a.title,message:a.message,iconUrl:a.icon};try{chrome.notifications.create(r.string(x.Browser.nid++),
b,function(){})}catch(c){null!=window.notifications&&(0!=window.notifications.checkPermission()?window.notifications.requestPermission(function(){window.notifications.createNotification(null,a.title,a.message);return!0}):window.notifications.createNotification(null,a.title,a.message))}};e.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=e.Unserializer.DEFAULT_RESOLVER;null==a&&(a=C,e.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};q["haxe.Unserializer"]=
e.Unserializer;e.Unserializer.__name__=["haxe","Unserializer"];e.Unserializer.initCodes=function(){for(var a=[],b=0,c=e.Unserializer.BASE64.length;b<c;){var d=b++;a[e.Unserializer.BASE64.charCodeAt(d)]=d}return a};e.Unserializer.run=function(a){return(new e.Unserializer(a)).unserialize()};e.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return r.parseFloat(k.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=k.substr(this.buf,this.pos,b);this.pos+=b;a=n.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=
this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();
a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=C.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=C.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+
b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new Q;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new e.ds.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new e.ds.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);
if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new e.ds.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=k.strDate(k.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";d=e.Unserializer.CODES;null==d&&(d=e.Unserializer.initCodes(),e.Unserializer.CODES=
d);for(var a=this.pos,f=b&3,h=a+(b-f),g=e.io.Bytes.alloc(3*(b>>2)+(2<=f?f-1:0)),l=0;a<h;){var j=d[c.charCodeAt(a++)],m=d[c.charCodeAt(a++)];g.b[l++]=(j<<2|m>>4)&255;j=d[c.charCodeAt(a++)];g.b[l++]=(m<<4|j>>2)&255;m=d[c.charCodeAt(a++)];g.b[l++]=(j<<6|m)&255}2<=f&&(j=d[c.charCodeAt(a++)],m=d[c.charCodeAt(a++)],g.b[l++]=(j<<2|m>>4)&255,3==f&&(j=d[c.charCodeAt(a++)],g.b[l++]=(m<<4|j>>2)&255));this.pos+=b;this.cache.push(g);return g;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==
a)throw"Class not found "+b;b=C.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return C.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return C.createEnum(a,b,d)},unserializeObject:function(a){for(;;){if(this.pos>=
this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!j.Boot.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},
resolveEnum:function(){return null}}:a},__class__:e.Unserializer};x.Storage=function(){};q["ext.Storage"]=x.Storage;x.Storage.__name__=["ext","Storage"];x.Storage.flush=function(){chrome.storage.sync.set("data",e.Seralizer.run(x.Storage.data))};e.Serializer=function(){this.buf=new H;this.cache=[];this.useCache=e.Serializer.USE_CACHE;this.useEnumIndex=e.Serializer.USE_ENUM_INDEX;this.shash=new e.ds.StringMap;this.scount=0};q["haxe.Serializer"]=e.Serializer;e.Serializer.__name__=["haxe","Serializer"];
e.Serializer.run=function(a){var b=new e.Serializer;b.serialize(a);return b.toString()};e.Serializer.prototype={serialize:function(a){var b=C["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=r.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=r.string(a)):this.buf.b+=r.string(0>a?"m":"p");break;case 3:this.buf.b+=r.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);
break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var d=a.length,f=0;f<d;)b=f++,null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=r.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=r.string(c)));this.buf.b+="h";break;case Q:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=r.string(k.dateStr(a));
break;case e.ds.StringMap:this.buf.b+="b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));this.buf.b+="h";break;case e.ds.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=r.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case e.ds.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=c.next(),d=y.field(b,"__id__"),y.deleteField(b,"__id__"),this.serialize(b),b.__id__=d,this.serialize(a.h[b.__id__]);this.buf.b+=
"h";break;case e.io.Bytes:b=0;c=a.length-2;d=new H;for(f=e.Serializer.BASE64;b<c;){var g=a.b[b++],h=a.b[b++],l=a.b[b++];d.b+=r.string(f.charAt(g>>2));d.b+=r.string(f.charAt((g<<4|h>>4)&63));d.b+=r.string(f.charAt((h<<2|l>>6)&63));d.b+=r.string(f.charAt(l&63))}b==c?(g=a.b[b++],h=a.b[b++],d.b+=r.string(f.charAt(g>>2)),d.b+=r.string(f.charAt((g<<4|h>>4)&63)),d.b+=r.string(f.charAt(h<<2&63))):b==c+1&&(g=a.b[b++],d.b+=r.string(f.charAt(g>>2)),d.b+=r.string(f.charAt(g<<4&63)));b=d.b;this.buf.b+="s";this.buf.b+=
r.string(b.length);this.buf.b+=":";this.buf.b+=r.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(C.getClassName(b)),this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(C.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();
this.buf.b+=r.string(this.useEnumIndex?"j":"w");this.serializeString(C.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=r.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";d=a.length;this.buf.b+=r.string(d-2);for(f=2;f<d;)b=f++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+r.string(a);}},serializeFields:function(a){for(var b=0,c=y.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(y.field(a,
d))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var f=c++,e=this.cache[f];if(typeof e==b&&e==a)return this.buf.b+="r",this.buf.b+=r.string(f),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=r.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=n.urlEncode(a),this.buf.b+=r.string(a.length),this.buf.b+=":",this.buf.b+=r.string(a))},toString:function(){return this.buf.b},
__class__:e.Serializer};e.Timer=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};q["haxe.Timer"]=e.Timer;e.Timer.__name__=["haxe","Timer"];e.Timer.delay=function(a,b){var c=new e.Timer(b);c.run=function(){c.stop();a()};return c};e.Timer.stamp=function(){return(new Date).getTime()/1E3};e.Timer.prototype={run:function(){console.log("run")},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:e.Timer};e.ds.IntMap=function(){this.h={}};q["haxe.ds.IntMap"]=
e.ds.IntMap;e.ds.IntMap.__name__=["haxe","ds","IntMap"];e.ds.IntMap.__interfaces__=[A];e.ds.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return k.iter(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:e.ds.IntMap};e.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};q["haxe.ds.ObjectMap"]=e.ds.ObjectMap;e.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];e.ds.ObjectMap.__interfaces__=[A];e.ds.ObjectMap.prototype={keys:function(){var a=
[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return k.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=++e.ds.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:e.ds.ObjectMap};e.io={};e.io.Bytes=function(a,b){this.length=a;this.b=b};q["haxe.io.Bytes"]=e.io.Bytes;e.io.Bytes.__name__=["haxe","io","Bytes"];e.io.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new e.io.Bytes(a,b)};e.io.Bytes.prototype={__class__:e.io.Bytes};
j.Browser=function(){};q["js.Browser"]=j.Browser;j.Browser.__name__=["js","Browser"];j.Browser.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw"Unable to create XMLHttpRequest object.";};var Z=0;Array.prototype.indexOf&&(k.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0});"undefined"!=typeof JSON&&(e.Json=JSON);String.prototype.__class__=
q.String=String;String.__name__=["String"];Array.prototype.__class__=q.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=q.Date=Date;Date.__name__=["Date"];var X=q.Int={__name__:["Int"]},$=q.Dynamic={__name__:["Dynamic"]},Y=q.Float=Number;Y.__name__=["Float"];var W=q.Bool=Boolean;W.__ename__=["Bool"];var aa=q.Class={__name__:["Class"]},ba={};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;q.Math=
Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};s.Element="element";s.PCData="pcdata";s.CData="cdata";s.Comment="comment";s.DocType="doctype";s.ProcessingInstruction="processingInstruction";s.Document="document";x.Storage.data=new e.ds.StringMap;chrome.storage.sync.get("data",function(a){null!=a&&j.Boot.__instanceof(a,String)&&(x.Storage.data=e.Unserializer.run(a))});t.regex=new g("\\?count=([0-9]*)&after=([a-z0-9_]*)","");t.count=50;t.canLoad=!0;u.buttons=
[];u.toggled=!1;u.queue=0;m.keys=[];m.konami=[38,38,40,40,37,39,37,39,66,65];E.words=["wubba","mcwubber","dubba","dadubber"];E.filter=new g("[a-zA-Z]*","");h.fullPage=!0;B.regex=[{from:new g("\\[\\[Category:([^\\]]*)\\]\\]",""),to:""},{from:new g("\\[\\[([^\\]\n]*)\\|([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$2</a>'},{from:new g("\\[\\[([^\\]\\|\n]*)\\]\\]",""),to:'<a href="$BASE/wiki/$1">$1</a>'},{from:new g("<gallery>(.|\n|\n\r)*</gallery>",""),to:""},{from:new g("\\[\\[File:([^\\]]*)\\]\\]",
""),to:""},{from:new g("(=*) ?(References|Gallery) ?\\1.*\\1?",""),to:""},{from:new g("{{spaced ndash}}",""),to:" - "},{from:new g("{{HMS\\|([^\\|]*)\\|[0-9]*\\|[0-9]*}}",""),to:"$1"},{from:new g("\\{\\{convert\\|([0-9]*)\\|([^\\|]*)([^\\}]*)\\}\\}",""),to:"$1 $2"},{from:new g("\\{\\{([^\\}]*)\\}\\}",""),to:""},{from:new g("\\{\\|(.|\n|\n\r)*\\|\\}",""),to:""},{from:new g("\\[([^ \\[\\]]*) ([^\\[\\]]*)\\]",""),to:""},{from:new g("'''([^']*)'''",""),to:"<b>$1</b>"},{from:new g("''([^']*)''",""),to:"<em>$1</em>"},
{from:new g("======([^=]*)======",""),to:"<h6>$1</h6>"},{from:new g("=====([^=]*)=====",""),to:"<h5>$1</h5>"},{from:new g("====([^=]*)====",""),to:"<h4>$1</h4>"},{from:new g("===([^=]*)===",""),to:"<h3>$1</h3>"},{from:new g("==([^=]*)==",""),to:"<h2>$1</h2>"},{from:new g("\n\\* ?([^\n]*)",""),to:"<li>$1</li>"},{from:new g("<ref>[^<>]*</ref>",""),to:""},{from:new g("\n\r?\n\r?",""),to:"<br>"},{from:new g("\n",""),to:""},{from:new g("<br><br>",""),to:"<br>"},{from:new g("\x3c!--Interwiki links--\x3e.*",
""),to:""},{from:new g("\\[\\]",""),to:""}];B.sections=new g("'=(=*)([^=]*)=\\\\1\n\r?(.|\n|\n\r)*(\\\\1)?'","");B.IMAGES=new g("(File:|img=|Image:)([^\\.\\|\\]\\}\\{\\[<>=]*)\\.(gif|jpg|jpeg|bmp|png|webp|svg|raw)(\\|([^\\)]*))?","");D.images=new g("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)","");D.regex=[{from:new g("(\\*\\*|__)([^\\1\n]*?)\\1",""),to:"<b>$2</b>"},{from:new g("(\\*|_)([^\\1\n]*?)\\1",""),to:"<em>$2</em>"},{from:new g("^[\\*|+|-] (.*)$","m"),to:"<ul><li>$1</li></ul>"},{from:new g("</ul><ul>",
""),to:""},{from:new g("\n> ([^\n\r]*)",""),to:"<blockquote>$1</blockquote>"},{from:new g("</blockquote>\n?\r?<blockquote>$",""),to:""},{from:new g("~~([^~]*?)~~",""),to:"<del>$1</del>"},{from:new g("\\^([^\\^]+)",""),to:"<sup>$1</sup>"},{from:new g(':"([^:"]*?)":',""),to:"<q>$1</q>"},{from:D.images,to:""},{from:new g("\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",""),to:'<a href="$2">$1</a>'},{from:new g("!\\[([^\\]\\(]*)]\\(([^\\)]*)\\)",""),to:""},{from:new g("(.*)\n\r?(==+)\n",""),to:"<h2>$1</h2>"},{from:new g("(.*)\n\r?((-|#)+)\n",
""),to:"<h3>$1</h3>"},{from:new g("(```*)([^`]+)\\1","m"),to:"<code>$2</code>"},{from:new g("<pre>(.*)\n\n(.*)</pre>",""),to:"<pre>$1\n$2</pre>"},{from:new g("\n\n+",""),to:"<br>\n"}];D.header=new g("^([#|=]+)([^#=]+)\\1?$","m");var A=e.xml.Parser,J=new e.ds.StringMap;J.set("lt","<");J.set("gt",">");J.set("amp","&");J.set("quot",'"');J.set("apos","'");J.set("nbsp",String.fromCharCode(160));A.escapes=J;z.HTML_IMG=new g('<img .*?src="([^"]*)"/?>',"");z.sites=[{regex:new g(".*\\.(jpeg|gif|jpg|bmp|png|webp)",
"i"),method:function(a,b){b([{url:"http://"+a.matched(0),caption:null,author:null}])}},{regex:new g("i?\\.?imgur.com/(a|gallery)/([^/]*)(/.*)?",""),method:function(a,b){var c=a.matched(2),d;switch(a.matched(1).toLowerCase()){case "a":d="album";break;case "gallery":d="gallery/album";break;default:d="album"}h.getJSON("https://api.imgur.com/3/"+d+"/"+c,function(a){var c=[];if(0>=a.images_count)c.push({url:"http://i.imgur.com/"+a.id+".jpg",caption:a.title,author:a.account_url});else for(var d=0,e=a.images;d<
e.length;){var g=e[d];++d;c.push({url:"http://i.imgur.com/"+g.id+".jpg",caption:g.title,author:a.account_url})}b(c)},"Client-ID cc1f254578d6c52")}},{regex:new g("imgur\\.com/(r/[^/]*/)?([a-zA-Z0-9,]*)",""),method:function(a,b){for(var c=(null==a.matched(1)||-1!=a.matched(1).indexOf("/")?a.matched(2):a.matched(1)).split(","),d=[],f=0;f<c.length;){var e=c[f];++f;d.push({url:"http://i.imgur.com/"+e+".jpg",caption:null,author:null})}b(d)}},{regex:new g("(qkme\\.me/3piqes\\?id=|qkme\\.me/|quickmeme\\.com/meme/|m\\.quickmeme.com/meme/)([^/]*)",
""),method:function(a,b){b([{url:"http://i.qkme.me/"+a.matched(2)+".jpg",caption:null,author:null}])}},{regex:new g("memecrunch.com/meme/([^/]*)/([^/]*)",""),method:function(a,b){b([{url:"http://"+a.matched(0)+"/image.png",caption:null,author:null}])}},{regex:new g("memegenerator\\.net/instance/([^/]*)",""),method:function(a,b){b([{url:"http://cdn.memegenerator.net/instances/400x/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new g("imgflip\\.com/i/([^/]*)",""),method:function(a,b){b([{url:"http://i.imgflip.com/"+
a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new g("what-if.xkcd.com/([0-9]*)",""),method:function(){}},{regex:new g("xkcd.com/([0-9]*)",""),method:function(a,b){h.getJSON("http://www.xkcd.com/"+a.matched(1)+"/info.0.json",function(a){b([{url:a.img,caption:a.title,author:null}])})}},{regex:new g("explosm.net/comics/([0-9]*)",""),method:function(a,b){h.getText("http://www."+a.matched(0),function(c){var d=new g('"http://www\\.explosm\\.net/db/files/Comics/([^"]*)"',"");if(d.match(c))b([{url:d.matched(0).substring(1,
d.matched(0).length-1),caption:null,author:null}]);else throw""+r.string(d)+" not matched by "+a.matched(0)+" in "+c;})}},{regex:new g("livememe.com/([^/]*)",""),method:function(a,b){b([{url:"http://livememe.com/"+a.matched(1)+".jpg",caption:null,author:null}])}},{regex:new g("(([^\\.]*\\.)?deviantart\\.com/art|fav\\.me)/.*",""),method:function(a,b){h.getJSON("http://backend.deviantart.com/oembed?url="+n.urlEncode(a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},
{regex:new g("flickr\\.com/photos/.*",""),method:function(a,b){h.getJSON("http://www.flickr.com/services/oembed/?url="+n.urlEncode("http://www."+a.matched(0))+"&format=json",function(a){b([{url:a.url,caption:a.title,author:a.author_name}])})}},{regex:new g("ebay\\.([a-zA-Z\\.]*)/itm(/[^/]*)?/([0-9]*)",""),method:function(a,b){a.matched(1);var c="http://open.api.ebay.com/shopping?callname=GetSingleItem&responseencoding=JSON&appid=ThomasDa-1e6c-4d29-a156-85557acee70b&siteid=0&version=515&ItemID="+a.matched(3)+
"&IncludeSelector=TextDescription";h.getJSON(c,function(a){var c=a.Item.PictureURL.map(function(a){return{url:a,caption:null,author:null}});b({title:a.Item.Title,category:a.Item.PrimaryCategoryName,location:a.Item.Location+", "+a.Item.Country,description:z.filterHTML(a.Item.Description),images:c,price:h.formatPrice(a.Item.ConvertedCurrentPrice.Value)+" "+a.Item.ConvertedCurrentPrice.CurrencyID})})}},{regex:new g("([^\\.]*\\.wordpress\\.com|wp\\.me|techcrunch\\.com|news\\.blogs\\.cnn\\.com|snoopdogg\\.com|usainbolt\\.com|katiecouric\\.com|rollingstones\\.com|variety\\.com|bbcamerica\\.com)/(.*)?",
""),method:function(a,b){var c="http://"+a.matched(0);h.getJSON("http://public-api.wordpress.com/oembed/?url="+n.urlEncode(c)+"&for=Reditn",function(a){var c=[];null!=a.thumbnail_url&&c.push({caption:null,url:a.thumbnail_url,author:null});b({author:a.author_name,content:z.filterHTML(a.html),images:c})})}},{regex:new g("(.*)/wiki/([^#]*)(#.*)?",""),method:function(a,b){var c="http://"+a.matched(1),d=a.matched(2),f=a.matched(3);null!=f&&(f=n.trim(k.substr(f,1,null)));null!=f&&0==f.length&&(f=null);
var e=c;n.endsWith(e,".wikia.com")||(e+="/w");var g=null,g=function(a){h.getJSON(""+e+"/api.php?format=json&prop=revisions&action=query&titles="+a+"&rvprop=content",function(a){a=a.query.pages;for(var d=0,l=y.fields(a);d<l.length;){var j=l[d];++d;var j=[y.field(a,j)],m=[y.field(j[0].revisions[0],"*")];if(n.startsWith(m[0],"#REDIRECT [[")){g(m[0].substring(12,m[0].lastIndexOf("]]")));break}var q=[B.getAlbum(m[0])];null!=f&&(m[0]=B.trimTo(m[0],f));m[0]=B.parse(m[0],c);if(0<q[0].length)for(var s=[[]],
t=0;t<q[0].length;){var u=[q[0][t]];++t;h.getJSON(""+e+"/api.php?action=query&titles="+n.urlEncode(u[0].url)+"&prop=imageinfo&iiprop=url&format=json",function(a,c,d,f,e){return function(g){g=g.query.pages;for(var h=0,l=y.fields(g);h<l.length;){var j=l[h];++h;j=y.field(g,j);null!=j&&null!=j.imageinfo?c[0].push({url:j.imageinfo[0].url,caption:a[0].caption,author:null}):(console.log("Error whilst processing "+r.string(j)+" for "+a[0].url),k.remove(d[0],a[0]))}c[0].length>=d[0].length&&b({title:e[0].title,
content:f[0],author:null,images:c[0]})}}(u,s,q,m,j))}else b({title:j[0].title,content:m[0],author:null,images:null})}})};g(d)}},{regex:new g("github\\.com/([^/]*)/([^/]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2);h.getJSON("https://api.github.com/repos/"+c+"/"+d+"/readme?client_id=39d85b9ac427f1176763&client_secret=5117570b83363ca0c71a196edc5b348af150c25d",function(a){if(null!=a.content){a=a.content;a=n.replace(a,"\n","");a=n.trim(a);a=window.atob(a);for(var e=D.images,g=[],h=a;e.match(h);){var j=
e.matched(2);j.indexOf(".")==j.lastIndexOf(".")&&(n.startsWith(j,"/")&&(j=k.substr(j,1,null)),j="https://github.com/"+c+"/"+d+"/raw/master/"+j);g.push({url:j,caption:e.matched(1),author:c});h=k.substr(h,e.matchedPos().pos+e.matchedPos().len,null)}b({name:d,developers:[c],description:D.parse(a),url:"git://github.com/"+c+"/"+d+".git",album:g})}})}},{regex:new g("sourceforge.net/projects/([a-zA-Z-]*)",""),method:function(a,b){h.getJSON("http://sourceforge.net/api/project/name/"+a.matched(1)+"/json",
function(a){a=a.Project;for(var d=a.developers,f=a.name,e=a.description,g=[],h=0;h<d.length;)++h,g.push(a.name);for(var j=y.field(a,"download-page"),d=0,h=y.fields(a);d<h.length;){var m=h[d];++d;n.endsWith(m,"Repository")&&(j=k.substr(m,0,m.length-10).toLowerCase(),m=y.field(a,m).location,j=n.replace(m,"http:",""+j+":"))}b({name:f,description:e,developers:g,url:j,album:[]})})}},{regex:new g("(digitaltrends\\.com|webupd8\\.org|doctorwho\\.tv)/.*",""),method:function(a,b){h.getText("http://www."+a.matched(0),
function(a){var d=new g("<title>(.*)</title>","");d.match(a)&&(a=k.substr(a,a.indexOf("<article"),null),a=k.substr(a,a.indexOf(">")+1,null),a=k.substr(a,0,a.indexOf("</article>")),a=z.filterHTML(a),b({title:d.matched(1),content:a,author:null,images:[]}))})}},{regex:new g("([^\\.]*)\\.tumblr\\.com/(post|image)/([0-9]*)(/.*)?",""),method:function(a,b){var c=a.matched(1),d=a.matched(3);h.getJSON("http://api.tumblr.com/v2/blog/"+c+".tumblr.com/posts/json?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE&id="+
d,function(a){var c=a.posts[0];switch(c.type){case "text":for(var d=[];z.HTML_IMG.match(c.body);)d.push({url:z.HTML_IMG.matched(1),caption:null,author:a.blog.name}),c.body=z.HTML_IMG.replace(c.body,"");c.body=z.filterHTML(c.body);a={title:c.title,content:c.body,author:a.blog.name,images:d};break;case "quote":a={title:null,content:r.string(c.text)+"<br/><b>"+r.string(c.source)+"</b>",author:a.blog.name,images:[]};break;case "photo":for(var c=c.photos,d=[],e=0;e<c.length;){var g=c[e];++e;d.push({url:g.original_size.url,
caption:g.caption,author:a.blog.name})}a=d;break;default:a=null}b(a)})}},{regex:new g(".*\\.tumblr\\.com",""),method:function(a,b){h.getJSON("http://api.tumblr.com/v2/blog/"+n.urlEncode(a.matched(0))+"/info?api_key=k6pU8NIG57YiPAtXFD5s9DGegNPBZIpMahvbK4d794JreYIyYE",function(a){b({urls:new e.ds.StringMap,name:a.blog.title,description:z.filterHTML(a.blog.description),album:[]})})}},{regex:new g("twitter.com/.*/status/([0-9]*)",""),method:function(a,b){h.getJSON("https://api.twitter.com/1/statuses/oembed.json?id="+
a.matched(1),function(a){b({title:null,author:a.author_name,content:z.filterHTML(a.html),images:[]})})}},{regex:new g("amazon\\.[a-z\\.]*/gp/product/([0-9A-Z]*)",""),method:function(a){a=a.matched(1);h.getXML("http://webservices.amazon.com/onca/xml?AWSAccessKeyId=AKIAJMR3XPXGBMZJE6IA&Service=AWSECommerceService&Operation=ItemLookup&ItemId="+a,function(a){console.log(a)})}},{regex:new g("plus\\.google\\.com/([0-9]*)/posts/([a-zA-Z]*)",""),method:function(a,b){var c=a.matched(1),d=a.matched(2),f=new g("<b>([^>]*)</b><br />",
""),e=null,e=function(g){h.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"/activities/public?fields=items(id%2Curl)%2CnextPageToken&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o"+(null==g?"":"&requestToken="+g),function(c){var g=c.items;a.matched(0);for(var j=0;j<g.length;){var k=g[j];++j;if(-1!=k.url.indexOf(d)){h.getJSON("https://www.googleapis.com/plus/v1/activities/"+r.string(k.id)+"?fields=actor%2FdisplayName%2Cannotation%2Cobject(actor%2Cattachments%2Ccontent%2Cid%2CobjectType%2CoriginalContent%2Curl)&key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",
function(a){var c=a.object.objectType,d=a.actor.actorName,e=a.object.content;f.match(e);switch(c){case "note":a=f.matched(1);e=f.replace(e,"");e=z.filterHTML(e);b({title:a,author:d,content:e,images:[]});break;default:d=a.object.attachments;e=[];for(c=0;c<d.length;){var g=d[c];++c;e.push({url:g.image.url,caption:0==g.content.length?a.object.content:g.content,author:null})}b(e)}});return}}0!=c.items.length&&e(c.requestToken)})};e()}},{regex:new g("facebook.com/photo\\.php\\?v=([0-9]*)",""),method:function(a,
b){a.matched(1);b([{caption:null,url:"http://graph.facebook.com/${id}/picture?type=small&access_token=CAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrCAAFdBpahq7IBAFZBcSH9UOZAaREy2V3hSd2e0D9liaI48X5xavt3lI8rwdXd6YTizhZAip1D3cY4XriGV7FxZAH7HmFe3Khnj7sFATZAKiKZAHx5qJwLcRHwc2ZBH7ePQw5T7eZBUeRZBM7A5YymTPxjrf",author:null}])}},{regex:new g("facebook\\.com/([a-zA-Z0-9]*)",""),method:function(a,b){var c=
a.matched(1);b({album:[{url:"https://graph.facebook.com/"+c+"/picture?type=large",caption:null,author:null}],urls:new e.ds.StringMap})}},{regex:new g("plus\\.google.com/u?/?[0-9]*/([0-9]*)(/about)?",""),method:function(a,b){var c=a.matched(1);h.getJSON("https://www.googleapis.com/plus/v1/people/"+c+"?key=AIzaSyC-LFpB6Y-kC6re81ohFnPIvO4hbJYGS3o",function(a){var c=a.urls,g=new e.ds.StringMap;if(null!=c)for(var h=0;h<c.length;){var j=c[h];++h;g.set(j.label,j.value)}null!=a.urls&&(null!=a.displayName&&
null!=a.aboutMe)&&b({urls:g,name:a.displayName,description:a.aboutMe,album:[{url:a.image.url,caption:null,author:a.displayName}]})})}},{regex:new g("reddit\\.com/r/([a-zA-Z0-9]*)",""),method:function(a,b){h.getJSON("http://www."+a.matched(0)+"/about.json",function(a){b(a)})}},{regex:new g("gamejolt.com/games/[^/]*/[^/]*/([0-9]*)",""),method:function(a){a=a.matched(1);h.getJSON("http://gamejolt.com/service/games/"+a+"?format=json",function(a){console.log(a)})}},{regex:new g("(0rz\\.tw|1link\\.in|1url\\.com|2\\.gp|2big\\.at|2tu\\.us|3\\.ly|307\\.to|4ms\\.me|4sq\\.com|4url\\.cc|6url\\.com|7\\.ly|a\\.gg|a\\.nf|aa\\.cx|abcurl\\.net|ad\\.vu|adf\\.ly|adjix\\.com|afx\\.cc|all\\.fuseurl\\.com|alturl\\.com|amzn\\.to|ar\\.gy|arst\\.ch|atu\\.ca|azc\\.cc|b23\\.ru|b2l\\.me|bacn\\.me|bcool\\.bz|binged\\.it|bit\\.ly|bizj\\.us|bloat\\.me|bravo\\.ly|bsa\\.ly|budurl\\.com|canurl\\.com|chilp\\.it|chzb\\.gr|cl\\.lk|cl\\.ly|clck\\.ru|cli\\.gs|cliccami\\.info|clickthru\\.ca|clop\\.in|conta\\.cc|cort\\.as|cot\\.ag|crks\\.me|ctvr\\.us|cutt\\.us|dai\\.ly|decenturl\\.com|dfl8\\.me|digbig\\.com|digg\\.com|disq\\.us|dld\\.bz|dlvr\\.it|do\\.my|doiop\\.com|dopen\\.us|easyuri\\.com|easyurl\\.net|eepurl\\.com|eweri\\.com|fa\\.by|fav\\.me|fb\\.me|fbshare\\.me|ff\\.im|fff\\.to|fire\\.to|firsturl\\.de|firsturl\\.net|flic\\.kr|flq\\.us|fly2\\.ws|fon\\.gs|freak\\.to|fuseurl\\.com|fuzzy\\.to|fwd4\\.me|fwib\\.net|g\\.ro\\.lt|gizmo\\.do|gl\\.am|go\\.9nl\\.com|go\\.ign\\.com|go\\.usa\\.gov|goo\\.gl|goshrink\\.com|gurl\\.es|hex\\.io|hiderefer\\.com|hmm\\.ph|href\\.in|hsblinks\\.com|htxt\\.it|huff\\.to|hulu\\.com|hurl\\.me|hurl\\.ws|icanhaz\\.com|idek\\.net|ilix\\.in|is\\.gd|its\\.my|ix\\.lt|j\\.mp|jijr\\.com|kl\\.am|klck\\.me|korta\\.nu|krunchd\\.com|l9k\\.net|lat\\.ms|liip\\.to|liltext\\.com|linkbee\\.com|linkbun\\.ch|liurl\\.cn|ln-s\\.net|ln-s\\.ru|lnk\\.gd|lnk\\.ms|lnkd\\.in|lnkurl\\.com|lru\\.jp|lt\\.tl|lurl\\.no|macte\\.ch|mash\\.to|merky\\.de|migre\\.me|miniurl\\.com|minurl\\.fr|mke\\.me|moby\\.to|moourl\\.com|mrte\\.ch|myloc\\.me|myurl\\.in|n\\.pr|nbc\\.co|nblo\\.gs|nn\\.nf|not\\.my|notlong\\.com|nsfw\\.in|nutshellurl\\.com|nxy\\.in|nyti\\.ms|o-x\\.fr|oc1\\.us|om\\.ly|omf\\.gd|omoikane\\.net|on\\.cnn\\.com|on\\.mktw\\.net|onforb\\.es|orz\\.se|ow\\.ly|ping\\.fm|pli\\.gs|pnt\\.me|politi\\.co|post\\.ly|pp\\.gg|profile\\.to|ptiturl\\.com|pub\\.vitrue\\.com|qlnk\\.net|qte\\.me|qu\\.tc|qy\\.fi|r\\.im|rb6\\.me|read\\.bi|readthis\\.ca|reallytinyurl\\.com|redir\\.ec|redirects\\.ca|redirx\\.com|retwt\\.me|ri\\.ms|rickroll\\.it|riz\\.gd|rt\\.nu|ru\\.ly|rubyurl\\.com|rurl\\.org|rww\\.tw|s4c\\.in|s7y\\.us|safe\\.mn|sameurl\\.com|sdut\\.us|shar\\.es|shink\\.de|shorl\\.com|short\\.ie|short\\.to|shortlinks\\.co\\.uk|shorturl\\.com|shout\\.to|show\\.my|shrinkify\\.com|shrinkr\\.com|shrt\\.fr|shrt\\.st|shrten\\.com|shrunkin\\.com|simurl\\.com|slate\\.me|smallr\\.com|smsh\\.me|smurl\\.name|sn\\.im|snipr\\.com|snipurl\\.com|snurl\\.com|sp2\\.ro|spedr\\.com|srnk\\.net|srs\\.li|starturl\\.com|su\\.pr|surl\\.co\\.uk|surl\\.hu|t\\.cn|t\\.co|t\\.lh\\.com|ta\\.gd|tbd\\.ly|tcrn\\.ch|tgr\\.me|tgr\\.ph|tighturl\\.com|tiniuri\\.com|tiny\\.cc|tiny\\.ly|tiny\\.pl|tinylink\\.in|tinyuri\\.ca|tinyurl\\.com|tk\\.|tl\\.gd|tmi\\.me|tnij\\.org|tnw\\.to|tny\\.com|to\\.|to\\.ly|togoto\\.us|totc\\.us|toysr\\.us|tpm\\.ly|tr\\.im|tra\\.kz|trunc\\.it|twhub\\.com|twirl\\.at|twitclicks\\.com|twitterurl\\.net|twitterurl\\.org|twiturl\\.de|twurl\\.cc|twurl\\.nl|u\\.mavrev\\.com|u\\.nu|u76\\.org|ub0\\.cc|ulu\\.lu|updating\\.me|ur1\\.ca|url\\.az|url\\.co\\.uk|url\\.ie|url360\\.me|url4\\.eu|urlborg\\.com|urlbrief\\.com|urlcover\\.com|urlcut\\.com|urlenco\\.de|urli\\.nl|urls\\.im|urlshorteningservicefortwitter\\.com|urlx\\.ie|urlzen\\.com|usat\\.ly|use\\.my|vb\\.ly|vgn\\.am|vl\\.am|vm\\.lc|w55\\.de|wapo\\.st|wapurl\\.co\\.uk|wipi\\.es|wp\\.me|x\\.vu|xr\\.com|xrl\\.in|xrl\\.us|xurl\\.es|xurl\\.jp|y\\.ahoo\\.it|yatuc\\.com|ye\\.pe|yep\\.it|yfrog\\.com|yhoo\\.it|yiyd\\.com|youtu\\.be|yuarel\\.com|z0p\\.de|zi\\.ma|zi\\.mu|zipmyurl\\.com|zud\\.me|zurl\\.ws|zz\\.gd|zzang\\.kr|r\\.ebay\\.com)/.*",
""),method:function(a,b){var c=n.urlEncode("http://"+a.matched(0));h.getJSON("http://api.longurl.org/v2/expand?url="+c+"&format=json&User-Agent=Reditn",function(a){a=y.field(a,"long-url");a=z.resolve(a);null!=a&&a.method(a.regex,b)})}},{regex:new g("(youtube\\.com/watch|youtu\\.be/).*",""),method:function(a,b){var c="http://www."+a.matched(0);h.getJSON("http://www.youtube.com/oembed?url="+n.urlEncode(c),function(a){b({title:a.title,html:a.html,author:a.author_name})})}},{regex:new g("vine\\.co/v/(.*)",
""),method:function(a,b){var c=a.matched(1);b({title:null,author:null,html:'<iframe class="vine-embed" src="https://vine.co/v/'+c+'/embed/simple" width="610" height="348" frameborder="0"></iframe><script async src="//platform.vine.co/static/scripts/embed.js" charset="utf-8">\x3c/script>'})}},{regex:new g("vimeo\\.com/([0-9]*)",""),method:function(a,b){var c=a.matched(1);h.getJSON("http://vimeo.com/api/oembed.json?url=http%3A//vimeo.com/"+c+"&maxwidth=500",function(a){b({title:null,author:null,html:a.html})})}},
{regex:new g("viewrz\\.com/video/([a-z-A-Z0-9]*)",""),method:function(a,b){var c=a.matched(1);console.log(c);b({title:null,author:null,html:'<iframe height="310" width="480"  src="http://viewrz.com/embed/'+c+'" frameborder="0"></iframe>'})}},{regex:new g("reddit\\.com/r/[^/]*/comments/[0-9a-zA-Z]*/[^/]*/([0-9a-zA-Z]*)",""),method:function(a,b){a.matched(1);h.getJSON("http://www."+a.matched(0)+".json",function(a){a=a[0].data.children[0].data;if(null!=a&&null!=a.selftext_html){var d=n.htmlUnescape(a.selftext_html),
d=d.substring(d.indexOf(">")+1,d.lastIndexOf("<")-1);b({title:a.title,author:a.author,content:d,images:null})}})}},{regex:new g("reddit\\.com/r/[^/]*/comments/([0-9a-zA-Z]*)",""),method:function(a,b){h.getJSON("http://www."+a.matched(0)+".json",function(a){a=a[0].data.children[0].data;if(null==a.selftext_html)a=z.resolve(a.url),null!=a&&a.method(a.regex,b);else{var d=n.htmlUnescape(a.selftext_html),d=d.substring(d.indexOf(">")+1,d.lastIndexOf("<")-1);b({title:a.title,author:a.author,content:d,images:null})}})}},
{regex:new g("imdb.com/title/([a-zA-Z0-9]*)",""),method:function(a,b){var c=a.matched(1);h.getJSON("http://www.omdbapi.com/?i="+c,function(a){var c=new e.ds.StringMap;null!=a.Writer&&c.set("Writers",[a.Writer]);null!=a.Director&&c.set("Director",[a.Director]);null!=a.Actors&&c.set("Actors",a.Actors.split(", "));a={title:a.Title,year:a.Year,certificate:a.Rated,released:a.Released,length:a.Duration,roles:c,plot:a.Plot,images:[{url:a.Poster}]};console.log(a);b(a)})}}];z.HTML_FILTERS=[z.HTML_IMG,new g("<meta[^>]*/>",
"g"),new g("<(h1|header)[^>]*>.*</\\1>","g"),new g("<table([^>]*)>(.|\n|\n\r)*</table>","gm"),new g('<div class="(seperator|ga-ads)"[^>]*>(.|\n|\n\r)*</div>',"g"),new g("<([^>]*)( [^>]*)?></\\1>","g"),new g("<script[^>/]*/>","g"),new g("<script[^>/]*>\x3c/script>","g"),new g('style ?= ?"[^"]*"',"g")];z.HTML_CLEANERS=[{from:new g('<div class="md">(.*)</div>',"g"),to:"$1"},{from:new g('<blockquote class="twitter-tweet">(.*)</blockquote>',"g"),to:"$1"},{from:new g("(!|\\.|,|\\?)(^ \n\t\r)","g"),to:"$1 $2"},
{from:new g("(!|\\.|,|\\?)( *)","g"),to:"$1 "},{from:new g("(<br></br>|<br/>|<br />)(<br></br>|<br/>|<br />)","g"),to:"<br/>"}];A=new e.ds.StringMap;A.set("adblock",{def:!0,desc:"Block advertisements and sponsors"});A.set("userinfo",{def:!0,desc:"Show information about a user upon hover"});A.set("subinfo",{def:!0,desc:"Show information about a subreddit upon hover"});A.set("expand",{def:!0,desc:"Allow expansion of articles, images, albums and the like"});A.set("text-expand",{def:!0,desc:"Allow expansion of links found in comments and posts"});
A.set("dup-hider",{def:!0,desc:"Hide duplicates"});A.set("user-tag",{def:!0,desc:"Tag users with nicknames"});A.set("sub-tag",{def:!0,desc:"Tag subreddits with nicknames"});A.set("autoscroll",{def:!0,desc:"Seamless scrolling between pages"});A.set("preview",{def:!0,desc:"Preview comments and self posts before they are publishes"});A.set("keyboard",{def:!1,desc:"Keyboard navigation of the links in the page"});A.set("nsfw-filter",{def:!1,desc:"Filter NSFW posts"});A.set("user-tags",{def:new e.ds.StringMap,
desc:null});A.set("sub-tags",{def:new e.ds.StringMap,desc:null});F.settings=A;x.Browser.nid=0;e.Unserializer.DEFAULT_RESOLVER=C;e.Unserializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";e.Serializer.USE_CACHE=!1;e.Serializer.USE_ENUM_INDEX=!1;e.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";e.ds.ObjectMap.count=0;j.Browser.window="undefined"!=typeof window?window:null;j.Browser.document="undefined"!=typeof window?window.document:
null;h.main()})();
